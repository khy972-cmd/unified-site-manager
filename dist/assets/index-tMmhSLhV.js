var Df=e=>{throw TypeError(e)};var Bc=(e,t,r)=>t.has(e)||Df("Cannot "+r);var C=(e,t,r)=>(Bc(e,t,"read from private field"),r?r.call(e):t.get(e)),ne=(e,t,r)=>t.has(e)?Df("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Y=(e,t,r,n)=>(Bc(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),de=(e,t,r)=>(Bc(e,t,"access private method"),r);var Ci=(e,t,r,n)=>({set _(s){Y(e,t,s,r)},get _(){return C(e,t,n)}});function xv(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function Cx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ex={exports:{}},ac={},Tx={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ui=Symbol.for("react.element"),gv=Symbol.for("react.portal"),bv=Symbol.for("react.fragment"),yv=Symbol.for("react.strict_mode"),vv=Symbol.for("react.profiler"),wv=Symbol.for("react.provider"),jv=Symbol.for("react.context"),kv=Symbol.for("react.forward_ref"),_v=Symbol.for("react.suspense"),Nv=Symbol.for("react.memo"),Sv=Symbol.for("react.lazy"),Mf=Symbol.iterator;function Cv(e){return e===null||typeof e!="object"?null:(e=Mf&&e[Mf]||e["@@iterator"],typeof e=="function"?e:null)}var Px={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rx=Object.assign,Ox={};function qo(e,t,r){this.props=e,this.context=t,this.refs=Ox,this.updater=r||Px}qo.prototype.isReactComponent={};qo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ax(){}Ax.prototype=qo.prototype;function hh(e,t,r){this.props=e,this.context=t,this.refs=Ox,this.updater=r||Px}var fh=hh.prototype=new Ax;fh.constructor=hh;Rx(fh,qo.prototype);fh.isPureReactComponent=!0;var $f=Array.isArray,Ix=Object.prototype.hasOwnProperty,ph={current:null},Lx={key:!0,ref:!0,__self:!0,__source:!0};function Dx(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Ix.call(t,n)&&!Lx.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:ui,type:e,key:o,ref:i,props:s,_owner:ph.current}}function Ev(e,t){return{$$typeof:ui,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mh(e){return typeof e=="object"&&e!==null&&e.$$typeof===ui}function Tv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ff=/\/+/g;function qc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Tv(""+e.key):t.toString(36)}function al(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ui:case gv:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+qc(i,0):n,$f(s)?(r="",e!=null&&(r=e.replace(Ff,"$&/")+"/"),al(s,t,r,"",function(u){return u})):s!=null&&(mh(s)&&(s=Ev(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Ff,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",$f(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+qc(o,l);i+=al(o,t,r,c,s)}else if(c=Cv(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+qc(o,l++),i+=al(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ei(e,t,r){if(e==null)return e;var n=[],s=0;return al(e,n,"","",function(o){return t.call(r,o,s++)}),n}function Pv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yt={current:null},il={transition:null},Rv={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:il,ReactCurrentOwner:ph};function Mx(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Ei,forEach:function(e,t,r){Ei(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ei(e,function(){t++}),t},toArray:function(e){return Ei(e,function(t){return t})||[]},only:function(e){if(!mh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=qo;he.Fragment=bv;he.Profiler=vv;he.PureComponent=hh;he.StrictMode=yv;he.Suspense=_v;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rv;he.act=Mx;he.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Rx({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=ph.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Ix.call(t,c)&&!Lx.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ui,type:e.type,key:s,ref:o,props:n,_owner:i}};he.createContext=function(e){return e={$$typeof:jv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wv,_context:e},e.Consumer=e};he.createElement=Dx;he.createFactory=function(e){var t=Dx.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:kv,render:e}};he.isValidElement=mh;he.lazy=function(e){return{$$typeof:Sv,_payload:{_status:-1,_result:e},_init:Pv}};he.memo=function(e,t){return{$$typeof:Nv,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=il.transition;il.transition={};try{e()}finally{il.transition=t}};he.unstable_act=Mx;he.useCallback=function(e,t){return yt.current.useCallback(e,t)};he.useContext=function(e){return yt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return yt.current.useDeferredValue(e)};he.useEffect=function(e,t){return yt.current.useEffect(e,t)};he.useId=function(){return yt.current.useId()};he.useImperativeHandle=function(e,t,r){return yt.current.useImperativeHandle(e,t,r)};he.useInsertionEffect=function(e,t){return yt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return yt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return yt.current.useMemo(e,t)};he.useReducer=function(e,t,r){return yt.current.useReducer(e,t,r)};he.useRef=function(e){return yt.current.useRef(e)};he.useState=function(e){return yt.current.useState(e)};he.useSyncExternalStore=function(e,t,r){return yt.current.useSyncExternalStore(e,t,r)};he.useTransition=function(){return yt.current.useTransition()};he.version="18.3.1";Tx.exports=he;var m=Tx.exports;const H=Cx(m),$x=xv({__proto__:null,default:H},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov=m,Av=Symbol.for("react.element"),Iv=Symbol.for("react.fragment"),Lv=Object.prototype.hasOwnProperty,Dv=Ov.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mv={key:!0,ref:!0,__self:!0,__source:!0};function Fx(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Lv.call(t,n)&&!Mv.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Av,type:e,key:o,ref:i,props:s,_owner:Dv.current}}ac.Fragment=Iv;ac.jsx=Fx;ac.jsxs=Fx;Ex.exports=ac;var a=Ex.exports,Ux={exports:{}},Ut={},zx={exports:{}},Bx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,I){var D=P.length;P.push(I);e:for(;0<D;){var K=D-1>>>1,Q=P[K];if(0<s(Q,I))P[K]=I,P[D]=Q,D=K;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var I=P[0],D=P.pop();if(D!==I){P[0]=D;e:for(var K=0,Q=P.length,B=Q>>>1;K<B;){var T=2*(K+1)-1,J=P[T],se=T+1,te=P[se];if(0>s(J,D))se<Q&&0>s(te,J)?(P[K]=te,P[se]=D,K=se):(P[K]=J,P[T]=D,K=T);else if(se<Q&&0>s(te,D))P[K]=te,P[se]=D,K=se;else break e}}return I}function s(P,I){var D=P.sortIndex-I.sortIndex;return D!==0?D:P.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(P){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=P)n(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(u)}}function j(P){if(y=!1,b(P),!v)if(r(c)!==null)v=!0,V(N);else{var I=r(u);I!==null&&$(j,I.startTime-P)}}function N(P,I){v=!1,y&&(y=!1,x(E),E=-1),p=!0;var D=f;try{for(b(I),d=r(c);d!==null&&(!(d.expirationTime>I)||P&&!z());){var K=d.callback;if(typeof K=="function"){d.callback=null,f=d.priorityLevel;var Q=K(d.expirationTime<=I);I=e.unstable_now(),typeof Q=="function"?d.callback=Q:d===r(c)&&n(c),b(I)}else n(c);d=r(c)}if(d!==null)var B=!0;else{var T=r(u);T!==null&&$(j,T.startTime-I),B=!1}return B}finally{d=null,f=D,p=!1}}var _=!1,k=null,E=-1,A=5,S=-1;function z(){return!(e.unstable_now()-S<A)}function M(){if(k!==null){var P=e.unstable_now();S=P;var I=!0;try{I=k(!0,P)}finally{I?L():(_=!1,k=null)}}else _=!1}var L;if(typeof g=="function")L=function(){g(M)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,q=O.port2;O.port1.onmessage=M,L=function(){q.postMessage(null)}}else L=function(){w(M,0)};function V(P){k=P,_||(_=!0,L())}function $(P,I){E=w(function(){P(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,V(N))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var D=f;f=I;try{return P()}finally{f=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,I){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var D=f;f=P;try{return I()}finally{f=D}},e.unstable_scheduleCallback=function(P,I,D){var K=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?K+D:K):D=K,P){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=D+Q,P={id:h++,callback:I,priorityLevel:P,startTime:D,expirationTime:Q,sortIndex:-1},D>K?(P.sortIndex=D,t(u,P),r(c)===null&&P===r(u)&&(y?(x(E),E=-1):y=!0,$(j,D-K))):(P.sortIndex=Q,t(c,P),v||p||(v=!0,V(N))),P},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(P){var I=f;return function(){var D=f;f=I;try{return P.apply(this,arguments)}finally{f=D}}}})(Bx);zx.exports=Bx;var $v=zx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv=m,Ft=$v;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qx=new Set,Pa={};function Rs(e,t){Po(e,t),Po(e+"Capture",t)}function Po(e,t){for(Pa[e]=t,e=0;e<t.length;e++)qx.add(t[e])}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lu=Object.prototype.hasOwnProperty,Uv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uf={},zf={};function zv(e){return Lu.call(zf,e)?!0:Lu.call(Uf,e)?!1:Uv.test(e)?zf[e]=!0:(Uf[e]=!0,!1)}function Bv(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qv(e,t,r,n){if(t===null||typeof t>"u"||Bv(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vt(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){st[e]=new vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];st[t]=new vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){st[e]=new vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){st[e]=new vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){st[e]=new vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){st[e]=new vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){st[e]=new vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){st[e]=new vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){st[e]=new vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var xh=/[\-:]([a-z])/g;function gh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xh,gh);st[t]=new vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xh,gh);st[t]=new vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xh,gh);st[t]=new vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){st[e]=new vt(e,1,!1,e.toLowerCase(),null,!1,!1)});st.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){st[e]=new vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function bh(e,t,r,n){var s=st.hasOwnProperty(t)?st[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qv(t,r,s,n)&&(r=null),n||s===null?zv(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Zr=Fv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ti=Symbol.for("react.element"),Gs=Symbol.for("react.portal"),Qs=Symbol.for("react.fragment"),yh=Symbol.for("react.strict_mode"),Du=Symbol.for("react.profiler"),Wx=Symbol.for("react.provider"),Vx=Symbol.for("react.context"),vh=Symbol.for("react.forward_ref"),Mu=Symbol.for("react.suspense"),$u=Symbol.for("react.suspense_list"),wh=Symbol.for("react.memo"),cn=Symbol.for("react.lazy"),Hx=Symbol.for("react.offscreen"),Bf=Symbol.iterator;function ea(e){return e===null||typeof e!="object"?null:(e=Bf&&e[Bf]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,Wc;function da(e){if(Wc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Wc=t&&t[1]||""}return`
`+Wc+e}var Vc=!1;function Hc(e,t){if(!e||Vc)return"";Vc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Vc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?da(e):""}function Wv(e){switch(e.tag){case 5:return da(e.type);case 16:return da("Lazy");case 13:return da("Suspense");case 19:return da("SuspenseList");case 0:case 2:case 15:return e=Hc(e.type,!1),e;case 11:return e=Hc(e.type.render,!1),e;case 1:return e=Hc(e.type,!0),e;default:return""}}function Fu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qs:return"Fragment";case Gs:return"Portal";case Du:return"Profiler";case yh:return"StrictMode";case Mu:return"Suspense";case $u:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vx:return(e.displayName||"Context")+".Consumer";case Wx:return(e._context.displayName||"Context")+".Provider";case vh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wh:return t=e.displayName||null,t!==null?t:Fu(e.type)||"Memo";case cn:t=e._payload,e=e._init;try{return Fu(e(t))}catch{}}return null}function Vv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fu(t);case 8:return t===yh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $n(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hv(e){var t=Kx(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pi(e){e._valueTracker||(e._valueTracker=Hv(e))}function Gx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Kx(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function jl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Uu(e,t){var r=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function qf(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=$n(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qx(e,t){t=t.checked,t!=null&&bh(e,"checked",t,!1)}function zu(e,t){Qx(e,t);var r=$n(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bu(e,t.type,r):t.hasOwnProperty("defaultValue")&&Bu(e,t.type,$n(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wf(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Bu(e,t,r){(t!=="number"||jl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ha=Array.isArray;function io(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+$n(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function qu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vf(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(W(92));if(ha(r)){if(1<r.length)throw Error(W(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:$n(r)}}function Jx(e,t){var r=$n(t.value),n=$n(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Hf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ri,Xx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ri=Ri||document.createElement("div"),Ri.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ri.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ra(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ga={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kv=["Webkit","ms","Moz","O"];Object.keys(ga).forEach(function(e){Kv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ga[t]=ga[e]})});function Zx(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ga.hasOwnProperty(e)&&ga[e]?(""+t).trim():t+"px"}function eg(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Zx(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Gv=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vu(e,t){if(t){if(Gv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Hu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ku=null;function jh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gu=null,lo=null,co=null;function Kf(e){if(e=fi(e)){if(typeof Gu!="function")throw Error(W(280));var t=e.stateNode;t&&(t=dc(t),Gu(e.stateNode,e.type,t))}}function tg(e){lo?co?co.push(e):co=[e]:lo=e}function rg(){if(lo){var e=lo,t=co;if(co=lo=null,Kf(e),t)for(e=0;e<t.length;e++)Kf(t[e])}}function ng(e,t){return e(t)}function sg(){}var Kc=!1;function og(e,t,r){if(Kc)return e(t,r);Kc=!0;try{return ng(e,t,r)}finally{Kc=!1,(lo!==null||co!==null)&&(sg(),rg())}}function Oa(e,t){var r=e.stateNode;if(r===null)return null;var n=dc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var Qu=!1;if(Hr)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){Qu=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{Qu=!1}function Qv(e,t,r,n,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var ba=!1,kl=null,_l=!1,Ju=null,Jv={onError:function(e){ba=!0,kl=e}};function Yv(e,t,r,n,s,o,i,l,c){ba=!1,kl=null,Qv.apply(Jv,arguments)}function Xv(e,t,r,n,s,o,i,l,c){if(Yv.apply(this,arguments),ba){if(ba){var u=kl;ba=!1,kl=null}else throw Error(W(198));_l||(_l=!0,Ju=u)}}function Os(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ag(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gf(e){if(Os(e)!==e)throw Error(W(188))}function Zv(e){var t=e.alternate;if(!t){if(t=Os(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Gf(s),e;if(o===n)return Gf(s),t;o=o.sibling}throw Error(W(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=o;break}if(l===n){i=!0,n=s,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=s;break}if(l===n){i=!0,n=o,r=s;break}l=l.sibling}if(!i)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function ig(e){return e=Zv(e),e!==null?lg(e):null}function lg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lg(e);if(t!==null)return t;e=e.sibling}return null}var cg=Ft.unstable_scheduleCallback,Qf=Ft.unstable_cancelCallback,ew=Ft.unstable_shouldYield,tw=Ft.unstable_requestPaint,Fe=Ft.unstable_now,rw=Ft.unstable_getCurrentPriorityLevel,kh=Ft.unstable_ImmediatePriority,ug=Ft.unstable_UserBlockingPriority,Nl=Ft.unstable_NormalPriority,nw=Ft.unstable_LowPriority,dg=Ft.unstable_IdlePriority,ic=null,Cr=null;function sw(e){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(ic,e,void 0,(e.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:iw,ow=Math.log,aw=Math.LN2;function iw(e){return e>>>=0,e===0?32:31-(ow(e)/aw|0)|0}var Oi=64,Ai=4194304;function fa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=fa(l):(o&=i,o!==0&&(n=fa(o)))}else i=r&~s,i!==0?n=fa(i):o!==0&&(n=fa(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-fr(t),s=1<<r,n|=e[r],t&=~s;return n}function lw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cw(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-fr(o),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=lw(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Yu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hg(){var e=Oi;return Oi<<=1,!(Oi&4194240)&&(Oi=64),e}function Gc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function di(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fr(t),e[t]=r}function uw(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-fr(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function _h(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ye=0;function fg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pg,Nh,mg,xg,gg,Xu=!1,Ii=[],En=null,Tn=null,Pn=null,Aa=new Map,Ia=new Map,hn=[],dw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jf(e,t){switch(e){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":Aa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(t.pointerId)}}function ra(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=fi(t),t!==null&&Nh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function hw(e,t,r,n,s){switch(t){case"focusin":return En=ra(En,e,t,r,n,s),!0;case"dragenter":return Tn=ra(Tn,e,t,r,n,s),!0;case"mouseover":return Pn=ra(Pn,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return Aa.set(o,ra(Aa.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Ia.set(o,ra(Ia.get(o)||null,e,t,r,n,s)),!0}return!1}function bg(e){var t=ss(e.target);if(t!==null){var r=Os(t);if(r!==null){if(t=r.tag,t===13){if(t=ag(r),t!==null){e.blockedOn=t,gg(e.priority,function(){mg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ll(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Zu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ku=n,r.target.dispatchEvent(n),Ku=null}else return t=fi(r),t!==null&&Nh(t),e.blockedOn=r,!1;t.shift()}return!0}function Yf(e,t,r){ll(e)&&r.delete(t)}function fw(){Xu=!1,En!==null&&ll(En)&&(En=null),Tn!==null&&ll(Tn)&&(Tn=null),Pn!==null&&ll(Pn)&&(Pn=null),Aa.forEach(Yf),Ia.forEach(Yf)}function na(e,t){e.blockedOn===t&&(e.blockedOn=null,Xu||(Xu=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,fw)))}function La(e){function t(s){return na(s,e)}if(0<Ii.length){na(Ii[0],e);for(var r=1;r<Ii.length;r++){var n=Ii[r];n.blockedOn===e&&(n.blockedOn=null)}}for(En!==null&&na(En,e),Tn!==null&&na(Tn,e),Pn!==null&&na(Pn,e),Aa.forEach(t),Ia.forEach(t),r=0;r<hn.length;r++)n=hn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<hn.length&&(r=hn[0],r.blockedOn===null);)bg(r),r.blockedOn===null&&hn.shift()}var uo=Zr.ReactCurrentBatchConfig,Cl=!0;function pw(e,t,r,n){var s=ye,o=uo.transition;uo.transition=null;try{ye=1,Sh(e,t,r,n)}finally{ye=s,uo.transition=o}}function mw(e,t,r,n){var s=ye,o=uo.transition;uo.transition=null;try{ye=4,Sh(e,t,r,n)}finally{ye=s,uo.transition=o}}function Sh(e,t,r,n){if(Cl){var s=Zu(e,t,r,n);if(s===null)su(e,t,n,El,r),Jf(e,n);else if(hw(s,e,t,r,n))n.stopPropagation();else if(Jf(e,n),t&4&&-1<dw.indexOf(e)){for(;s!==null;){var o=fi(s);if(o!==null&&pg(o),o=Zu(e,t,r,n),o===null&&su(e,t,n,El,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else su(e,t,n,null,r)}}var El=null;function Zu(e,t,r,n){if(El=null,e=jh(n),e=ss(e),e!==null)if(t=Os(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ag(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return El=e,null}function yg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rw()){case kh:return 1;case ug:return 4;case Nl:case nw:return 16;case dg:return 536870912;default:return 16}default:return 16}}var Nn=null,Ch=null,cl=null;function vg(){if(cl)return cl;var e,t=Ch,r=t.length,n,s="value"in Nn?Nn.value:Nn.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return cl=s.slice(e,1<n?1-n:void 0)}function ul(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function Xf(){return!1}function zt(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Li:Xf,this.isPropagationStopped=Xf,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),t}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eh=zt(Wo),hi=Le({},Wo,{view:0,detail:0}),xw=zt(hi),Qc,Jc,sa,lc=Le({},hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Th,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sa&&(sa&&e.type==="mousemove"?(Qc=e.screenX-sa.screenX,Jc=e.screenY-sa.screenY):Jc=Qc=0,sa=e),Qc)},movementY:function(e){return"movementY"in e?e.movementY:Jc}}),Zf=zt(lc),gw=Le({},lc,{dataTransfer:0}),bw=zt(gw),yw=Le({},hi,{relatedTarget:0}),Yc=zt(yw),vw=Le({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),ww=zt(vw),jw=Le({},Wo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kw=zt(jw),_w=Le({},Wo,{data:0}),ep=zt(_w),Nw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ew(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cw[e])?!!t[e]:!1}function Th(){return Ew}var Tw=Le({},hi,{key:function(e){if(e.key){var t=Nw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ul(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Th,charCode:function(e){return e.type==="keypress"?ul(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ul(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pw=zt(Tw),Rw=Le({},lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tp=zt(Rw),Ow=Le({},hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Th}),Aw=zt(Ow),Iw=Le({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lw=zt(Iw),Dw=Le({},lc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mw=zt(Dw),$w=[9,13,27,32],Ph=Hr&&"CompositionEvent"in window,ya=null;Hr&&"documentMode"in document&&(ya=document.documentMode);var Fw=Hr&&"TextEvent"in window&&!ya,wg=Hr&&(!Ph||ya&&8<ya&&11>=ya),rp=" ",np=!1;function jg(e,t){switch(e){case"keyup":return $w.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Js=!1;function Uw(e,t){switch(e){case"compositionend":return kg(t);case"keypress":return t.which!==32?null:(np=!0,rp);case"textInput":return e=t.data,e===rp&&np?null:e;default:return null}}function zw(e,t){if(Js)return e==="compositionend"||!Ph&&jg(e,t)?(e=vg(),cl=Ch=Nn=null,Js=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wg&&t.locale!=="ko"?null:t.data;default:return null}}var Bw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bw[e.type]:t==="textarea"}function _g(e,t,r,n){tg(n),t=Tl(t,"onChange"),0<t.length&&(r=new Eh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var va=null,Da=null;function qw(e){Lg(e,0)}function cc(e){var t=Zs(e);if(Gx(t))return e}function Ww(e,t){if(e==="change")return t}var Ng=!1;if(Hr){var Xc;if(Hr){var Zc="oninput"in document;if(!Zc){var op=document.createElement("div");op.setAttribute("oninput","return;"),Zc=typeof op.oninput=="function"}Xc=Zc}else Xc=!1;Ng=Xc&&(!document.documentMode||9<document.documentMode)}function ap(){va&&(va.detachEvent("onpropertychange",Sg),Da=va=null)}function Sg(e){if(e.propertyName==="value"&&cc(Da)){var t=[];_g(t,Da,e,jh(e)),og(qw,t)}}function Vw(e,t,r){e==="focusin"?(ap(),va=t,Da=r,va.attachEvent("onpropertychange",Sg)):e==="focusout"&&ap()}function Hw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cc(Da)}function Kw(e,t){if(e==="click")return cc(t)}function Gw(e,t){if(e==="input"||e==="change")return cc(t)}function Qw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mr=typeof Object.is=="function"?Object.is:Qw;function Ma(e,t){if(mr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Lu.call(t,s)||!mr(e[s],t[s]))return!1}return!0}function ip(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lp(e,t){var r=ip(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ip(r)}}function Cg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Eg(){for(var e=window,t=jl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=jl(e.document)}return t}function Rh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jw(e){var t=Eg(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Cg(r.ownerDocument.documentElement,r)){if(n!==null&&Rh(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=lp(r,o);var i=lp(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yw=Hr&&"documentMode"in document&&11>=document.documentMode,Ys=null,ed=null,wa=null,td=!1;function cp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;td||Ys==null||Ys!==jl(n)||(n=Ys,"selectionStart"in n&&Rh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wa&&Ma(wa,n)||(wa=n,n=Tl(ed,"onSelect"),0<n.length&&(t=new Eh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ys)))}function Di(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Xs={animationend:Di("Animation","AnimationEnd"),animationiteration:Di("Animation","AnimationIteration"),animationstart:Di("Animation","AnimationStart"),transitionend:Di("Transition","TransitionEnd")},eu={},Tg={};Hr&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function uc(e){if(eu[e])return eu[e];if(!Xs[e])return e;var t=Xs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Tg)return eu[e]=t[r];return e}var Pg=uc("animationend"),Rg=uc("animationiteration"),Og=uc("animationstart"),Ag=uc("transitionend"),Ig=new Map,up="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vn(e,t){Ig.set(e,t),Rs(t,[e])}for(var tu=0;tu<up.length;tu++){var ru=up[tu],Xw=ru.toLowerCase(),Zw=ru[0].toUpperCase()+ru.slice(1);Vn(Xw,"on"+Zw)}Vn(Pg,"onAnimationEnd");Vn(Rg,"onAnimationIteration");Vn(Og,"onAnimationStart");Vn("dblclick","onDoubleClick");Vn("focusin","onFocus");Vn("focusout","onBlur");Vn(Ag,"onTransitionEnd");Po("onMouseEnter",["mouseout","mouseover"]);Po("onMouseLeave",["mouseout","mouseover"]);Po("onPointerEnter",["pointerout","pointerover"]);Po("onPointerLeave",["pointerout","pointerover"]);Rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e1=new Set("cancel close invalid load scroll toggle".split(" ").concat(pa));function dp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Xv(n,t,void 0,e),e.currentTarget=null}function Lg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;dp(s,l,u),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;dp(s,l,u),o=c}}}if(_l)throw e=Ju,_l=!1,Ju=null,e}function Se(e,t){var r=t[ad];r===void 0&&(r=t[ad]=new Set);var n=e+"__bubble";r.has(n)||(Dg(t,e,2,!1),r.add(n))}function nu(e,t,r){var n=0;t&&(n|=4),Dg(r,e,n,t)}var Mi="_reactListening"+Math.random().toString(36).slice(2);function $a(e){if(!e[Mi]){e[Mi]=!0,qx.forEach(function(r){r!=="selectionchange"&&(e1.has(r)||nu(r,!1,e),nu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mi]||(t[Mi]=!0,nu("selectionchange",!1,t))}}function Dg(e,t,r,n){switch(yg(t)){case 1:var s=pw;break;case 4:s=mw;break;default:s=Sh}r=s.bind(null,t,r,e),s=void 0,!Qu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function su(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=ss(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}og(function(){var u=o,h=jh(r),d=[];e:{var f=Ig.get(e);if(f!==void 0){var p=Eh,v=e;switch(e){case"keypress":if(ul(r)===0)break e;case"keydown":case"keyup":p=Pw;break;case"focusin":v="focus",p=Yc;break;case"focusout":v="blur",p=Yc;break;case"beforeblur":case"afterblur":p=Yc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Zf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=bw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Aw;break;case Pg:case Rg:case Og:p=ww;break;case Ag:p=Lw;break;case"scroll":p=xw;break;case"wheel":p=Mw;break;case"copy":case"cut":case"paste":p=kw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=tp}var y=(t&4)!==0,w=!y&&e==="scroll",x=y?f!==null?f+"Capture":null:f;y=[];for(var g=u,b;g!==null;){b=g;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,x!==null&&(j=Oa(g,x),j!=null&&y.push(Fa(g,j,b)))),w)break;g=g.return}0<y.length&&(f=new p(f,v,null,r,h),d.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==Ku&&(v=r.relatedTarget||r.fromElement)&&(ss(v)||v[Kr]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?ss(v):null,v!==null&&(w=Os(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(y=Zf,j="onMouseLeave",x="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=tp,j="onPointerLeave",x="onPointerEnter",g="pointer"),w=p==null?f:Zs(p),b=v==null?f:Zs(v),f=new y(j,g+"leave",p,r,h),f.target=w,f.relatedTarget=b,j=null,ss(h)===u&&(y=new y(x,g+"enter",v,r,h),y.target=b,y.relatedTarget=w,j=y),w=j,p&&v)t:{for(y=p,x=v,g=0,b=y;b;b=Ms(b))g++;for(b=0,j=x;j;j=Ms(j))b++;for(;0<g-b;)y=Ms(y),g--;for(;0<b-g;)x=Ms(x),b--;for(;g--;){if(y===x||x!==null&&y===x.alternate)break t;y=Ms(y),x=Ms(x)}y=null}else y=null;p!==null&&hp(d,f,p,y,!1),v!==null&&w!==null&&hp(d,w,v,y,!0)}}e:{if(f=u?Zs(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var N=Ww;else if(sp(f))if(Ng)N=Gw;else{N=Hw;var _=Vw}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=Kw);if(N&&(N=N(e,u))){_g(d,N,r,h);break e}_&&_(e,f,u),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Bu(f,"number",f.value)}switch(_=u?Zs(u):window,e){case"focusin":(sp(_)||_.contentEditable==="true")&&(Ys=_,ed=u,wa=null);break;case"focusout":wa=ed=Ys=null;break;case"mousedown":td=!0;break;case"contextmenu":case"mouseup":case"dragend":td=!1,cp(d,r,h);break;case"selectionchange":if(Yw)break;case"keydown":case"keyup":cp(d,r,h)}var k;if(Ph)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Js?jg(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(wg&&r.locale!=="ko"&&(Js||E!=="onCompositionStart"?E==="onCompositionEnd"&&Js&&(k=vg()):(Nn=h,Ch="value"in Nn?Nn.value:Nn.textContent,Js=!0)),_=Tl(u,E),0<_.length&&(E=new ep(E,e,null,r,h),d.push({event:E,listeners:_}),k?E.data=k:(k=kg(r),k!==null&&(E.data=k)))),(k=Fw?Uw(e,r):zw(e,r))&&(u=Tl(u,"onBeforeInput"),0<u.length&&(h=new ep("onBeforeInput","beforeinput",null,r,h),d.push({event:h,listeners:u}),h.data=k))}Lg(d,t)})}function Fa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Tl(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Oa(e,r),o!=null&&n.unshift(Fa(e,o,s)),o=Oa(e,t),o!=null&&n.push(Fa(e,o,s))),e=e.return}return n}function Ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hp(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Oa(r,o),c!=null&&i.unshift(Fa(r,c,l))):s||(c=Oa(r,o),c!=null&&i.push(Fa(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var t1=/\r\n?/g,r1=/\u0000|\uFFFD/g;function fp(e){return(typeof e=="string"?e:""+e).replace(t1,`
`).replace(r1,"")}function $i(e,t,r){if(t=fp(t),fp(e)!==t&&r)throw Error(W(425))}function Pl(){}var rd=null,nd=null;function sd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var od=typeof setTimeout=="function"?setTimeout:void 0,n1=typeof clearTimeout=="function"?clearTimeout:void 0,pp=typeof Promise=="function"?Promise:void 0,s1=typeof queueMicrotask=="function"?queueMicrotask:typeof pp<"u"?function(e){return pp.resolve(null).then(e).catch(o1)}:od;function o1(e){setTimeout(function(){throw e})}function ou(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),La(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);La(t)}function Rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Vo=Math.random().toString(36).slice(2),Nr="__reactFiber$"+Vo,Ua="__reactProps$"+Vo,Kr="__reactContainer$"+Vo,ad="__reactEvents$"+Vo,a1="__reactListeners$"+Vo,i1="__reactHandles$"+Vo;function ss(e){var t=e[Nr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Kr]||r[Nr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=mp(e);e!==null;){if(r=e[Nr])return r;e=mp(e)}return t}e=r,r=e.parentNode}return null}function fi(e){return e=e[Nr]||e[Kr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function dc(e){return e[Ua]||null}var id=[],eo=-1;function Hn(e){return{current:e}}function Ce(e){0>eo||(e.current=id[eo],id[eo]=null,eo--)}function ke(e,t){eo++,id[eo]=e.current,e.current=t}var Fn={},ct=Hn(Fn),St=Hn(!1),vs=Fn;function Ro(e,t){var r=e.type.contextTypes;if(!r)return Fn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ct(e){return e=e.childContextTypes,e!=null}function Rl(){Ce(St),Ce(ct)}function xp(e,t,r){if(ct.current!==Fn)throw Error(W(168));ke(ct,t),ke(St,r)}function Mg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(W(108,Vv(e)||"Unknown",s));return Le({},r,n)}function Ol(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fn,vs=ct.current,ke(ct,e),ke(St,St.current),!0}function gp(e,t,r){var n=e.stateNode;if(!n)throw Error(W(169));r?(e=Mg(e,t,vs),n.__reactInternalMemoizedMergedChildContext=e,Ce(St),Ce(ct),ke(ct,e)):Ce(St),ke(St,r)}var Fr=null,hc=!1,au=!1;function $g(e){Fr===null?Fr=[e]:Fr.push(e)}function l1(e){hc=!0,$g(e)}function Kn(){if(!au&&Fr!==null){au=!0;var e=0,t=ye;try{var r=Fr;for(ye=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Fr=null,hc=!1}catch(s){throw Fr!==null&&(Fr=Fr.slice(e+1)),cg(kh,Kn),s}finally{ye=t,au=!1}}return null}var to=[],ro=0,Al=null,Il=0,Ht=[],Kt=0,ws=null,Br=1,qr="";function Zn(e,t){to[ro++]=Il,to[ro++]=Al,Al=e,Il=t}function Fg(e,t,r){Ht[Kt++]=Br,Ht[Kt++]=qr,Ht[Kt++]=ws,ws=e;var n=Br;e=qr;var s=32-fr(n)-1;n&=~(1<<s),r+=1;var o=32-fr(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Br=1<<32-fr(t)+s|r<<s|n,qr=o+e}else Br=1<<o|r<<s|n,qr=e}function Oh(e){e.return!==null&&(Zn(e,1),Fg(e,1,0))}function Ah(e){for(;e===Al;)Al=to[--ro],to[ro]=null,Il=to[--ro],to[ro]=null;for(;e===ws;)ws=Ht[--Kt],Ht[Kt]=null,qr=Ht[--Kt],Ht[Kt]=null,Br=Ht[--Kt],Ht[Kt]=null}var Mt=null,Dt=null,Pe=!1,hr=null;function Ug(e,t){var r=Gt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function bp(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mt=e,Dt=Rn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mt=e,Dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ws!==null?{id:Br,overflow:qr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Gt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Mt=e,Dt=null,!0):!1;default:return!1}}function ld(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cd(e){if(Pe){var t=Dt;if(t){var r=t;if(!bp(e,t)){if(ld(e))throw Error(W(418));t=Rn(r.nextSibling);var n=Mt;t&&bp(e,t)?Ug(n,r):(e.flags=e.flags&-4097|2,Pe=!1,Mt=e)}}else{if(ld(e))throw Error(W(418));e.flags=e.flags&-4097|2,Pe=!1,Mt=e}}}function yp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mt=e}function Fi(e){if(e!==Mt)return!1;if(!Pe)return yp(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sd(e.type,e.memoizedProps)),t&&(t=Dt)){if(ld(e))throw zg(),Error(W(418));for(;t;)Ug(e,t),t=Rn(t.nextSibling)}if(yp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Dt=Rn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Dt=null}}else Dt=Mt?Rn(e.stateNode.nextSibling):null;return!0}function zg(){for(var e=Dt;e;)e=Rn(e.nextSibling)}function Oo(){Dt=Mt=null,Pe=!1}function Ih(e){hr===null?hr=[e]:hr.push(e)}var c1=Zr.ReactCurrentBatchConfig;function oa(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var n=r.stateNode}if(!n)throw Error(W(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,e))}return e}function Ui(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vp(e){var t=e._init;return t(e._payload)}function Bg(e){function t(x,g){if(e){var b=x.deletions;b===null?(x.deletions=[g],x.flags|=16):b.push(g)}}function r(x,g){if(!e)return null;for(;g!==null;)t(x,g),g=g.sibling;return null}function n(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function s(x,g){return x=Ln(x,g),x.index=0,x.sibling=null,x}function o(x,g,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<g?(x.flags|=2,g):b):(x.flags|=2,g)):(x.flags|=1048576,g)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,g,b,j){return g===null||g.tag!==6?(g=fu(b,x.mode,j),g.return=x,g):(g=s(g,b),g.return=x,g)}function c(x,g,b,j){var N=b.type;return N===Qs?h(x,g,b.props.children,j,b.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===cn&&vp(N)===g.type)?(j=s(g,b.props),j.ref=oa(x,g,b),j.return=x,j):(j=gl(b.type,b.key,b.props,null,x.mode,j),j.ref=oa(x,g,b),j.return=x,j)}function u(x,g,b,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=pu(b,x.mode,j),g.return=x,g):(g=s(g,b.children||[]),g.return=x,g)}function h(x,g,b,j,N){return g===null||g.tag!==7?(g=bs(b,x.mode,j,N),g.return=x,g):(g=s(g,b),g.return=x,g)}function d(x,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=fu(""+g,x.mode,b),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ti:return b=gl(g.type,g.key,g.props,null,x.mode,b),b.ref=oa(x,null,g),b.return=x,b;case Gs:return g=pu(g,x.mode,b),g.return=x,g;case cn:var j=g._init;return d(x,j(g._payload),b)}if(ha(g)||ea(g))return g=bs(g,x.mode,b,null),g.return=x,g;Ui(x,g)}return null}function f(x,g,b,j){var N=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(x,g,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ti:return b.key===N?c(x,g,b,j):null;case Gs:return b.key===N?u(x,g,b,j):null;case cn:return N=b._init,f(x,g,N(b._payload),j)}if(ha(b)||ea(b))return N!==null?null:h(x,g,b,j,null);Ui(x,b)}return null}function p(x,g,b,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(b)||null,l(g,x,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ti:return x=x.get(j.key===null?b:j.key)||null,c(g,x,j,N);case Gs:return x=x.get(j.key===null?b:j.key)||null,u(g,x,j,N);case cn:var _=j._init;return p(x,g,b,_(j._payload),N)}if(ha(j)||ea(j))return x=x.get(b)||null,h(g,x,j,N,null);Ui(g,j)}return null}function v(x,g,b,j){for(var N=null,_=null,k=g,E=g=0,A=null;k!==null&&E<b.length;E++){k.index>E?(A=k,k=null):A=k.sibling;var S=f(x,k,b[E],j);if(S===null){k===null&&(k=A);break}e&&k&&S.alternate===null&&t(x,k),g=o(S,g,E),_===null?N=S:_.sibling=S,_=S,k=A}if(E===b.length)return r(x,k),Pe&&Zn(x,E),N;if(k===null){for(;E<b.length;E++)k=d(x,b[E],j),k!==null&&(g=o(k,g,E),_===null?N=k:_.sibling=k,_=k);return Pe&&Zn(x,E),N}for(k=n(x,k);E<b.length;E++)A=p(k,x,E,b[E],j),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?E:A.key),g=o(A,g,E),_===null?N=A:_.sibling=A,_=A);return e&&k.forEach(function(z){return t(x,z)}),Pe&&Zn(x,E),N}function y(x,g,b,j){var N=ea(b);if(typeof N!="function")throw Error(W(150));if(b=N.call(b),b==null)throw Error(W(151));for(var _=N=null,k=g,E=g=0,A=null,S=b.next();k!==null&&!S.done;E++,S=b.next()){k.index>E?(A=k,k=null):A=k.sibling;var z=f(x,k,S.value,j);if(z===null){k===null&&(k=A);break}e&&k&&z.alternate===null&&t(x,k),g=o(z,g,E),_===null?N=z:_.sibling=z,_=z,k=A}if(S.done)return r(x,k),Pe&&Zn(x,E),N;if(k===null){for(;!S.done;E++,S=b.next())S=d(x,S.value,j),S!==null&&(g=o(S,g,E),_===null?N=S:_.sibling=S,_=S);return Pe&&Zn(x,E),N}for(k=n(x,k);!S.done;E++,S=b.next())S=p(k,x,E,S.value,j),S!==null&&(e&&S.alternate!==null&&k.delete(S.key===null?E:S.key),g=o(S,g,E),_===null?N=S:_.sibling=S,_=S);return e&&k.forEach(function(M){return t(x,M)}),Pe&&Zn(x,E),N}function w(x,g,b,j){if(typeof b=="object"&&b!==null&&b.type===Qs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ti:e:{for(var N=b.key,_=g;_!==null;){if(_.key===N){if(N=b.type,N===Qs){if(_.tag===7){r(x,_.sibling),g=s(_,b.props.children),g.return=x,x=g;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===cn&&vp(N)===_.type){r(x,_.sibling),g=s(_,b.props),g.ref=oa(x,_,b),g.return=x,x=g;break e}r(x,_);break}else t(x,_);_=_.sibling}b.type===Qs?(g=bs(b.props.children,x.mode,j,b.key),g.return=x,x=g):(j=gl(b.type,b.key,b.props,null,x.mode,j),j.ref=oa(x,g,b),j.return=x,x=j)}return i(x);case Gs:e:{for(_=b.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){r(x,g.sibling),g=s(g,b.children||[]),g.return=x,x=g;break e}else{r(x,g);break}else t(x,g);g=g.sibling}g=pu(b,x.mode,j),g.return=x,x=g}return i(x);case cn:return _=b._init,w(x,g,_(b._payload),j)}if(ha(b))return v(x,g,b,j);if(ea(b))return y(x,g,b,j);Ui(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(r(x,g.sibling),g=s(g,b),g.return=x,x=g):(r(x,g),g=fu(b,x.mode,j),g.return=x,x=g),i(x)):r(x,g)}return w}var Ao=Bg(!0),qg=Bg(!1),Ll=Hn(null),Dl=null,no=null,Lh=null;function Dh(){Lh=no=Dl=null}function Mh(e){var t=Ll.current;Ce(Ll),e._currentValue=t}function ud(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ho(e,t){Dl=e,Lh=no=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nt=!0),e.firstContext=null)}function Yt(e){var t=e._currentValue;if(Lh!==e)if(e={context:e,memoizedValue:t,next:null},no===null){if(Dl===null)throw Error(W(308));no=e,Dl.dependencies={lanes:0,firstContext:e}}else no=no.next=e;return t}var os=null;function $h(e){os===null?os=[e]:os.push(e)}function Wg(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,$h(t)):(r.next=s.next,s.next=r),t.interleaved=r,Gr(e,n)}function Gr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var un=!1;function Fh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function On(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,me&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Gr(e,r)}return s=n.interleaved,s===null?(t.next=t,$h(n)):(t.next=s.next,s.next=t),n.interleaved=t,Gr(e,r)}function dl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_h(e,r)}}function wp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ml(e,t,r,n){var s=e.updateQueue;un=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==i&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(o!==null){var d=s.baseState;i=0,h=u=c=null,l=o;do{var f=l.lane,p=l.eventTime;if((n&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,y=l;switch(f=t,p=r,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(p,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(p,d,f):v,f==null)break e;d=Le({},d,f);break e;case 2:un=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=p,c=d):h=h.next=p,i|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);ks|=i,e.lanes=i,e.memoizedState=d}}function jp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(W(191,s));s.call(n)}}}var pi={},Er=Hn(pi),za=Hn(pi),Ba=Hn(pi);function as(e){if(e===pi)throw Error(W(174));return e}function Uh(e,t){switch(ke(Ba,t),ke(za,e),ke(Er,pi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wu(t,e)}Ce(Er),ke(Er,t)}function Io(){Ce(Er),Ce(za),Ce(Ba)}function Hg(e){as(Ba.current);var t=as(Er.current),r=Wu(t,e.type);t!==r&&(ke(za,e),ke(Er,r))}function zh(e){za.current===e&&(Ce(Er),Ce(za))}var Ae=Hn(0);function $l(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var iu=[];function Bh(){for(var e=0;e<iu.length;e++)iu[e]._workInProgressVersionPrimary=null;iu.length=0}var hl=Zr.ReactCurrentDispatcher,lu=Zr.ReactCurrentBatchConfig,js=0,Ie=null,Ve=null,Qe=null,Fl=!1,ja=!1,qa=0,u1=0;function ot(){throw Error(W(321))}function qh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!mr(e[r],t[r]))return!1;return!0}function Wh(e,t,r,n,s,o){if(js=o,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hl.current=e===null||e.memoizedState===null?p1:m1,e=r(n,s),ja){o=0;do{if(ja=!1,qa=0,25<=o)throw Error(W(301));o+=1,Qe=Ve=null,t.updateQueue=null,hl.current=x1,e=r(n,s)}while(ja)}if(hl.current=Ul,t=Ve!==null&&Ve.next!==null,js=0,Qe=Ve=Ie=null,Fl=!1,t)throw Error(W(300));return e}function Vh(){var e=qa!==0;return qa=0,e}function wr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Ie.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Xt(){if(Ve===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=Qe===null?Ie.memoizedState:Qe.next;if(t!==null)Qe=t,Ve=e;else{if(e===null)throw Error(W(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Qe===null?Ie.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Wa(e,t){return typeof t=="function"?t(e):t}function cu(e){var t=Xt(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=Ve,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=i=null,c=null,u=o;do{var h=u.lane;if((js&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,i=n):c=c.next=d,Ie.lanes|=h,ks|=h}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=l,mr(n,t.memoizedState)||(Nt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Ie.lanes|=o,ks|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function uu(e){var t=Xt(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);mr(o,t.memoizedState)||(Nt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Kg(){}function Gg(e,t){var r=Ie,n=Xt(),s=t(),o=!mr(n.memoizedState,s);if(o&&(n.memoizedState=s,Nt=!0),n=n.queue,Hh(Yg.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Qe!==null&&Qe.memoizedState.tag&1){if(r.flags|=2048,Va(9,Jg.bind(null,r,n,s,t),void 0,null),Je===null)throw Error(W(349));js&30||Qg(r,t,s)}return s}function Qg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Jg(e,t,r,n){t.value=r,t.getSnapshot=n,Xg(t)&&Zg(e)}function Yg(e,t,r){return r(function(){Xg(t)&&Zg(e)})}function Xg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!mr(e,r)}catch{return!0}}function Zg(e){var t=Gr(e,1);t!==null&&pr(t,e,1,-1)}function kp(e){var t=wr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:e},t.queue=e,e=e.dispatch=f1.bind(null,Ie,e),[t.memoizedState,e]}function Va(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function e0(){return Xt().memoizedState}function fl(e,t,r,n){var s=wr();Ie.flags|=e,s.memoizedState=Va(1|t,r,void 0,n===void 0?null:n)}function fc(e,t,r,n){var s=Xt();n=n===void 0?null:n;var o=void 0;if(Ve!==null){var i=Ve.memoizedState;if(o=i.destroy,n!==null&&qh(n,i.deps)){s.memoizedState=Va(t,r,o,n);return}}Ie.flags|=e,s.memoizedState=Va(1|t,r,o,n)}function _p(e,t){return fl(8390656,8,e,t)}function Hh(e,t){return fc(2048,8,e,t)}function t0(e,t){return fc(4,2,e,t)}function r0(e,t){return fc(4,4,e,t)}function n0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function s0(e,t,r){return r=r!=null?r.concat([e]):null,fc(4,4,n0.bind(null,t,e),r)}function Kh(){}function o0(e,t){var r=Xt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qh(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function a0(e,t){var r=Xt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qh(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function i0(e,t,r){return js&21?(mr(r,t)||(r=hg(),Ie.lanes|=r,ks|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nt=!0),e.memoizedState=r)}function d1(e,t){var r=ye;ye=r!==0&&4>r?r:4,e(!0);var n=lu.transition;lu.transition={};try{e(!1),t()}finally{ye=r,lu.transition=n}}function l0(){return Xt().memoizedState}function h1(e,t,r){var n=In(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},c0(e))u0(t,r);else if(r=Wg(e,t,r,n),r!==null){var s=xt();pr(r,e,n,s),d0(r,t,n)}}function f1(e,t,r){var n=In(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(c0(e))u0(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(s.hasEagerState=!0,s.eagerState=l,mr(l,i)){var c=t.interleaved;c===null?(s.next=s,$h(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Wg(e,t,s,n),r!==null&&(s=xt(),pr(r,e,n,s),d0(r,t,n))}}function c0(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function u0(e,t){ja=Fl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function d0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_h(e,r)}}var Ul={readContext:Yt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},p1={readContext:Yt,useCallback:function(e,t){return wr().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:_p,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,fl(4194308,4,n0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return fl(4194308,4,e,t)},useInsertionEffect:function(e,t){return fl(4,2,e,t)},useMemo:function(e,t){var r=wr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=wr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=h1.bind(null,Ie,e),[n.memoizedState,e]},useRef:function(e){var t=wr();return e={current:e},t.memoizedState=e},useState:kp,useDebugValue:Kh,useDeferredValue:function(e){return wr().memoizedState=e},useTransition:function(){var e=kp(!1),t=e[0];return e=d1.bind(null,e[1]),wr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ie,s=wr();if(Pe){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),Je===null)throw Error(W(349));js&30||Qg(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,_p(Yg.bind(null,n,o,e),[e]),n.flags|=2048,Va(9,Jg.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=wr(),t=Je.identifierPrefix;if(Pe){var r=qr,n=Br;r=(n&~(1<<32-fr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=qa++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=u1++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},m1={readContext:Yt,useCallback:o0,useContext:Yt,useEffect:Hh,useImperativeHandle:s0,useInsertionEffect:t0,useLayoutEffect:r0,useMemo:a0,useReducer:cu,useRef:e0,useState:function(){return cu(Wa)},useDebugValue:Kh,useDeferredValue:function(e){var t=Xt();return i0(t,Ve.memoizedState,e)},useTransition:function(){var e=cu(Wa)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:Kg,useSyncExternalStore:Gg,useId:l0,unstable_isNewReconciler:!1},x1={readContext:Yt,useCallback:o0,useContext:Yt,useEffect:Hh,useImperativeHandle:s0,useInsertionEffect:t0,useLayoutEffect:r0,useMemo:a0,useReducer:uu,useRef:e0,useState:function(){return uu(Wa)},useDebugValue:Kh,useDeferredValue:function(e){var t=Xt();return Ve===null?t.memoizedState=e:i0(t,Ve.memoizedState,e)},useTransition:function(){var e=uu(Wa)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:Kg,useSyncExternalStore:Gg,useId:l0,unstable_isNewReconciler:!1};function ar(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function dd(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Le({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var pc={isMounted:function(e){return(e=e._reactInternals)?Os(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=xt(),s=In(e),o=Wr(n,s);o.payload=t,r!=null&&(o.callback=r),t=On(e,o,s),t!==null&&(pr(t,e,s,n),dl(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=xt(),s=In(e),o=Wr(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=On(e,o,s),t!==null&&(pr(t,e,s,n),dl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=xt(),n=In(e),s=Wr(r,n);s.tag=2,t!=null&&(s.callback=t),t=On(e,s,n),t!==null&&(pr(t,e,n,r),dl(t,e,n))}};function Np(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ma(r,n)||!Ma(s,o):!0}function h0(e,t,r){var n=!1,s=Fn,o=t.contextType;return typeof o=="object"&&o!==null?o=Yt(o):(s=Ct(t)?vs:ct.current,n=t.contextTypes,o=(n=n!=null)?Ro(e,s):Fn),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Sp(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&pc.enqueueReplaceState(t,t.state,null)}function hd(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Fh(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Yt(o):(o=Ct(t)?vs:ct.current,s.context=Ro(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(dd(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&pc.enqueueReplaceState(s,s.state,null),Ml(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Lo(e,t){try{var r="",n=t;do r+=Wv(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function du(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function fd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var g1=typeof WeakMap=="function"?WeakMap:Map;function f0(e,t,r){r=Wr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Bl||(Bl=!0,kd=n),fd(e,t)},r}function p0(e,t,r){r=Wr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){fd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){fd(e,t),typeof n!="function"&&(An===null?An=new Set([this]):An.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Cp(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new g1;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=R1.bind(null,e,t,r),t.then(e,e))}function Ep(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tp(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Wr(-1,1),t.tag=2,On(r,t,1))),r.lanes|=1),e)}var b1=Zr.ReactCurrentOwner,Nt=!1;function pt(e,t,r,n){t.child=e===null?qg(t,null,r,n):Ao(t,e.child,r,n)}function Pp(e,t,r,n,s){r=r.render;var o=t.ref;return ho(t,s),n=Wh(e,t,r,n,o,s),r=Vh(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qr(e,t,s)):(Pe&&r&&Oh(t),t.flags|=1,pt(e,t,n,s),t.child)}function Rp(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!tf(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,m0(e,t,o,n,s)):(e=gl(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Ma,r(i,n)&&e.ref===t.ref)return Qr(e,t,s)}return t.flags|=1,e=Ln(o,n),e.ref=t.ref,e.return=t,t.child=e}function m0(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(Ma(o,n)&&e.ref===t.ref)if(Nt=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(Nt=!0);else return t.lanes=e.lanes,Qr(e,t,s)}return pd(e,t,r,n,s)}function x0(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(oo,At),At|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(oo,At),At|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,ke(oo,At),At|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,ke(oo,At),At|=n;return pt(e,t,s,r),t.child}function g0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function pd(e,t,r,n,s){var o=Ct(r)?vs:ct.current;return o=Ro(t,o),ho(t,s),r=Wh(e,t,r,n,o,s),n=Vh(),e!==null&&!Nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Qr(e,t,s)):(Pe&&n&&Oh(t),t.flags|=1,pt(e,t,r,s),t.child)}function Op(e,t,r,n,s){if(Ct(r)){var o=!0;Ol(t)}else o=!1;if(ho(t,s),t.stateNode===null)pl(e,t),h0(t,r,n),hd(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Yt(u):(u=Ct(r)?vs:ct.current,u=Ro(t,u));var h=r.getDerivedStateFromProps,d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Sp(t,i,n,u),un=!1;var f=t.memoizedState;i.state=f,Ml(t,n,i,s),c=t.memoizedState,l!==n||f!==c||St.current||un?(typeof h=="function"&&(dd(t,r,h,n),c=t.memoizedState),(l=un||Np(t,r,l,n,f,c,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Vg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ar(t.type,l),i.props=u,d=t.pendingProps,f=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Yt(c):(c=Ct(r)?vs:ct.current,c=Ro(t,c));var p=r.getDerivedStateFromProps;(h=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==d||f!==c)&&Sp(t,i,n,c),un=!1,f=t.memoizedState,i.state=f,Ml(t,n,i,s);var v=t.memoizedState;l!==d||f!==v||St.current||un?(typeof p=="function"&&(dd(t,r,p,n),v=t.memoizedState),(u=un||Np(t,r,u,n,f,v,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,v,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),i.props=n,i.state=v,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return md(e,t,r,n,o,s)}function md(e,t,r,n,s,o){g0(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&gp(t,r,!1),Qr(e,t,o);n=t.stateNode,b1.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Ao(t,e.child,null,o),t.child=Ao(t,null,l,o)):pt(e,t,l,o),t.memoizedState=n.state,s&&gp(t,r,!0),t.child}function b0(e){var t=e.stateNode;t.pendingContext?xp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xp(e,t.context,!1),Uh(e,t.containerInfo)}function Ap(e,t,r,n,s){return Oo(),Ih(s),t.flags|=256,pt(e,t,r,n),t.child}var xd={dehydrated:null,treeContext:null,retryLane:0};function gd(e){return{baseLanes:e,cachePool:null,transitions:null}}function y0(e,t,r){var n=t.pendingProps,s=Ae.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ke(Ae,s&1),e===null)return cd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=gc(i,n,0,null),e=bs(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=gd(r),t.memoizedState=xd,e):Gh(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return y1(e,t,i,n,l,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ln(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Ln(l,o):(o=bs(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?gd(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=xd,n}return o=e.child,e=o.sibling,n=Ln(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Gh(e,t){return t=gc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zi(e,t,r,n){return n!==null&&Ih(n),Ao(t,e.child,null,r),e=Gh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function y1(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=du(Error(W(422))),zi(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=gc({mode:"visible",children:n.children},s,0,null),o=bs(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Ao(t,e.child,null,i),t.child.memoizedState=gd(i),t.memoizedState=xd,o);if(!(t.mode&1))return zi(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(W(419)),n=du(o,n,void 0),zi(e,t,i,n)}if(l=(i&e.childLanes)!==0,Nt||l){if(n=Je,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Gr(e,s),pr(n,e,s,-1))}return ef(),n=du(Error(W(421))),zi(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=O1.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Dt=Rn(s.nextSibling),Mt=t,Pe=!0,hr=null,e!==null&&(Ht[Kt++]=Br,Ht[Kt++]=qr,Ht[Kt++]=ws,Br=e.id,qr=e.overflow,ws=t),t=Gh(t,n.children),t.flags|=4096,t)}function Ip(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ud(e.return,t,r)}function hu(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function v0(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(pt(e,t,n.children,r),n=Ae.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ip(e,r,t);else if(e.tag===19)Ip(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ke(Ae,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&$l(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),hu(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&$l(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}hu(t,!0,r,null,o);break;case"together":hu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ks|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=Ln(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ln(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function v1(e,t,r){switch(t.tag){case 3:b0(t),Oo();break;case 5:Hg(t);break;case 1:Ct(t.type)&&Ol(t);break;case 4:Uh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ke(Ll,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ke(Ae,Ae.current&1),t.flags|=128,null):r&t.child.childLanes?y0(e,t,r):(ke(Ae,Ae.current&1),e=Qr(e,t,r),e!==null?e.sibling:null);ke(Ae,Ae.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return v0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ke(Ae,Ae.current),n)break;return null;case 22:case 23:return t.lanes=0,x0(e,t,r)}return Qr(e,t,r)}var w0,bd,j0,k0;w0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bd=function(){};j0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,as(Er.current);var o=null;switch(r){case"input":s=Uu(e,s),n=Uu(e,n),o=[];break;case"select":s=Le({},s,{value:void 0}),n=Le({},n,{value:void 0}),o=[];break;case"textarea":s=qu(e,s),n=qu(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Pl)}Vu(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pa.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pa.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Se("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};k0=function(e,t,r,n){r!==n&&(t.flags|=4)};function aa(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function w1(e,t,r){var n=t.pendingProps;switch(Ah(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return Ct(t.type)&&Rl(),at(t),null;case 3:return n=t.stateNode,Io(),Ce(St),Ce(ct),Bh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Fi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hr!==null&&(Sd(hr),hr=null))),bd(e,t),at(t),null;case 5:zh(t);var s=as(Ba.current);if(r=t.type,e!==null&&t.stateNode!=null)j0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(W(166));return at(t),null}if(e=as(Er.current),Fi(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Nr]=t,n[Ua]=o,e=(t.mode&1)!==0,r){case"dialog":Se("cancel",n),Se("close",n);break;case"iframe":case"object":case"embed":Se("load",n);break;case"video":case"audio":for(s=0;s<pa.length;s++)Se(pa[s],n);break;case"source":Se("error",n);break;case"img":case"image":case"link":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"input":qf(n,o),Se("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Se("invalid",n);break;case"textarea":Vf(n,o),Se("invalid",n)}Vu(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&$i(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&$i(n.textContent,l,e),s=["children",""+l]):Pa.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Se("scroll",n)}switch(r){case"input":Pi(n),Wf(n,o,!0);break;case"textarea":Pi(n),Hf(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Pl)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yx(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Nr]=t,e[Ua]=n,w0(e,t,!1,!1),t.stateNode=e;e:{switch(i=Hu(r,n),r){case"dialog":Se("cancel",e),Se("close",e),s=n;break;case"iframe":case"object":case"embed":Se("load",e),s=n;break;case"video":case"audio":for(s=0;s<pa.length;s++)Se(pa[s],e);s=n;break;case"source":Se("error",e),s=n;break;case"img":case"image":case"link":Se("error",e),Se("load",e),s=n;break;case"details":Se("toggle",e),s=n;break;case"input":qf(e,n),s=Uu(e,n),Se("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Le({},n,{value:void 0}),Se("invalid",e);break;case"textarea":Vf(e,n),s=qu(e,n),Se("invalid",e);break;default:s=n}Vu(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?eg(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Xx(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ra(e,c):typeof c=="number"&&Ra(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Pa.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Se("scroll",e):c!=null&&bh(e,o,c,i))}switch(r){case"input":Pi(e),Wf(e,n,!1);break;case"textarea":Pi(e),Hf(e);break;case"option":n.value!=null&&e.setAttribute("value",""+$n(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?io(e,!!n.multiple,o,!1):n.defaultValue!=null&&io(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Pl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return at(t),null;case 6:if(e&&t.stateNode!=null)k0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(W(166));if(r=as(Ba.current),as(Er.current),Fi(t)){if(n=t.stateNode,r=t.memoizedProps,n[Nr]=t,(o=n.nodeValue!==r)&&(e=Mt,e!==null))switch(e.tag){case 3:$i(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$i(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Nr]=t,t.stateNode=n}return at(t),null;case 13:if(Ce(Ae),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&Dt!==null&&t.mode&1&&!(t.flags&128))zg(),Oo(),t.flags|=98560,o=!1;else if(o=Fi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(W(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[Nr]=t}else Oo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;at(t),o=!1}else hr!==null&&(Sd(hr),hr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ae.current&1?Ge===0&&(Ge=3):ef())),t.updateQueue!==null&&(t.flags|=4),at(t),null);case 4:return Io(),bd(e,t),e===null&&$a(t.stateNode.containerInfo),at(t),null;case 10:return Mh(t.type._context),at(t),null;case 17:return Ct(t.type)&&Rl(),at(t),null;case 19:if(Ce(Ae),o=t.memoizedState,o===null)return at(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)aa(o,!1);else{if(Ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=$l(e),i!==null){for(t.flags|=128,aa(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ke(Ae,Ae.current&1|2),t.child}e=e.sibling}o.tail!==null&&Fe()>Do&&(t.flags|=128,n=!0,aa(o,!1),t.lanes=4194304)}else{if(!n)if(e=$l(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),aa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Pe)return at(t),null}else 2*Fe()-o.renderingStartTime>Do&&r!==1073741824&&(t.flags|=128,n=!0,aa(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Fe(),t.sibling=null,r=Ae.current,ke(Ae,n?r&1|2:r&1),t):(at(t),null);case 22:case 23:return Zh(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?At&1073741824&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function j1(e,t){switch(Ah(t),t.tag){case 1:return Ct(t.type)&&Rl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Io(),Ce(St),Ce(ct),Bh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zh(t),null;case 13:if(Ce(Ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));Oo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Ae),null;case 4:return Io(),null;case 10:return Mh(t.type._context),null;case 22:case 23:return Zh(),null;case 24:return null;default:return null}}var Bi=!1,lt=!1,k1=typeof WeakSet=="function"?WeakSet:Set,X=null;function so(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){$e(e,t,n)}else r.current=null}function yd(e,t,r){try{r()}catch(n){$e(e,t,n)}}var Lp=!1;function _1(e,t){if(rd=Cl,e=Eg(),Rh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(l=i+s),d!==o||n!==0&&d.nodeType!==3||(c=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===r&&++u===s&&(l=i),f===o&&++h===n&&(c=i),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(nd={focusedElem:e,selectionRange:r},Cl=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,x=t.stateNode,g=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:ar(t.type,y),w);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(j){$e(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return v=Lp,Lp=!1,v}function ka(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&yd(t,r,o)}s=s.next}while(s!==n)}}function mc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function vd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function _0(e){var t=e.alternate;t!==null&&(e.alternate=null,_0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nr],delete t[Ua],delete t[ad],delete t[a1],delete t[i1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function N0(e){return e.tag===5||e.tag===3||e.tag===4}function Dp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||N0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Pl));else if(n!==4&&(e=e.child,e!==null))for(wd(e,t,r),e=e.sibling;e!==null;)wd(e,t,r),e=e.sibling}function jd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(jd(e,t,r),e=e.sibling;e!==null;)jd(e,t,r),e=e.sibling}var tt=null,ur=!1;function sn(e,t,r){for(r=r.child;r!==null;)S0(e,t,r),r=r.sibling}function S0(e,t,r){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(ic,r)}catch{}switch(r.tag){case 5:lt||so(r,t);case 6:var n=tt,s=ur;tt=null,sn(e,t,r),tt=n,ur=s,tt!==null&&(ur?(e=tt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):tt.removeChild(r.stateNode));break;case 18:tt!==null&&(ur?(e=tt,r=r.stateNode,e.nodeType===8?ou(e.parentNode,r):e.nodeType===1&&ou(e,r),La(e)):ou(tt,r.stateNode));break;case 4:n=tt,s=ur,tt=r.stateNode.containerInfo,ur=!0,sn(e,t,r),tt=n,ur=s;break;case 0:case 11:case 14:case 15:if(!lt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&yd(r,t,i),s=s.next}while(s!==n)}sn(e,t,r);break;case 1:if(!lt&&(so(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){$e(r,t,l)}sn(e,t,r);break;case 21:sn(e,t,r);break;case 22:r.mode&1?(lt=(n=lt)||r.memoizedState!==null,sn(e,t,r),lt=n):sn(e,t,r);break;default:sn(e,t,r)}}function Mp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new k1),t.forEach(function(n){var s=A1.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function nr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:tt=l.stateNode,ur=!1;break e;case 3:tt=l.stateNode.containerInfo,ur=!0;break e;case 4:tt=l.stateNode.containerInfo,ur=!0;break e}l=l.return}if(tt===null)throw Error(W(160));S0(o,i,s),tt=null,ur=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){$e(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)C0(t,e),t=t.sibling}function C0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nr(t,e),vr(e),n&4){try{ka(3,e,e.return),mc(3,e)}catch(y){$e(e,e.return,y)}try{ka(5,e,e.return)}catch(y){$e(e,e.return,y)}}break;case 1:nr(t,e),vr(e),n&512&&r!==null&&so(r,r.return);break;case 5:if(nr(t,e),vr(e),n&512&&r!==null&&so(r,r.return),e.flags&32){var s=e.stateNode;try{Ra(s,"")}catch(y){$e(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Qx(s,o),Hu(l,i);var u=Hu(l,o);for(i=0;i<c.length;i+=2){var h=c[i],d=c[i+1];h==="style"?eg(s,d):h==="dangerouslySetInnerHTML"?Xx(s,d):h==="children"?Ra(s,d):bh(s,h,d,u)}switch(l){case"input":zu(s,o);break;case"textarea":Jx(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?io(s,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?io(s,!!o.multiple,o.defaultValue,!0):io(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ua]=o}catch(y){$e(e,e.return,y)}}break;case 6:if(nr(t,e),vr(e),n&4){if(e.stateNode===null)throw Error(W(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(y){$e(e,e.return,y)}}break;case 3:if(nr(t,e),vr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{La(t.containerInfo)}catch(y){$e(e,e.return,y)}break;case 4:nr(t,e),vr(e);break;case 13:nr(t,e),vr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Yh=Fe())),n&4&&Mp(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(lt=(u=lt)||h,nr(t,e),lt=u):nr(t,e),vr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(X=e,h=e.child;h!==null;){for(d=X=h;X!==null;){switch(f=X,p=f.child,f.tag){case 0:case 11:case 14:case 15:ka(4,f,f.return);break;case 1:so(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){$e(n,r,y)}}break;case 5:so(f,f.return);break;case 22:if(f.memoizedState!==null){Fp(d);continue}}p!==null?(p.return=f,X=p):Fp(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,c=d.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Zx("display",i))}catch(y){$e(e,e.return,y)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){$e(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:nr(t,e),vr(e),n&4&&Mp(e);break;case 21:break;default:nr(t,e),vr(e)}}function vr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(N0(r)){var n=r;break e}r=r.return}throw Error(W(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ra(s,""),n.flags&=-33);var o=Dp(e);jd(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Dp(e);wd(e,l,i);break;default:throw Error(W(161))}}catch(c){$e(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function N1(e,t,r){X=e,E0(e)}function E0(e,t,r){for(var n=(e.mode&1)!==0;X!==null;){var s=X,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Bi;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||lt;l=Bi;var u=lt;if(Bi=i,(lt=c)&&!u)for(X=s;X!==null;)i=X,c=i.child,i.tag===22&&i.memoizedState!==null?Up(s):c!==null?(c.return=i,X=c):Up(s);for(;o!==null;)X=o,E0(o),o=o.sibling;X=s,Bi=l,lt=u}$p(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,X=o):$p(e)}}function $p(e){for(;X!==null;){var t=X;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:lt||mc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!lt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ar(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&jp(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}jp(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&La(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}lt||t.flags&512&&vd(t)}catch(f){$e(t,t.return,f)}}if(t===e){X=null;break}if(r=t.sibling,r!==null){r.return=t.return,X=r;break}X=t.return}}function Fp(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var r=t.sibling;if(r!==null){r.return=t.return,X=r;break}X=t.return}}function Up(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{mc(4,t)}catch(c){$e(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){$e(t,s,c)}}var o=t.return;try{vd(t)}catch(c){$e(t,o,c)}break;case 5:var i=t.return;try{vd(t)}catch(c){$e(t,i,c)}}}catch(c){$e(t,t.return,c)}if(t===e){X=null;break}var l=t.sibling;if(l!==null){l.return=t.return,X=l;break}X=t.return}}var S1=Math.ceil,zl=Zr.ReactCurrentDispatcher,Qh=Zr.ReactCurrentOwner,Qt=Zr.ReactCurrentBatchConfig,me=0,Je=null,ze=null,rt=0,At=0,oo=Hn(0),Ge=0,Ha=null,ks=0,xc=0,Jh=0,_a=null,_t=null,Yh=0,Do=1/0,Mr=null,Bl=!1,kd=null,An=null,qi=!1,Sn=null,ql=0,Na=0,_d=null,ml=-1,xl=0;function xt(){return me&6?Fe():ml!==-1?ml:ml=Fe()}function In(e){return e.mode&1?me&2&&rt!==0?rt&-rt:c1.transition!==null?(xl===0&&(xl=hg()),xl):(e=ye,e!==0||(e=window.event,e=e===void 0?16:yg(e.type)),e):1}function pr(e,t,r,n){if(50<Na)throw Na=0,_d=null,Error(W(185));di(e,r,n),(!(me&2)||e!==Je)&&(e===Je&&(!(me&2)&&(xc|=r),Ge===4&&fn(e,rt)),Et(e,n),r===1&&me===0&&!(t.mode&1)&&(Do=Fe()+500,hc&&Kn()))}function Et(e,t){var r=e.callbackNode;cw(e,t);var n=Sl(e,e===Je?rt:0);if(n===0)r!==null&&Qf(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Qf(r),t===1)e.tag===0?l1(zp.bind(null,e)):$g(zp.bind(null,e)),s1(function(){!(me&6)&&Kn()}),r=null;else{switch(fg(n)){case 1:r=kh;break;case 4:r=ug;break;case 16:r=Nl;break;case 536870912:r=dg;break;default:r=Nl}r=D0(r,T0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function T0(e,t){if(ml=-1,xl=0,me&6)throw Error(W(327));var r=e.callbackNode;if(fo()&&e.callbackNode!==r)return null;var n=Sl(e,e===Je?rt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Wl(e,n);else{t=n;var s=me;me|=2;var o=R0();(Je!==e||rt!==t)&&(Mr=null,Do=Fe()+500,gs(e,t));do try{T1();break}catch(l){P0(e,l)}while(!0);Dh(),zl.current=o,me=s,ze!==null?t=0:(Je=null,rt=0,t=Ge)}if(t!==0){if(t===2&&(s=Yu(e),s!==0&&(n=s,t=Nd(e,s))),t===1)throw r=Ha,gs(e,0),fn(e,n),Et(e,Fe()),r;if(t===6)fn(e,n);else{if(s=e.current.alternate,!(n&30)&&!C1(s)&&(t=Wl(e,n),t===2&&(o=Yu(e),o!==0&&(n=o,t=Nd(e,o))),t===1))throw r=Ha,gs(e,0),fn(e,n),Et(e,Fe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(W(345));case 2:es(e,_t,Mr);break;case 3:if(fn(e,n),(n&130023424)===n&&(t=Yh+500-Fe(),10<t)){if(Sl(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){xt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=od(es.bind(null,e,_t,Mr),t);break}es(e,_t,Mr);break;case 4:if(fn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-fr(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=Fe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*S1(n/1960))-n,10<n){e.timeoutHandle=od(es.bind(null,e,_t,Mr),n);break}es(e,_t,Mr);break;case 5:es(e,_t,Mr);break;default:throw Error(W(329))}}}return Et(e,Fe()),e.callbackNode===r?T0.bind(null,e):null}function Nd(e,t){var r=_a;return e.current.memoizedState.isDehydrated&&(gs(e,t).flags|=256),e=Wl(e,t),e!==2&&(t=_t,_t=r,t!==null&&Sd(t)),e}function Sd(e){_t===null?_t=e:_t.push.apply(_t,e)}function C1(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!mr(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fn(e,t){for(t&=~Jh,t&=~xc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-fr(t),n=1<<r;e[r]=-1,t&=~n}}function zp(e){if(me&6)throw Error(W(327));fo();var t=Sl(e,0);if(!(t&1))return Et(e,Fe()),null;var r=Wl(e,t);if(e.tag!==0&&r===2){var n=Yu(e);n!==0&&(t=n,r=Nd(e,n))}if(r===1)throw r=Ha,gs(e,0),fn(e,t),Et(e,Fe()),r;if(r===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,es(e,_t,Mr),Et(e,Fe()),null}function Xh(e,t){var r=me;me|=1;try{return e(t)}finally{me=r,me===0&&(Do=Fe()+500,hc&&Kn())}}function _s(e){Sn!==null&&Sn.tag===0&&!(me&6)&&fo();var t=me;me|=1;var r=Qt.transition,n=ye;try{if(Qt.transition=null,ye=1,e)return e()}finally{ye=n,Qt.transition=r,me=t,!(me&6)&&Kn()}}function Zh(){At=oo.current,Ce(oo)}function gs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,n1(r)),ze!==null)for(r=ze.return;r!==null;){var n=r;switch(Ah(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Rl();break;case 3:Io(),Ce(St),Ce(ct),Bh();break;case 5:zh(n);break;case 4:Io();break;case 13:Ce(Ae);break;case 19:Ce(Ae);break;case 10:Mh(n.type._context);break;case 22:case 23:Zh()}r=r.return}if(Je=e,ze=e=Ln(e.current,null),rt=At=t,Ge=0,Ha=null,Jh=xc=ks=0,_t=_a=null,os!==null){for(t=0;t<os.length;t++)if(r=os[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}os=null}return e}function P0(e,t){do{var r=ze;try{if(Dh(),hl.current=Ul,Fl){for(var n=Ie.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Fl=!1}if(js=0,Qe=Ve=Ie=null,ja=!1,qa=0,Qh.current=null,r===null||r.return===null){Ge=1,Ha=t,ze=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=rt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Ep(i);if(p!==null){p.flags&=-257,Tp(p,i,l,o,t),p.mode&1&&Cp(o,u,t),t=p,c=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}else{if(!(t&1)){Cp(o,u,t),ef();break e}c=Error(W(426))}}else if(Pe&&l.mode&1){var w=Ep(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Tp(w,i,l,o,t),Ih(Lo(c,l));break e}}o=c=Lo(c,l),Ge!==4&&(Ge=2),_a===null?_a=[o]:_a.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=f0(o,c,t);wp(o,x);break e;case 1:l=c;var g=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(An===null||!An.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=p0(o,l,t);wp(o,j);break e}}o=o.return}while(o!==null)}A0(r)}catch(N){t=N,ze===r&&r!==null&&(ze=r=r.return);continue}break}while(!0)}function R0(){var e=zl.current;return zl.current=Ul,e===null?Ul:e}function ef(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Je===null||!(ks&268435455)&&!(xc&268435455)||fn(Je,rt)}function Wl(e,t){var r=me;me|=2;var n=R0();(Je!==e||rt!==t)&&(Mr=null,gs(e,t));do try{E1();break}catch(s){P0(e,s)}while(!0);if(Dh(),me=r,zl.current=n,ze!==null)throw Error(W(261));return Je=null,rt=0,Ge}function E1(){for(;ze!==null;)O0(ze)}function T1(){for(;ze!==null&&!ew();)O0(ze)}function O0(e){var t=L0(e.alternate,e,At);e.memoizedProps=e.pendingProps,t===null?A0(e):ze=t,Qh.current=null}function A0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=j1(r,t),r!==null){r.flags&=32767,ze=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,ze=null;return}}else if(r=w1(r,t,At),r!==null){ze=r;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);Ge===0&&(Ge=5)}function es(e,t,r){var n=ye,s=Qt.transition;try{Qt.transition=null,ye=1,P1(e,t,r,n)}finally{Qt.transition=s,ye=n}return null}function P1(e,t,r,n){do fo();while(Sn!==null);if(me&6)throw Error(W(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(uw(e,o),e===Je&&(ze=Je=null,rt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||qi||(qi=!0,D0(Nl,function(){return fo(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Qt.transition,Qt.transition=null;var i=ye;ye=1;var l=me;me|=4,Qh.current=null,_1(e,r),C0(r,e),Jw(nd),Cl=!!rd,nd=rd=null,e.current=r,N1(r),tw(),me=l,ye=i,Qt.transition=o}else e.current=r;if(qi&&(qi=!1,Sn=e,ql=s),o=e.pendingLanes,o===0&&(An=null),sw(r.stateNode),Et(e,Fe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Bl)throw Bl=!1,e=kd,kd=null,e;return ql&1&&e.tag!==0&&fo(),o=e.pendingLanes,o&1?e===_d?Na++:(Na=0,_d=e):Na=0,Kn(),null}function fo(){if(Sn!==null){var e=fg(ql),t=Qt.transition,r=ye;try{if(Qt.transition=null,ye=16>e?16:e,Sn===null)var n=!1;else{if(e=Sn,Sn=null,ql=0,me&6)throw Error(W(331));var s=me;for(me|=4,X=e.current;X!==null;){var o=X,i=o.child;if(X.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(X=u;X!==null;){var h=X;switch(h.tag){case 0:case 11:case 15:ka(8,h,o)}var d=h.child;if(d!==null)d.return=h,X=d;else for(;X!==null;){h=X;var f=h.sibling,p=h.return;if(_0(h),h===u){X=null;break}if(f!==null){f.return=p,X=f;break}X=p}}}var v=o.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}X=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,X=i;else e:for(;X!==null;){if(o=X,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ka(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,X=x;break e}X=o.return}}var g=e.current;for(X=g;X!==null;){i=X;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,X=b;else e:for(i=g;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:mc(9,l)}}catch(N){$e(l,l.return,N)}if(l===i){X=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,X=j;break e}X=l.return}}if(me=s,Kn(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(ic,e)}catch{}n=!0}return n}finally{ye=r,Qt.transition=t}}return!1}function Bp(e,t,r){t=Lo(r,t),t=f0(e,t,1),e=On(e,t,1),t=xt(),e!==null&&(di(e,1,t),Et(e,t))}function $e(e,t,r){if(e.tag===3)Bp(e,e,r);else for(;t!==null;){if(t.tag===3){Bp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(An===null||!An.has(n))){e=Lo(r,e),e=p0(t,e,1),t=On(t,e,1),e=xt(),t!==null&&(di(t,1,e),Et(t,e));break}}t=t.return}}function R1(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=xt(),e.pingedLanes|=e.suspendedLanes&r,Je===e&&(rt&r)===r&&(Ge===4||Ge===3&&(rt&130023424)===rt&&500>Fe()-Yh?gs(e,0):Jh|=r),Et(e,t)}function I0(e,t){t===0&&(e.mode&1?(t=Ai,Ai<<=1,!(Ai&130023424)&&(Ai=4194304)):t=1);var r=xt();e=Gr(e,t),e!==null&&(di(e,t,r),Et(e,r))}function O1(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),I0(e,r)}function A1(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(t),I0(e,r)}var L0;L0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)Nt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Nt=!1,v1(e,t,r);Nt=!!(e.flags&131072)}else Nt=!1,Pe&&t.flags&1048576&&Fg(t,Il,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;pl(e,t),e=t.pendingProps;var s=Ro(t,ct.current);ho(t,r),s=Wh(null,t,n,e,s,r);var o=Vh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ct(n)?(o=!0,Ol(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fh(t),s.updater=pc,t.stateNode=s,s._reactInternals=t,hd(t,n,e,r),t=md(null,t,n,!0,o,r)):(t.tag=0,Pe&&o&&Oh(t),pt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(pl(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=L1(n),e=ar(n,e),s){case 0:t=pd(null,t,n,e,r);break e;case 1:t=Op(null,t,n,e,r);break e;case 11:t=Pp(null,t,n,e,r);break e;case 14:t=Rp(null,t,n,ar(n.type,e),r);break e}throw Error(W(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ar(n,s),pd(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ar(n,s),Op(e,t,n,s,r);case 3:e:{if(b0(t),e===null)throw Error(W(387));n=t.pendingProps,o=t.memoizedState,s=o.element,Vg(e,t),Ml(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Lo(Error(W(423)),t),t=Ap(e,t,n,r,s);break e}else if(n!==s){s=Lo(Error(W(424)),t),t=Ap(e,t,n,r,s);break e}else for(Dt=Rn(t.stateNode.containerInfo.firstChild),Mt=t,Pe=!0,hr=null,r=qg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Oo(),n===s){t=Qr(e,t,r);break e}pt(e,t,n,r)}t=t.child}return t;case 5:return Hg(t),e===null&&cd(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,sd(n,s)?i=null:o!==null&&sd(n,o)&&(t.flags|=32),g0(e,t),pt(e,t,i,r),t.child;case 6:return e===null&&cd(t),null;case 13:return y0(e,t,r);case 4:return Uh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ao(t,null,n,r):pt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ar(n,s),Pp(e,t,n,s,r);case 7:return pt(e,t,t.pendingProps,r),t.child;case 8:return pt(e,t,t.pendingProps.children,r),t.child;case 12:return pt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,ke(Ll,n._currentValue),n._currentValue=i,o!==null)if(mr(o.value,i)){if(o.children===s.children&&!St.current){t=Qr(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Wr(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),ud(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(W(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),ud(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}pt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ho(t,r),s=Yt(s),n=n(s),t.flags|=1,pt(e,t,n,r),t.child;case 14:return n=t.type,s=ar(n,t.pendingProps),s=ar(n.type,s),Rp(e,t,n,s,r);case 15:return m0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ar(n,s),pl(e,t),t.tag=1,Ct(n)?(e=!0,Ol(t)):e=!1,ho(t,r),h0(t,n,s),hd(t,n,s,r),md(null,t,n,!0,e,r);case 19:return v0(e,t,r);case 22:return x0(e,t,r)}throw Error(W(156,t.tag))};function D0(e,t){return cg(e,t)}function I1(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,t,r,n){return new I1(e,t,r,n)}function tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function L1(e){if(typeof e=="function")return tf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vh)return 11;if(e===wh)return 14}return 2}function Ln(e,t){var r=e.alternate;return r===null?(r=Gt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function gl(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")tf(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Qs:return bs(r.children,s,o,t);case yh:i=8,s|=8;break;case Du:return e=Gt(12,r,t,s|2),e.elementType=Du,e.lanes=o,e;case Mu:return e=Gt(13,r,t,s),e.elementType=Mu,e.lanes=o,e;case $u:return e=Gt(19,r,t,s),e.elementType=$u,e.lanes=o,e;case Hx:return gc(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wx:i=10;break e;case Vx:i=9;break e;case vh:i=11;break e;case wh:i=14;break e;case cn:i=16,n=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Gt(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function bs(e,t,r,n){return e=Gt(7,e,n,t),e.lanes=r,e}function gc(e,t,r,n){return e=Gt(22,e,n,t),e.elementType=Hx,e.lanes=r,e.stateNode={isHidden:!1},e}function fu(e,t,r){return e=Gt(6,e,null,t),e.lanes=r,e}function pu(e,t,r){return t=Gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function D1(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gc(0),this.expirationTimes=Gc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gc(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rf(e,t,r,n,s,o,i,l,c){return e=new D1(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Gt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fh(o),e}function M1(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function M0(e){if(!e)return Fn;e=e._reactInternals;e:{if(Os(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var r=e.type;if(Ct(r))return Mg(e,r,t)}return t}function $0(e,t,r,n,s,o,i,l,c){return e=rf(r,n,!0,e,s,o,i,l,c),e.context=M0(null),r=e.current,n=xt(),s=In(r),o=Wr(n,s),o.callback=t??null,On(r,o,s),e.current.lanes=s,di(e,s,n),Et(e,n),e}function bc(e,t,r,n){var s=t.current,o=xt(),i=In(s);return r=M0(r),t.context===null?t.context=r:t.pendingContext=r,t=Wr(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=On(s,t,i),e!==null&&(pr(e,s,i,o),dl(e,s,i)),i}function Vl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function nf(e,t){qp(e,t),(e=e.alternate)&&qp(e,t)}function $1(){return null}var F0=typeof reportError=="function"?reportError:function(e){console.error(e)};function sf(e){this._internalRoot=e}yc.prototype.render=sf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));bc(e,t,null,null)};yc.prototype.unmount=sf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_s(function(){bc(null,e,null,null)}),t[Kr]=null}};function yc(e){this._internalRoot=e}yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<hn.length&&t!==0&&t<hn[r].priority;r++);hn.splice(r,0,e),r===0&&bg(e)}};function of(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wp(){}function F1(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=Vl(i);o.call(u)}}var i=$0(t,n,e,0,null,!1,!1,"",Wp);return e._reactRootContainer=i,e[Kr]=i.current,$a(e.nodeType===8?e.parentNode:e),_s(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Vl(c);l.call(u)}}var c=rf(e,0,!1,null,null,!1,!1,"",Wp);return e._reactRootContainer=c,e[Kr]=c.current,$a(e.nodeType===8?e.parentNode:e),_s(function(){bc(t,c,r,n)}),c}function wc(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=Vl(i);l.call(c)}}bc(t,i,e,s)}else i=F1(r,t,e,s,n);return Vl(i)}pg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=fa(t.pendingLanes);r!==0&&(_h(t,r|1),Et(t,Fe()),!(me&6)&&(Do=Fe()+500,Kn()))}break;case 13:_s(function(){var n=Gr(e,1);if(n!==null){var s=xt();pr(n,e,1,s)}}),nf(e,1)}};Nh=function(e){if(e.tag===13){var t=Gr(e,134217728);if(t!==null){var r=xt();pr(t,e,134217728,r)}nf(e,134217728)}};mg=function(e){if(e.tag===13){var t=In(e),r=Gr(e,t);if(r!==null){var n=xt();pr(r,e,t,n)}nf(e,t)}};xg=function(){return ye};gg=function(e,t){var r=ye;try{return ye=e,t()}finally{ye=r}};Gu=function(e,t,r){switch(t){case"input":if(zu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=dc(n);if(!s)throw Error(W(90));Gx(n),zu(n,s)}}}break;case"textarea":Jx(e,r);break;case"select":t=r.value,t!=null&&io(e,!!r.multiple,t,!1)}};ng=Xh;sg=_s;var U1={usingClientEntryPoint:!1,Events:[fi,Zs,dc,tg,rg,Xh]},ia={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},z1={bundleType:ia.bundleType,version:ia.version,rendererPackageName:ia.rendererPackageName,rendererConfig:ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ig(e),e===null?null:e.stateNode},findFiberByHostInstance:ia.findFiberByHostInstance||$1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wi.isDisabled&&Wi.supportsFiber)try{ic=Wi.inject(z1),Cr=Wi}catch{}}Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U1;Ut.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!of(t))throw Error(W(200));return M1(e,t,null,r)};Ut.createRoot=function(e,t){if(!of(e))throw Error(W(299));var r=!1,n="",s=F0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=rf(e,1,!1,null,null,r,!1,n,s),e[Kr]=t.current,$a(e.nodeType===8?e.parentNode:e),new sf(t)};Ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=ig(t),e=e===null?null:e.stateNode,e};Ut.flushSync=function(e){return _s(e)};Ut.hydrate=function(e,t,r){if(!vc(t))throw Error(W(200));return wc(null,e,t,!0,r)};Ut.hydrateRoot=function(e,t,r){if(!of(e))throw Error(W(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=F0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=$0(t,null,e,1,r??null,s,!1,o,i),e[Kr]=t.current,$a(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new yc(t)};Ut.render=function(e,t,r){if(!vc(t))throw Error(W(200));return wc(null,e,t,!1,r)};Ut.unmountComponentAtNode=function(e){if(!vc(e))throw Error(W(40));return e._reactRootContainer?(_s(function(){wc(null,null,e,!1,function(){e._reactRootContainer=null,e[Kr]=null})}),!0):!1};Ut.unstable_batchedUpdates=Xh;Ut.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!vc(r))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return wc(e,t,r,!1,n)};Ut.version="18.3.1-next-f1338f8080-20240426";function U0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(U0)}catch(e){console.error(e)}}U0(),Ux.exports=Ut;var mi=Ux.exports;const z0=Cx(mi);var B0,Vp=mi;B0=Vp.createRoot,Vp.hydrateRoot;const B1=1,q1=1e6;let mu=0;function W1(){return mu=(mu+1)%Number.MAX_SAFE_INTEGER,mu.toString()}const xu=new Map,Hp=e=>{if(xu.has(e))return;const t=setTimeout(()=>{xu.delete(e),Sa({type:"REMOVE_TOAST",toastId:e})},q1);xu.set(e,t)},V1=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,B1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Hp(r):e.toasts.forEach(n=>{Hp(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},bl=[];let yl={toasts:[]};function Sa(e){yl=V1(yl,e),bl.forEach(t=>{t(yl)})}function H1({...e}){const t=W1(),r=s=>Sa({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Sa({type:"DISMISS_TOAST",toastId:t});return Sa({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function K1(){const[e,t]=m.useState(yl);return m.useEffect(()=>(bl.push(t),()=>{const r=bl.indexOf(t);r>-1&&bl.splice(r,1)}),[e]),{...e,toast:H1,dismiss:r=>Sa({type:"DISMISS_TOAST",toastId:r})}}function He(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Kp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function q0(...e){return t=>{let r=!1;const n=e.map(s=>{const o=Kp(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Kp(e[s],null)}}}}function xr(...e){return m.useCallback(q0(...e),e)}function jc(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];const u=d=>{var x;const{scope:f,children:p,...v}=d,y=((x=f==null?void 0:f[e])==null?void 0:x[c])||l,w=m.useMemo(()=>v,Object.values(v));return a.jsx(y.Provider,{value:w,children:p})};u.displayName=o+"Provider";function h(d,f){var y;const p=((y=f==null?void 0:f[e])==null?void 0:y[c])||l,v=m.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[u,h]}const s=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,G1(s,...t)]}function G1(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Cd(e){const t=Q1(e),r=m.forwardRef((n,s)=>{const{children:o,...i}=n,l=m.Children.toArray(o),c=l.find(Y1);if(c){const u=c.props.children,h=l.map(d=>d===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:d);return a.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,h):null})}return a.jsx(t,{...i,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}function Q1(e){const t=m.forwardRef((r,n)=>{const{children:s,...o}=r;if(m.isValidElement(s)){const i=Z1(s),l=X1(o,s.props);return s.type!==m.Fragment&&(l.ref=n?q0(n,i):i),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var W0=Symbol("radix.slottable");function J1(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=W0,t}function Y1(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===W0}function X1(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function Z1(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function ej(e){const t=e+"CollectionProvider",[r,n]=jc(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:w,children:x}=y,g=H.useRef(null),b=H.useRef(new Map).current;return a.jsx(s,{scope:w,itemMap:b,collectionRef:g,children:x})};i.displayName=t;const l=e+"CollectionSlot",c=Cd(l),u=H.forwardRef((y,w)=>{const{scope:x,children:g}=y,b=o(l,x),j=xr(w,b.collectionRef);return a.jsx(c,{ref:j,children:g})});u.displayName=l;const h=e+"CollectionItemSlot",d="data-radix-collection-item",f=Cd(h),p=H.forwardRef((y,w)=>{const{scope:x,children:g,...b}=y,j=H.useRef(null),N=xr(w,j),_=o(h,x);return H.useEffect(()=>(_.itemMap.set(j,{ref:j,...b}),()=>void _.itemMap.delete(j))),a.jsx(f,{[d]:"",ref:N,children:g})});p.displayName=h;function v(y){const w=o(e+"CollectionConsumer",y);return H.useCallback(()=>{const g=w.collectionRef.current;if(!g)return[];const b=Array.from(g.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((_,k)=>b.indexOf(_.ref.current)-b.indexOf(k.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},v,n]}var tj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pt=tj.reduce((e,t)=>{const r=Cd(`Primitive.${t}`),n=m.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function V0(e,t){e&&mi.flushSync(()=>e.dispatchEvent(t))}function Un(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function rj(e,t=globalThis==null?void 0:globalThis.document){const r=Un(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var nj="DismissableLayer",Ed="dismissableLayer.update",sj="dismissableLayer.pointerDownOutside",oj="dismissableLayer.focusOutside",Gp,H0=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),af=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(H0),[h,d]=m.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),v=xr(t,k=>d(k)),y=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(w),g=h?y.indexOf(h):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,j=g>=x,N=ij(k=>{const E=k.target,A=[...u.branches].some(S=>S.contains(E));!j||A||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},f),_=lj(k=>{const E=k.target;[...u.branches].some(S=>S.contains(E))||(o==null||o(k),i==null||i(k),k.defaultPrevented||l==null||l())},f);return rj(k=>{g===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},f),m.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Gp=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Qp(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Gp)}},[h,f,r,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Qp())},[h,u]),m.useEffect(()=>{const k=()=>p({});return document.addEventListener(Ed,k),()=>document.removeEventListener(Ed,k)},[]),a.jsx(Pt.div,{...c,ref:v,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:He(e.onFocusCapture,_.onFocusCapture),onBlurCapture:He(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:He(e.onPointerDownCapture,N.onPointerDownCapture)})});af.displayName=nj;var aj="DismissableLayerBranch",K0=m.forwardRef((e,t)=>{const r=m.useContext(H0),n=m.useRef(null),s=xr(t,n);return m.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(Pt.div,{...e,ref:s})});K0.displayName=aj;function ij(e,t=globalThis==null?void 0:globalThis.document){const r=Un(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){G0(sj,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function lj(e,t=globalThis==null?void 0:globalThis.document){const r=Un(e),n=m.useRef(!1);return m.useEffect(()=>{const s=o=>{o.target&&!n.current&&G0(oj,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Qp(){const e=new CustomEvent(Ed);document.dispatchEvent(e)}function G0(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?V0(s,o):s.dispatchEvent(o)}var cj=af,uj=K0,zn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},dj="Portal",Q0=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,o]=m.useState(!1);zn(()=>o(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?z0.createPortal(a.jsx(Pt.div,{...n,ref:t}),i):null});Q0.displayName=dj;function hj(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var lf=e=>{const{present:t,children:r}=e,n=fj(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),o=xr(n.ref,pj(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:o}):null};lf.displayName="Presence";function fj(e){const[t,r]=m.useState(),n=m.useRef(null),s=m.useRef(e),o=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=hj(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Vi(n.current);o.current=l==="mounted"?u:"none"},[l]),zn(()=>{const u=n.current,h=s.current;if(h!==e){const f=o.current,p=Vi(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),zn(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,d=p=>{const y=Vi(n.current).includes(p.animationName);if(p.target===t&&y&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},f=p=>{p.target===t&&(o.current=Vi(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Vi(e){return(e==null?void 0:e.animationName)||"none"}function pj(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var mj=$x[" useInsertionEffect ".trim().toString()]||zn;function xj({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,o,i]=gj({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const h=m.useRef(e!==void 0);m.useEffect(()=>{const d=h.current;d!==l&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,n])}const u=m.useCallback(h=>{var d;if(l){const f=bj(h)?h(e):h;f!==e&&((d=i.current)==null||d.call(i,f))}else o(h)},[l,e,o,i]);return[c,u]}function gj({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),s=m.useRef(r),o=m.useRef(t);return mj(()=>{o.current=t},[t]),m.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function bj(e){return typeof e=="function"}var yj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),vj="VisuallyHidden",kc=m.forwardRef((e,t)=>a.jsx(Pt.span,{...e,ref:t,style:{...yj,...e.style}}));kc.displayName=vj;var wj=kc,cf="ToastProvider",[uf,jj,kj]=ej("Toast"),[J0,xT]=jc("Toast",[kj]),[_j,_c]=J0(cf),Y0=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[l,c]=m.useState(null),[u,h]=m.useState(0),d=m.useRef(!1),f=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${cf}\`. Expected non-empty \`string\`.`),a.jsx(uf.Provider,{scope:t,children:a.jsx(_j,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>h(p=>p+1),[]),onToastRemove:m.useCallback(()=>h(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:i})})};Y0.displayName=cf;var X0="ToastViewport",Nj=["F8"],Td="toast.viewportPause",Pd="toast.viewportResume",Z0=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Nj,label:s="Notifications ({hotkey})",...o}=e,i=_c(X0,r),l=jj(r),c=m.useRef(null),u=m.useRef(null),h=m.useRef(null),d=m.useRef(null),f=xr(t,d,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;m.useEffect(()=>{const w=x=>{var b;n.length!==0&&n.every(j=>x[j]||x.code===j)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),m.useEffect(()=>{const w=c.current,x=d.current;if(v&&w&&x){const g=()=>{if(!i.isClosePausedRef.current){const _=new CustomEvent(Td);x.dispatchEvent(_),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const _=new CustomEvent(Pd);x.dispatchEvent(_),i.isClosePausedRef.current=!1}},j=_=>{!w.contains(_.relatedTarget)&&b()},N=()=>{w.contains(document.activeElement)||b()};return w.addEventListener("focusin",g),w.addEventListener("focusout",j),w.addEventListener("pointermove",g),w.addEventListener("pointerleave",N),window.addEventListener("blur",g),window.addEventListener("focus",b),()=>{w.removeEventListener("focusin",g),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",g),w.removeEventListener("pointerleave",N),window.removeEventListener("blur",g),window.removeEventListener("focus",b)}}},[v,i.isClosePausedRef]);const y=m.useCallback(({tabbingDirection:w})=>{const g=l().map(b=>{const j=b.ref.current,N=[j,...$j(j)];return w==="forwards"?N:N.reverse()});return(w==="forwards"?g.reverse():g).flat()},[l]);return m.useEffect(()=>{const w=d.current;if(w){const x=g=>{var N,_,k;const b=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!b){const E=document.activeElement,A=g.shiftKey;if(g.target===w&&A){(N=u.current)==null||N.focus();return}const M=y({tabbingDirection:A?"backwards":"forwards"}),L=M.findIndex(O=>O===E);gu(M.slice(L+1))?g.preventDefault():A?(_=u.current)==null||_.focus():(k=h.current)==null||k.focus()}};return w.addEventListener("keydown",x),()=>w.removeEventListener("keydown",x)}},[l,y]),a.jsxs(uj,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&a.jsx(Rd,{ref:u,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});gu(w)}}),a.jsx(uf.Slot,{scope:r,children:a.jsx(Pt.ol,{tabIndex:-1,...o,ref:f})}),v&&a.jsx(Rd,{ref:h,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});gu(w)}})]})});Z0.displayName=X0;var eb="ToastFocusProxy",Rd=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=_c(eb,r);return a.jsx(kc,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&n()}})});Rd.displayName=eb;var xi="Toast",Sj="toast.swipeStart",Cj="toast.swipeMove",Ej="toast.swipeCancel",Tj="toast.swipeEnd",tb=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=e,[l,c]=xj({prop:n,defaultProp:s??!0,onChange:o,caller:xi});return a.jsx(lf,{present:r||l,children:a.jsx(Oj,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:Un(e.onPause),onResume:Un(e.onResume),onSwipeStart:He(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:He(e.onSwipeMove,u=>{const{x:h,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:He(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:He(e.onSwipeEnd,u=>{const{x:h,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});tb.displayName=xi;var[Pj,Rj]=J0(xi,{onClose(){}}),Oj=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:p,...v}=e,y=_c(xi,r),[w,x]=m.useState(null),g=xr(t,O=>x(O)),b=m.useRef(null),j=m.useRef(null),N=s||y.duration,_=m.useRef(0),k=m.useRef(N),E=m.useRef(0),{onToastAdd:A,onToastRemove:S}=y,z=Un(()=>{var q;(w==null?void 0:w.contains(document.activeElement))&&((q=y.viewport)==null||q.focus()),i()}),M=m.useCallback(O=>{!O||O===1/0||(window.clearTimeout(E.current),_.current=new Date().getTime(),E.current=window.setTimeout(z,O))},[z]);m.useEffect(()=>{const O=y.viewport;if(O){const q=()=>{M(k.current),u==null||u()},V=()=>{const $=new Date().getTime()-_.current;k.current=k.current-$,window.clearTimeout(E.current),c==null||c()};return O.addEventListener(Td,V),O.addEventListener(Pd,q),()=>{O.removeEventListener(Td,V),O.removeEventListener(Pd,q)}}},[y.viewport,N,c,u,M]),m.useEffect(()=>{o&&!y.isClosePausedRef.current&&M(N)},[o,N,y.isClosePausedRef,M]),m.useEffect(()=>(A(),()=>S()),[A,S]);const L=m.useMemo(()=>w?lb(w):null,[w]);return y.viewport?a.jsxs(a.Fragment,{children:[L&&a.jsx(Aj,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),a.jsx(Pj,{scope:r,onClose:z,children:mi.createPortal(a.jsx(uf.ItemSlot,{scope:r,children:a.jsx(cj,{asChild:!0,onEscapeKeyDown:He(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||z(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Pt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:He(e.onKeyDown,O=>{O.key==="Escape"&&(l==null||l(O.nativeEvent),O.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:He(e.onPointerDown,O=>{O.button===0&&(b.current={x:O.clientX,y:O.clientY})}),onPointerMove:He(e.onPointerMove,O=>{if(!b.current)return;const q=O.clientX-b.current.x,V=O.clientY-b.current.y,$=!!j.current,P=["left","right"].includes(y.swipeDirection),I=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,D=P?I(0,q):0,K=P?0:I(0,V),Q=O.pointerType==="touch"?10:2,B={x:D,y:K},T={originalEvent:O,delta:B};$?(j.current=B,Hi(Cj,d,T,{discrete:!1})):Jp(B,y.swipeDirection,Q)?(j.current=B,Hi(Sj,h,T,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(q)>Q||Math.abs(V)>Q)&&(b.current=null)}),onPointerUp:He(e.onPointerUp,O=>{const q=j.current,V=O.target;if(V.hasPointerCapture(O.pointerId)&&V.releasePointerCapture(O.pointerId),j.current=null,b.current=null,q){const $=O.currentTarget,P={originalEvent:O,delta:q};Jp(q,y.swipeDirection,y.swipeThreshold)?Hi(Tj,p,P,{discrete:!0}):Hi(Ej,f,P,{discrete:!0}),$.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Aj=e=>{const{__scopeToast:t,children:r,...n}=e,s=_c(xi,t),[o,i]=m.useState(!1),[l,c]=m.useState(!1);return Dj(()=>i(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Q0,{asChild:!0,children:a.jsx(kc,{...n,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},Ij="ToastTitle",rb=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(Pt.div,{...n,ref:t})});rb.displayName=Ij;var Lj="ToastDescription",nb=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(Pt.div,{...n,ref:t})});nb.displayName=Lj;var sb="ToastAction",ob=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(ib,{altText:r,asChild:!0,children:a.jsx(df,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${sb}\`. Expected non-empty \`string\`.`),null)});ob.displayName=sb;var ab="ToastClose",df=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=Rj(ab,r);return a.jsx(ib,{asChild:!0,children:a.jsx(Pt.button,{type:"button",...n,ref:t,onClick:He(e.onClick,s.onClose)})})});df.displayName=ab;var ib=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return a.jsx(Pt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function lb(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Mj(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...lb(n))}}),t}function Hi(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?V0(s,o):s.dispatchEvent(o)}var Jp=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function Dj(e=()=>{}){const t=Un(e);zn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Mj(e){return e.nodeType===e.ELEMENT_NODE}function $j(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function gu(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Fj=Y0,cb=Z0,ub=tb,db=rb,hb=nb,fb=ob,pb=df;function mb(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=mb(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function xb(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=mb(e))&&(n&&(n+=" "),n+=t);return n}const Yp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Xp=xb,Uj=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Xp(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const h=r==null?void 0:r[u],d=o==null?void 0:o[u];if(h===null)return null;const f=Yp(h)||Yp(d);return s[u][f]}),l=r&&Object.entries(r).reduce((u,h)=>{let[d,f]=h;return f===void 0||(u[d]=f),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let{class:d,className:f,...p}=h;return Object.entries(p).every(v=>{let[y,w]=v;return Array.isArray(w)?w.includes({...o,...l}[y]):{...o,...l}[y]===w})?[...u,d,f]:u},[]);return Xp(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gb=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...l},c)=>m.createElement("svg",{ref:c,...Bj,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:gb("lucide",s),...l},[...i.map(([u,h])=>m.createElement(u,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=(e,t)=>{const r=m.forwardRef(({className:n,...s},o)=>m.createElement(qj,{ref:o,iconNode:t,className:gb(`lucide-${zj(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=Z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=Z("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=Z("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=Z("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=Z("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=Z("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=Z("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=Z("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=Z("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=Z("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=Z("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=Z("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=Z("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=Z("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=Z("FileCheck2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m3 15 2 2 4-4",key:"1lhrkk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=Z("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=Z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=Z("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=Z("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=Z("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=Z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=Z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=Z("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=Z("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=Z("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=Z("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=Z("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=Z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=Z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=Z("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=Z("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=Z("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=Z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=Z("PinOff",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=Z("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=Z("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=Z("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=Z("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=Z("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=Z("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=Z("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=Z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=Z("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=Z("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=Z("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=Z("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),pf="-",h2=e=>{const t=p2(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(pf);return l[0]===""&&l.length!==1&&l.shift(),Sb(l,t)||f2(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},Sb=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Sb(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(pf);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},tm=/^\[(.+)\]$/,f2=e=>{if(tm.test(e)){const t=tm.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},p2=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return x2(Object.entries(e.classGroups),r).forEach(([o,i])=>{Id(i,n,o,t)}),n},Id=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:rm(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(m2(s)){Id(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{Id(i,rm(t,o),r,n)})})},rm=(e,t)=>{let r=e;return t.split(pf).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},m2=e=>e.isThemeGetter,x2=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[r,s]}):e,g2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},Cb="!",b2=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=l=>{const c=[];let u=0,h=0,d;for(let w=0;w<l.length;w++){let x=l[w];if(u===0){if(x===s&&(n||l.slice(w,w+o)===t)){c.push(l.slice(h,w)),h=w+o;continue}if(x==="/"){d=w;continue}}x==="["?u++:x==="]"&&u--}const f=c.length===0?l:l.substring(h),p=f.startsWith(Cb),v=p?f.substring(1):f,y=d&&d>h?d-h:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:i}):i},y2=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},v2=e=>({cache:g2(e.cacheSize),parseClassName:b2(e),...h2(e)}),w2=/\s+/,j2=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(w2);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:h,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:p}=r(u);let v=!!p,y=n(v?f.substring(0,p):f);if(!y){if(!v){l=u+(l.length>0?" "+l:l);continue}if(y=n(f),!y){l=u+(l.length>0?" "+l:l);continue}v=!1}const w=y2(h).join(":"),x=d?w+Cb:w,g=x+y;if(o.includes(g))continue;o.push(g);const b=s(y,v);for(let j=0;j<b.length;++j){const N=b[j];o.push(x+N)}l=u+(l.length>0?" "+l:l)}return l};function k2(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Eb(t))&&(n&&(n+=" "),n+=r);return n}const Eb=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Eb(e[n]))&&(r&&(r+=" "),r+=t);return r};function _2(e,...t){let r,n,s,o=i;function i(c){const u=t.reduce((h,d)=>d(h),e());return r=v2(u),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const h=j2(c,r);return s(c,h),h}return function(){return o(k2.apply(null,arguments))}}const Ne=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Tb=/^\[(?:([a-z-]+):)?(.+)\]$/i,N2=/^\d+\/\d+$/,S2=new Set(["px","full","screen"]),C2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,E2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,T2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,P2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,R2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Lr=e=>mo(e)||S2.has(e)||N2.test(e),on=e=>Ho(e,"length",F2),mo=e=>!!e&&!Number.isNaN(Number(e)),bu=e=>Ho(e,"number",mo),la=e=>!!e&&Number.isInteger(Number(e)),O2=e=>e.endsWith("%")&&mo(e.slice(0,-1)),ue=e=>Tb.test(e),an=e=>C2.test(e),A2=new Set(["length","size","percentage"]),I2=e=>Ho(e,A2,Pb),L2=e=>Ho(e,"position",Pb),D2=new Set(["image","url"]),M2=e=>Ho(e,D2,z2),$2=e=>Ho(e,"",U2),ca=()=>!0,Ho=(e,t,r)=>{const n=Tb.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},F2=e=>E2.test(e)&&!T2.test(e),Pb=()=>!1,U2=e=>P2.test(e),z2=e=>R2.test(e),B2=()=>{const e=Ne("colors"),t=Ne("spacing"),r=Ne("blur"),n=Ne("brightness"),s=Ne("borderColor"),o=Ne("borderRadius"),i=Ne("borderSpacing"),l=Ne("borderWidth"),c=Ne("contrast"),u=Ne("grayscale"),h=Ne("hueRotate"),d=Ne("invert"),f=Ne("gap"),p=Ne("gradientColorStops"),v=Ne("gradientColorStopPositions"),y=Ne("inset"),w=Ne("margin"),x=Ne("opacity"),g=Ne("padding"),b=Ne("saturate"),j=Ne("scale"),N=Ne("sepia"),_=Ne("skew"),k=Ne("space"),E=Ne("translate"),A=()=>["auto","contain","none"],S=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",ue,t],M=()=>[ue,t],L=()=>["",Lr,on],O=()=>["auto",mo,ue],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",ue],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[mo,ue];return{cacheSize:500,separator:":",theme:{colors:[ca],spacing:[Lr,on],blur:["none","",an,ue],brightness:K(),borderColor:[e],borderRadius:["none","","full",an,ue],borderSpacing:M(),borderWidth:L(),contrast:K(),grayscale:I(),hueRotate:K(),invert:I(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[O2,on],inset:z(),margin:z(),opacity:K(),padding:M(),saturate:K(),scale:K(),sepia:I(),skew:K(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[an]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),ue]}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",la,ue]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",la,ue]}],"grid-cols":[{"grid-cols":[ca]}],"col-start-end":[{col:["auto",{span:["full",la,ue]},ue]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[ca]}],"row-start-end":[{row:["auto",{span:[la,ue]},ue]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,t]}],"min-w":[{"min-w":[ue,t,"min","max","fit"]}],"max-w":[{"max-w":[ue,t,"none","full","min","max","fit","prose",{screen:[an]},an]}],h:[{h:[ue,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,t,"auto","min","max","fit"]}],"font-size":[{text:["base",an,on]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bu]}],"font-family":[{font:[ca]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",mo,bu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Lr,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Lr,on]}],"underline-offset":[{"underline-offset":["auto",Lr,ue]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),L2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",I2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},M2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:V()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Lr,ue]}],"outline-w":[{outline:[Lr,on]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Lr,on]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",an,$2]}],"shadow-color":[{shadow:[ca]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",an,ue]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[la,ue]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Lr,on,bu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},q2=_2(B2);function F(...e){return q2(xb(e))}const W2=Fj,Rb=m.forwardRef(({className:e,...t},r)=>a.jsx(cb,{ref:r,className:F("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Rb.displayName=cb.displayName;const V2=Uj("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ob=m.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(ub,{ref:n,className:F(V2({variant:t}),e),...r}));Ob.displayName=ub.displayName;const H2=m.forwardRef(({className:e,...t},r)=>a.jsx(fb,{ref:r,className:F("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));H2.displayName=fb.displayName;const Ab=m.forwardRef(({className:e,...t},r)=>a.jsx(pb,{ref:r,className:F("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(_e,{className:"h-4 w-4"})}));Ab.displayName=pb.displayName;const Ib=m.forwardRef(({className:e,...t},r)=>a.jsx(db,{ref:r,className:F("text-sm font-semibold",e),...t}));Ib.displayName=db.displayName;const Lb=m.forwardRef(({className:e,...t},r)=>a.jsx(hb,{ref:r,className:F("text-sm opacity-90",e),...t}));Lb.displayName=hb.displayName;function K2(){const{toasts:e}=K1();return a.jsxs(W2,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return a.jsxs(Ob,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(Ib,{children:r}),n&&a.jsx(Lb,{children:n})]}),s,a.jsx(Ab,{})]},t)}),a.jsx(Rb,{})]})}var nm=["light","dark"],G2="(prefers-color-scheme: dark)",Q2=m.createContext(void 0),J2={setTheme:e=>{},themes:[]},Y2=()=>{var e;return(e=m.useContext(Q2))!=null?e:J2};m.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let u=o==="system",h=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=s?nm.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(v,y=!1,w=!0)=>{let x=i?i[v]:v,g=y?v+"|| ''":`'${x}'`,b="";return s&&w&&!y&&nm.includes(v)&&(b+=`d.style.colorScheme = '${v}';`),r==="class"?y||x?b+=`c.add(${g})`:b+="null":x&&(b+=`d[s](n,${g})`),b},p=e?`!function(){${h}${f(e)}}()`:n?`!function(){try{${h}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${G2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}${u?"":"else{"+f(o,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}else{${f(o,!1,!1)};}${d}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var X2=e=>{switch(e){case"success":return tk;case"info":return nk;case"warning":return rk;case"error":return sk;default:return null}},Z2=Array(12).fill(0),ek=({visible:e,className:t})=>H.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},H.createElement("div",{className:"sonner-spinner"},Z2.map((r,n)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),tk=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),rk=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),nk=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),sk=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ok=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ak=()=>{let[e,t]=H.useState(document.hidden);return H.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Ld=1,ik=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ld++,o=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,o,i=n.then(async c=>{if(o=["resolve",c],H.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(ck(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,h=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:h})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:h})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:h})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Ld++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},kt=new ik,lk=(e,t)=>{let r=(t==null?void 0:t.id)||Ld++;return kt.addToast({title:e,...t,id:r}),r},ck=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",uk=lk,dk=()=>kt.toasts,hk=()=>kt.getActiveToasts(),le=Object.assign(uk,{success:kt.success,info:kt.info,warning:kt.warning,error:kt.error,custom:kt.custom,message:kt.message,promise:kt.promise,dismiss:kt.dismiss,loading:kt.loading},{getHistory:dk,getToasts:hk});function fk(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}fk(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ki(e){return e.label!==void 0}var pk=3,mk="32px",xk="16px",sm=4e3,gk=356,bk=14,yk=20,vk=200;function sr(...e){return e.filter(Boolean).join(" ")}function wk(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var jk=e=>{var t,r,n,s,o,i,l,c,u,h,d;let{invert:f,toast:p,unstyled:v,interacting:y,setHeights:w,visibleToasts:x,heights:g,index:b,toasts:j,expanded:N,removeToast:_,defaultRichColors:k,closeButton:E,style:A,cancelButtonStyle:S,actionButtonStyle:z,className:M="",descriptionClassName:L="",duration:O,position:q,gap:V,loadingIcon:$,expandByDefault:P,classNames:I,icons:D,closeButtonAriaLabel:K="Close toast",pauseWhenPageIsHidden:Q}=e,[B,T]=H.useState(null),[J,se]=H.useState(null),[te,ve]=H.useState(!1),[Re,Oe]=H.useState(!1),[xe,U]=H.useState(!1),[R,G]=H.useState(!1),[ie,fe]=H.useState(!1),[ge,Ee]=H.useState(0),[qe,Zt]=H.useState(0),dt=H.useRef(p.duration||O||sm),Zo=H.useRef(null),yr=H.useRef(null),Ni=b===0,Ir=b+1<=x,Bt=p.type,Is=p.dismissible!==!1,cv=p.className||"",uv=p.descriptionClassName||"",Si=H.useMemo(()=>g.findIndex(ce=>ce.toastId===p.id)||0,[g,p.id]),dv=H.useMemo(()=>{var ce;return(ce=p.closeButton)!=null?ce:E},[p.closeButton,E]),Of=H.useMemo(()=>p.duration||O||sm,[p.duration,O]),Uc=H.useRef(0),Ls=H.useRef(0),Af=H.useRef(0),Ds=H.useRef(null),[hv,fv]=q.split("-"),If=H.useMemo(()=>g.reduce((ce,we,Te)=>Te>=Si?ce:ce+we.height,0),[g,Si]),Lf=ak(),pv=p.invert||f,zc=Bt==="loading";Ls.current=H.useMemo(()=>Si*V+If,[Si,If]),H.useEffect(()=>{dt.current=Of},[Of]),H.useEffect(()=>{ve(!0)},[]),H.useEffect(()=>{let ce=yr.current;if(ce){let we=ce.getBoundingClientRect().height;return Zt(we),w(Te=>[{toastId:p.id,height:we,position:p.position},...Te]),()=>w(Te=>Te.filter(er=>er.toastId!==p.id))}},[w,p.id]),H.useLayoutEffect(()=>{if(!te)return;let ce=yr.current,we=ce.style.height;ce.style.height="auto";let Te=ce.getBoundingClientRect().height;ce.style.height=we,Zt(Te),w(er=>er.find(tr=>tr.toastId===p.id)?er.map(tr=>tr.toastId===p.id?{...tr,height:Te}:tr):[{toastId:p.id,height:Te,position:p.position},...er])},[te,p.title,p.description,w,p.id]);let tn=H.useCallback(()=>{Oe(!0),Ee(Ls.current),w(ce=>ce.filter(we=>we.toastId!==p.id)),setTimeout(()=>{_(p)},vk)},[p,_,w,Ls]);H.useEffect(()=>{if(p.promise&&Bt==="loading"||p.duration===1/0||p.type==="loading")return;let ce;return N||y||Q&&Lf?(()=>{if(Af.current<Uc.current){let we=new Date().getTime()-Uc.current;dt.current=dt.current-we}Af.current=new Date().getTime()})():dt.current!==1/0&&(Uc.current=new Date().getTime(),ce=setTimeout(()=>{var we;(we=p.onAutoClose)==null||we.call(p,p),tn()},dt.current)),()=>clearTimeout(ce)},[N,y,p,Bt,Q,Lf,tn]),H.useEffect(()=>{p.delete&&tn()},[tn,p.delete]);function mv(){var ce,we,Te;return D!=null&&D.loading?H.createElement("div",{className:sr(I==null?void 0:I.loader,(ce=p==null?void 0:p.classNames)==null?void 0:ce.loader,"sonner-loader"),"data-visible":Bt==="loading"},D.loading):$?H.createElement("div",{className:sr(I==null?void 0:I.loader,(we=p==null?void 0:p.classNames)==null?void 0:we.loader,"sonner-loader"),"data-visible":Bt==="loading"},$):H.createElement(ek,{className:sr(I==null?void 0:I.loader,(Te=p==null?void 0:p.classNames)==null?void 0:Te.loader),visible:Bt==="loading"})}return H.createElement("li",{tabIndex:0,ref:yr,className:sr(M,cv,I==null?void 0:I.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,I==null?void 0:I.default,I==null?void 0:I[Bt],(r=p==null?void 0:p.classNames)==null?void 0:r[Bt]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:k,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":te,"data-promise":!!p.promise,"data-swiped":ie,"data-removed":Re,"data-visible":Ir,"data-y-position":hv,"data-x-position":fv,"data-index":b,"data-front":Ni,"data-swiping":xe,"data-dismissible":Is,"data-type":Bt,"data-invert":pv,"data-swipe-out":R,"data-swipe-direction":J,"data-expanded":!!(N||P&&te),style:{"--index":b,"--toasts-before":b,"--z-index":j.length-b,"--offset":`${Re?ge:Ls.current}px`,"--initial-height":P?"auto":`${qe}px`,...A,...p.style},onDragEnd:()=>{U(!1),T(null),Ds.current=null},onPointerDown:ce=>{zc||!Is||(Zo.current=new Date,Ee(Ls.current),ce.target.setPointerCapture(ce.pointerId),ce.target.tagName!=="BUTTON"&&(U(!0),Ds.current={x:ce.clientX,y:ce.clientY}))},onPointerUp:()=>{var ce,we,Te,er;if(R||!Is)return;Ds.current=null;let tr=Number(((ce=yr.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),rn=Number(((we=yr.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Jn=new Date().getTime()-((Te=Zo.current)==null?void 0:Te.getTime()),rr=B==="x"?tr:rn,nn=Math.abs(rr)/Jn;if(Math.abs(rr)>=yk||nn>.11){Ee(Ls.current),(er=p.onDismiss)==null||er.call(p,p),se(B==="x"?tr>0?"right":"left":rn>0?"down":"up"),tn(),G(!0),fe(!1);return}U(!1),T(null)},onPointerMove:ce=>{var we,Te,er,tr;if(!Ds.current||!Is||((we=window.getSelection())==null?void 0:we.toString().length)>0)return;let rn=ce.clientY-Ds.current.y,Jn=ce.clientX-Ds.current.x,rr=(Te=e.swipeDirections)!=null?Te:wk(q);!B&&(Math.abs(Jn)>1||Math.abs(rn)>1)&&T(Math.abs(Jn)>Math.abs(rn)?"x":"y");let nn={x:0,y:0};B==="y"?(rr.includes("top")||rr.includes("bottom"))&&(rr.includes("top")&&rn<0||rr.includes("bottom")&&rn>0)&&(nn.y=rn):B==="x"&&(rr.includes("left")||rr.includes("right"))&&(rr.includes("left")&&Jn<0||rr.includes("right")&&Jn>0)&&(nn.x=Jn),(Math.abs(nn.x)>0||Math.abs(nn.y)>0)&&fe(!0),(er=yr.current)==null||er.style.setProperty("--swipe-amount-x",`${nn.x}px`),(tr=yr.current)==null||tr.style.setProperty("--swipe-amount-y",`${nn.y}px`)}},dv&&!p.jsx?H.createElement("button",{"aria-label":K,"data-disabled":zc,"data-close-button":!0,onClick:zc||!Is?()=>{}:()=>{var ce;tn(),(ce=p.onDismiss)==null||ce.call(p,p)},className:sr(I==null?void 0:I.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(o=D==null?void 0:D.close)!=null?o:ok):null,p.jsx||m.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:H.createElement(H.Fragment,null,Bt||p.icon||p.promise?H.createElement("div",{"data-icon":"",className:sr(I==null?void 0:I.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||mv():null,p.type!=="loading"?p.icon||(D==null?void 0:D[Bt])||X2(Bt):null):null,H.createElement("div",{"data-content":"",className:sr(I==null?void 0:I.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},H.createElement("div",{"data-title":"",className:sr(I==null?void 0:I.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?H.createElement("div",{"data-description":"",className:sr(L,uv,I==null?void 0:I.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),m.isValidElement(p.cancel)?p.cancel:p.cancel&&Ki(p.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||S,onClick:ce=>{var we,Te;Ki(p.cancel)&&Is&&((Te=(we=p.cancel).onClick)==null||Te.call(we,ce),tn())},className:sr(I==null?void 0:I.cancelButton,(h=p==null?void 0:p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,m.isValidElement(p.action)?p.action:p.action&&Ki(p.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||z,onClick:ce=>{var we,Te;Ki(p.action)&&((Te=(we=p.action).onClick)==null||Te.call(we,ce),!ce.defaultPrevented&&tn())},className:sr(I==null?void 0:I.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function om(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function kk(e,t){let r={};return[e,t].forEach((n,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",l=o?xk:mk;function c(u){["top","right","bottom","left"].forEach(h=>{r[`${i}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=l:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var _k=m.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:l,offset:c,mobileOffset:u,theme:h="light",richColors:d,duration:f,style:p,visibleToasts:v=pk,toastOptions:y,dir:w=om(),gap:x=bk,loadingIcon:g,icons:b,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:N}=e,[_,k]=H.useState([]),E=H.useMemo(()=>Array.from(new Set([n].concat(_.filter(Q=>Q.position).map(Q=>Q.position)))),[_,n]),[A,S]=H.useState([]),[z,M]=H.useState(!1),[L,O]=H.useState(!1),[q,V]=H.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=H.useRef(null),P=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=H.useRef(null),D=H.useRef(!1),K=H.useCallback(Q=>{k(B=>{var T;return(T=B.find(J=>J.id===Q.id))!=null&&T.delete||kt.dismiss(Q.id),B.filter(({id:J})=>J!==Q.id)})},[]);return H.useEffect(()=>kt.subscribe(Q=>{if(Q.dismiss){k(B=>B.map(T=>T.id===Q.id?{...T,delete:!0}:T));return}setTimeout(()=>{z0.flushSync(()=>{k(B=>{let T=B.findIndex(J=>J.id===Q.id);return T!==-1?[...B.slice(0,T),{...B[T],...Q},...B.slice(T+1)]:[Q,...B]})})})}),[]),H.useEffect(()=>{if(h!=="system"){V(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;let Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:B})=>{V(B?"dark":"light")})}catch{Q.addListener(({matches:T})=>{try{V(T?"dark":"light")}catch(J){console.error(J)}})}},[h]),H.useEffect(()=>{_.length<=1&&M(!1)},[_]),H.useEffect(()=>{let Q=B=>{var T,J;s.every(se=>B[se]||B.code===se)&&(M(!0),(T=$.current)==null||T.focus()),B.code==="Escape"&&(document.activeElement===$.current||(J=$.current)!=null&&J.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[s]),H.useEffect(()=>{if($.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,D.current=!1)}},[$.current]),H.createElement("section",{ref:t,"aria-label":`${j} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((Q,B)=>{var T;let[J,se]=Q.split("-");return _.length?H.createElement("ol",{key:Q,dir:w==="auto"?om():w,tabIndex:-1,ref:$,className:l,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":J,"data-lifted":z&&_.length>1&&!o,"data-x-position":se,style:{"--front-toast-height":`${((T=A[0])==null?void 0:T.height)||0}px`,"--width":`${gk}px`,"--gap":`${x}px`,...p,...kk(c,u)},onBlur:te=>{D.current&&!te.currentTarget.contains(te.relatedTarget)&&(D.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||D.current||(D.current=!0,I.current=te.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{L||M(!1)},onDragEnd:()=>M(!1),onPointerDown:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},_.filter(te=>!te.position&&B===0||te.position===Q).map((te,ve)=>{var Re,Oe;return H.createElement(jk,{key:te.id,icons:b,index:ve,toast:te,defaultRichColors:d,duration:(Re=y==null?void 0:y.duration)!=null?Re:f,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:r,visibleToasts:v,closeButton:(Oe=y==null?void 0:y.closeButton)!=null?Oe:i,interacting:L,position:Q,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:K,toasts:_.filter(xe=>xe.position==te.position),heights:A.filter(xe=>xe.position==te.position),setHeights:S,expandByDefault:o,gap:x,loadingIcon:g,expanded:z,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const Nk=({...e})=>{const{theme:t="system"}=Y2();return a.jsx(_k,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},Sk=["top","right","bottom","left"],qn=Math.min,It=Math.max,Ql=Math.round,Gi=Math.floor,Tr=e=>({x:e,y:e}),Ck={left:"right",right:"left",bottom:"top",top:"bottom"},Ek={start:"end",end:"start"};function Dd(e,t,r){return It(e,qn(t,r))}function Yr(e,t){return typeof e=="function"?e(t):e}function Xr(e){return e.split("-")[0]}function Ko(e){return e.split("-")[1]}function mf(e){return e==="x"?"y":"x"}function xf(e){return e==="y"?"height":"width"}const Tk=new Set(["top","bottom"]);function Sr(e){return Tk.has(Xr(e))?"y":"x"}function gf(e){return mf(Sr(e))}function Pk(e,t,r){r===void 0&&(r=!1);const n=Ko(e),s=gf(e),o=xf(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Jl(i)),[i,Jl(i)]}function Rk(e){const t=Jl(e);return[Md(e),t,Md(t)]}function Md(e){return e.replace(/start|end/g,t=>Ek[t])}const am=["left","right"],im=["right","left"],Ok=["top","bottom"],Ak=["bottom","top"];function Ik(e,t,r){switch(e){case"top":case"bottom":return r?t?im:am:t?am:im;case"left":case"right":return t?Ok:Ak;default:return[]}}function Lk(e,t,r,n){const s=Ko(e);let o=Ik(Xr(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Md)))),o}function Jl(e){return e.replace(/left|right|bottom|top/g,t=>Ck[t])}function Dk(e){return{top:0,right:0,bottom:0,left:0,...e}}function Db(e){return typeof e!="number"?Dk(e):{top:e,right:e,bottom:e,left:e}}function Yl(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function lm(e,t,r){let{reference:n,floating:s}=e;const o=Sr(t),i=gf(t),l=xf(i),c=Xr(t),u=o==="y",h=n.x+n.width/2-s.width/2,d=n.y+n.height/2-s.height/2,f=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:h,y:n.y-s.height};break;case"bottom":p={x:h,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:d};break;case"left":p={x:n.x-s.width,y:d};break;default:p={x:n.x,y:n.y}}switch(Ko(t)){case"start":p[i]-=f*(r&&u?-1:1);break;case"end":p[i]+=f*(r&&u?-1:1);break}return p}const Mk=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:d}=lm(u,n,c),f=n,p={},v=0;for(let y=0;y<l.length;y++){const{name:w,fn:x}=l[y],{x:g,y:b,data:j,reset:N}=await x({x:h,y:d,initialPlacement:n,placement:f,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});h=g??h,d=b??d,p={...p,[w]:{...p[w],...j}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(u=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:h,y:d}=lm(u,f,c)),y=-1)}return{x:h,y:d,placement:f,strategy:s,middlewareData:p}};async function Ga(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=Yr(t,e),v=Db(p),w=l[f?d==="floating"?"reference":"floating":d],x=Yl(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(w)))==null||r?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),g=d==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},N=Yl(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:b,strategy:c}):g);return{top:(x.top-N.top+v.top)/j.y,bottom:(N.bottom-x.bottom+v.bottom)/j.y,left:(x.left-N.left+v.left)/j.x,right:(N.right-x.right+v.right)/j.x}}const $k=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=Yr(e,t)||{};if(u==null)return{};const d=Db(h),f={x:r,y:n},p=gf(s),v=xf(p),y=await i.getDimensions(u),w=p==="y",x=w?"top":"left",g=w?"bottom":"right",b=w?"clientHeight":"clientWidth",j=o.reference[v]+o.reference[p]-f[p]-o.floating[v],N=f[p]-o.reference[p],_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let k=_?_[b]:0;(!k||!await(i.isElement==null?void 0:i.isElement(_)))&&(k=l.floating[b]||o.floating[v]);const E=j/2-N/2,A=k/2-y[v]/2-1,S=qn(d[x],A),z=qn(d[g],A),M=S,L=k-y[v]-z,O=k/2-y[v]/2+E,q=Dd(M,O,L),V=!c.arrow&&Ko(s)!=null&&O!==q&&o.reference[v]/2-(O<M?S:z)-y[v]/2<0,$=V?O<M?O-M:O-L:0;return{[p]:f[p]+$,data:{[p]:q,centerOffset:O-q-$,...V&&{alignmentOffset:$}},reset:V}}}),Fk=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...w}=Yr(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const x=Xr(s),g=Sr(l),b=Xr(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=f||(b||!y?[Jl(l)]:Rk(l)),_=v!=="none";!f&&_&&N.push(...Lk(l,y,v,j));const k=[l,...N],E=await Ga(t,w),A=[];let S=((n=o.flip)==null?void 0:n.overflows)||[];if(h&&A.push(E[x]),d){const O=Pk(s,i,j);A.push(E[O[0]],E[O[1]])}if(S=[...S,{placement:s,overflows:A}],!A.every(O=>O<=0)){var z,M;const O=(((z=o.flip)==null?void 0:z.index)||0)+1,q=k[O];if(q&&(!(d==="alignment"?g!==Sr(q):!1)||S.every(P=>P.overflows[0]>0&&Sr(P.placement)===g)))return{data:{index:O,overflows:S},reset:{placement:q}};let V=(M=S.filter($=>$.overflows[0]<=0).sort(($,P)=>$.overflows[1]-P.overflows[1])[0])==null?void 0:M.placement;if(!V)switch(p){case"bestFit":{var L;const $=(L=S.filter(P=>{if(_){const I=Sr(P.placement);return I===g||I==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(I=>I>0).reduce((I,D)=>I+D,0)]).sort((P,I)=>P[1]-I[1])[0])==null?void 0:L[0];$&&(V=$);break}case"initialPlacement":V=l;break}if(s!==V)return{reset:{placement:V}}}return{}}}};function cm(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function um(e){return Sk.some(t=>e[t]>=0)}const Uk=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Yr(e,t);switch(n){case"referenceHidden":{const o=await Ga(t,{...s,elementContext:"reference"}),i=cm(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:um(i)}}}case"escaped":{const o=await Ga(t,{...s,altBoundary:!0}),i=cm(o,r.floating);return{data:{escapedOffsets:i,escaped:um(i)}}}default:return{}}}}},Mb=new Set(["left","top"]);async function zk(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Xr(r),l=Ko(r),c=Sr(r)==="y",u=Mb.has(i)?-1:1,h=o&&c?-1:1,d=Yr(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),c?{x:p*h,y:f*u}:{x:f*u,y:p*h}}const Bk=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await zk(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},qk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:w=>{let{x,y:g}=w;return{x,y:g}}},...c}=Yr(e,t),u={x:r,y:n},h=await Ga(t,c),d=Sr(Xr(s)),f=mf(d);let p=u[f],v=u[d];if(o){const w=f==="y"?"top":"left",x=f==="y"?"bottom":"right",g=p+h[w],b=p-h[x];p=Dd(g,p,b)}if(i){const w=d==="y"?"top":"left",x=d==="y"?"bottom":"right",g=v+h[w],b=v-h[x];v=Dd(g,v,b)}const y=l.fn({...t,[f]:p,[d]:v});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[f]:o,[d]:i}}}}}},Wk=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Yr(e,t),h={x:r,y:n},d=Sr(s),f=mf(d);let p=h[f],v=h[d];const y=Yr(l,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const b=f==="y"?"height":"width",j=o.reference[f]-o.floating[b]+w.mainAxis,N=o.reference[f]+o.reference[b]-w.mainAxis;p<j?p=j:p>N&&(p=N)}if(u){var x,g;const b=f==="y"?"width":"height",j=Mb.has(Xr(s)),N=o.reference[d]-o.floating[b]+(j&&((x=i.offset)==null?void 0:x[d])||0)+(j?0:w.crossAxis),_=o.reference[d]+o.reference[b]+(j?0:((g=i.offset)==null?void 0:g[d])||0)-(j?w.crossAxis:0);v<N?v=N:v>_&&(v=_)}return{[f]:p,[d]:v}}}},Vk=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=Yr(e,t),h=await Ga(t,u),d=Xr(s),f=Ko(s),p=Sr(s)==="y",{width:v,height:y}=o.floating;let w,x;d==="top"||d==="bottom"?(w=d,x=f===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(x=d,w=f==="end"?"top":"bottom");const g=y-h.top-h.bottom,b=v-h.left-h.right,j=qn(y-h[w],g),N=qn(v-h[x],b),_=!t.middlewareData.shift;let k=j,E=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=g),_&&!f){const S=It(h.left,0),z=It(h.right,0),M=It(h.top,0),L=It(h.bottom,0);p?E=v-2*(S!==0||z!==0?S+z:It(h.left,h.right)):k=y-2*(M!==0||L!==0?M+L:It(h.top,h.bottom))}await c({...t,availableWidth:E,availableHeight:k});const A=await i.getDimensions(l.floating);return v!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function Tc(){return typeof window<"u"}function Go(e){return $b(e)?(e.nodeName||"").toLowerCase():"#document"}function $t(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ar(e){var t;return(t=($b(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function $b(e){return Tc()?e instanceof Node||e instanceof $t(e).Node:!1}function gr(e){return Tc()?e instanceof Element||e instanceof $t(e).Element:!1}function Rr(e){return Tc()?e instanceof HTMLElement||e instanceof $t(e).HTMLElement:!1}function dm(e){return!Tc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof $t(e).ShadowRoot}const Hk=new Set(["inline","contents"]);function yi(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=br(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Hk.has(s)}const Kk=new Set(["table","td","th"]);function Gk(e){return Kk.has(Go(e))}const Qk=[":popover-open",":modal"];function Pc(e){return Qk.some(t=>{try{return e.matches(t)}catch{return!1}})}const Jk=["transform","translate","scale","rotate","perspective"],Yk=["transform","translate","scale","rotate","perspective","filter"],Xk=["paint","layout","strict","content"];function bf(e){const t=yf(),r=gr(e)?br(e):e;return Jk.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||Yk.some(n=>(r.willChange||"").includes(n))||Xk.some(n=>(r.contain||"").includes(n))}function Zk(e){let t=Wn(e);for(;Rr(t)&&!Uo(t);){if(bf(t))return t;if(Pc(t))return null;t=Wn(t)}return null}function yf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const e_=new Set(["html","body","#document"]);function Uo(e){return e_.has(Go(e))}function br(e){return $t(e).getComputedStyle(e)}function Rc(e){return gr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Wn(e){if(Go(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dm(e)&&e.host||Ar(e);return dm(t)?t.host:t}function Fb(e){const t=Wn(e);return Uo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Rr(t)&&yi(t)?t:Fb(t)}function Qa(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Fb(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=$t(s);if(o){const l=$d(i);return t.concat(i,i.visualViewport||[],yi(s)?s:[],l&&r?Qa(l):[])}return t.concat(s,Qa(s,[],r))}function $d(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ub(e){const t=br(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Rr(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=Ql(r)!==o||Ql(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function vf(e){return gr(e)?e:e.contextElement}function xo(e){const t=vf(e);if(!Rr(t))return Tr(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=Ub(t);let i=(o?Ql(r.width):r.width)/n,l=(o?Ql(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const t_=Tr(0);function zb(e){const t=$t(e);return!yf()||!t.visualViewport?t_:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function r_(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==$t(e)?!1:t}function Cs(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=vf(e);let i=Tr(1);t&&(n?gr(n)&&(i=xo(n)):i=xo(e));const l=r_(o,r,n)?zb(o):Tr(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,h=s.width/i.x,d=s.height/i.y;if(o){const f=$t(o),p=n&&gr(n)?$t(n):n;let v=f,y=$d(v);for(;y&&n&&p!==v;){const w=xo(y),x=y.getBoundingClientRect(),g=br(y),b=x.left+(y.clientLeft+parseFloat(g.paddingLeft))*w.x,j=x.top+(y.clientTop+parseFloat(g.paddingTop))*w.y;c*=w.x,u*=w.y,h*=w.x,d*=w.y,c+=b,u+=j,v=$t(y),y=$d(v)}}return Yl({width:h,height:d,x:c,y:u})}function wf(e,t){const r=Rc(e).scrollLeft;return t?t.left+r:Cs(Ar(e)).left+r}function Bb(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:wf(e,n)),o=n.top+t.scrollTop;return{x:s,y:o}}function n_(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=Ar(n),l=t?Pc(t.floating):!1;if(n===i||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=Tr(1);const h=Tr(0),d=Rr(n);if((d||!d&&!o)&&((Go(n)!=="body"||yi(i))&&(c=Rc(n)),Rr(n))){const p=Cs(n);u=xo(n),h.x=p.x+n.clientLeft,h.y=p.y+n.clientTop}const f=i&&!d&&!o?Bb(i,c,!0):Tr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+h.x+f.x,y:r.y*u.y-c.scrollTop*u.y+h.y+f.y}}function s_(e){return Array.from(e.getClientRects())}function o_(e){const t=Ar(e),r=Rc(e),n=e.ownerDocument.body,s=It(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=It(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+wf(e);const l=-r.scrollTop;return br(n).direction==="rtl"&&(i+=It(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:l}}function a_(e,t){const r=$t(e),n=Ar(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=yf();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}const i_=new Set(["absolute","fixed"]);function l_(e,t){const r=Cs(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=Rr(e)?xo(e):Tr(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:i,height:l,x:c,y:u}}function hm(e,t,r){let n;if(t==="viewport")n=a_(e,r);else if(t==="document")n=o_(Ar(e));else if(gr(t))n=l_(t,r);else{const s=zb(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Yl(n)}function qb(e,t){const r=Wn(e);return r===t||!gr(r)||Uo(r)?!1:br(r).position==="fixed"||qb(r,t)}function c_(e,t){const r=t.get(e);if(r)return r;let n=Qa(e,[],!1).filter(l=>gr(l)&&Go(l)!=="body"),s=null;const o=br(e).position==="fixed";let i=o?Wn(e):e;for(;gr(i)&&!Uo(i);){const l=br(i),c=bf(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&i_.has(s.position)||yi(i)&&!c&&qb(e,i))?n=n.filter(h=>h!==i):s=l,i=Wn(i)}return t.set(e,n),n}function u_(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Pc(t)?[]:c_(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,h)=>{const d=hm(t,h,s);return u.top=It(d.top,u.top),u.right=qn(d.right,u.right),u.bottom=qn(d.bottom,u.bottom),u.left=It(d.left,u.left),u},hm(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function d_(e){const{width:t,height:r}=Ub(e);return{width:t,height:r}}function h_(e,t,r){const n=Rr(t),s=Ar(t),o=r==="fixed",i=Cs(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Tr(0);function u(){c.x=wf(s)}if(n||!n&&!o)if((Go(t)!=="body"||yi(s))&&(l=Rc(t)),n){const p=Cs(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();o&&!n&&s&&u();const h=s&&!n&&!o?Bb(s,l):Tr(0),d=i.left+l.scrollLeft-c.x-h.x,f=i.top+l.scrollTop-c.y-h.y;return{x:d,y:f,width:i.width,height:i.height}}function yu(e){return br(e).position==="static"}function fm(e,t){if(!Rr(e)||br(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ar(e)===r&&(r=r.ownerDocument.body),r}function Wb(e,t){const r=$t(e);if(Pc(e))return r;if(!Rr(e)){let s=Wn(e);for(;s&&!Uo(s);){if(gr(s)&&!yu(s))return s;s=Wn(s)}return r}let n=fm(e,t);for(;n&&Gk(n)&&yu(n);)n=fm(n,t);return n&&Uo(n)&&yu(n)&&!bf(n)?r:n||Zk(e)||r}const f_=async function(e){const t=this.getOffsetParent||Wb,r=this.getDimensions,n=await r(e.floating);return{reference:h_(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function p_(e){return br(e).direction==="rtl"}const m_={convertOffsetParentRelativeRectToViewportRelativeRect:n_,getDocumentElement:Ar,getClippingRect:u_,getOffsetParent:Wb,getElementRects:f_,getClientRects:s_,getDimensions:d_,getScale:xo,isElement:gr,isRTL:p_};function Vb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function x_(e,t){let r=null,n;const s=Ar(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:h,top:d,width:f,height:p}=u;if(l||t(),!f||!p)return;const v=Gi(d),y=Gi(s.clientWidth-(h+f)),w=Gi(s.clientHeight-(d+p)),x=Gi(h),b={rootMargin:-v+"px "+-y+"px "+-w+"px "+-x+"px",threshold:It(0,qn(1,c))||1};let j=!0;function N(_){const k=_[0].intersectionRatio;if(k!==c){if(!j)return i();k?i(!1,k):n=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!Vb(u,e.getBoundingClientRect())&&i(),j=!1}try{r=new IntersectionObserver(N,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,b)}r.observe(e)}return i(!0),o}function g_(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=vf(e),h=s||o?[...u?Qa(u):[],...Qa(t)]:[];h.forEach(x=>{s&&x.addEventListener("scroll",r,{passive:!0}),o&&x.addEventListener("resize",r)});const d=u&&l?x_(u,r):null;let f=-1,p=null;i&&(p=new ResizeObserver(x=>{let[g]=x;g&&g.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let v,y=c?Cs(e):null;c&&w();function w(){const x=Cs(e);y&&!Vb(y,x)&&r(),y=x,v=requestAnimationFrame(w)}return r(),()=>{var x;h.forEach(g=>{s&&g.removeEventListener("scroll",r),o&&g.removeEventListener("resize",r)}),d==null||d(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const b_=Bk,y_=qk,v_=Fk,w_=Vk,j_=Uk,pm=$k,k_=Wk,__=(e,t,r)=>{const n=new Map,s={platform:m_,...r},o={...s.platform,_c:n};return Mk(e,t,{...s,platform:o})};var N_=typeof document<"u",S_=function(){},vl=N_?m.useLayoutEffect:S_;function Xl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Xl(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!Xl(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Hb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function mm(e,t){const r=Hb(e);return Math.round(t*r)/r}function vu(e){const t=m.useRef(e);return vl(()=>{t.current=e}),t}function C_(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,d]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=m.useState(n);Xl(f,n)||p(n);const[v,y]=m.useState(null),[w,x]=m.useState(null),g=m.useCallback(P=>{P!==_.current&&(_.current=P,y(P))},[]),b=m.useCallback(P=>{P!==k.current&&(k.current=P,x(P))},[]),j=o||v,N=i||w,_=m.useRef(null),k=m.useRef(null),E=m.useRef(h),A=c!=null,S=vu(c),z=vu(s),M=vu(u),L=m.useCallback(()=>{if(!_.current||!k.current)return;const P={placement:t,strategy:r,middleware:f};z.current&&(P.platform=z.current),__(_.current,k.current,P).then(I=>{const D={...I,isPositioned:M.current!==!1};O.current&&!Xl(E.current,D)&&(E.current=D,mi.flushSync(()=>{d(D)}))})},[f,t,r,z,M]);vl(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(P=>({...P,isPositioned:!1})))},[u]);const O=m.useRef(!1);vl(()=>(O.current=!0,()=>{O.current=!1}),[]),vl(()=>{if(j&&(_.current=j),N&&(k.current=N),j&&N){if(S.current)return S.current(j,N,L);L()}},[j,N,L,S,A]);const q=m.useMemo(()=>({reference:_,floating:k,setReference:g,setFloating:b}),[g,b]),V=m.useMemo(()=>({reference:j,floating:N}),[j,N]),$=m.useMemo(()=>{const P={position:r,left:0,top:0};if(!V.floating)return P;const I=mm(V.floating,h.x),D=mm(V.floating,h.y);return l?{...P,transform:"translate("+I+"px, "+D+"px)",...Hb(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:D}},[r,l,V.floating,h.x,h.y]);return m.useMemo(()=>({...h,update:L,refs:q,elements:V,floatingStyles:$}),[h,L,q,V,$])}const E_=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?pm({element:n.current,padding:s}).fn(r):{}:n?pm({element:n,padding:s}).fn(r):{}}}},T_=(e,t)=>({...b_(e),options:[e,t]}),P_=(e,t)=>({...y_(e),options:[e,t]}),R_=(e,t)=>({...k_(e),options:[e,t]}),O_=(e,t)=>({...v_(e),options:[e,t]}),A_=(e,t)=>({...w_(e),options:[e,t]}),I_=(e,t)=>({...j_(e),options:[e,t]}),L_=(e,t)=>({...E_(e),options:[e,t]});var D_="Arrow",Kb=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return a.jsx(Pt.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Kb.displayName=D_;var M_=Kb;function $_(e){const[t,r]=m.useState(void 0);return zn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Gb="Popper",[Qb,Jb]=jc(Gb),[gT,Yb]=Qb(Gb),Xb="PopperAnchor",Zb=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=Yb(Xb,r),i=m.useRef(null),l=xr(t,i);return m.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:a.jsx(Pt.div,{...s,ref:l})});Zb.displayName=Xb;var jf="PopperContent",[F_,U_]=Qb(jf),ey=m.forwardRef((e,t)=>{var te,ve,Re,Oe,xe,U;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:v,...y}=e,w=Yb(jf,r),[x,g]=m.useState(null),b=xr(t,R=>g(R)),[j,N]=m.useState(null),_=$_(j),k=(_==null?void 0:_.width)??0,E=(_==null?void 0:_.height)??0,A=n+(o!=="center"?"-"+o:""),S=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},z=Array.isArray(u)?u:[u],M=z.length>0,L={padding:S,boundary:z.filter(B_),altBoundary:M},{refs:O,floatingStyles:q,placement:V,isPositioned:$,middlewareData:P}=C_({strategy:"fixed",placement:A,whileElementsMounted:(...R)=>g_(...R,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[T_({mainAxis:s+E,alignmentAxis:i}),c&&P_({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?R_():void 0,...L}),c&&O_({...L}),A_({...L,apply:({elements:R,rects:G,availableWidth:ie,availableHeight:fe})=>{const{width:ge,height:Ee}=G.reference,qe=R.floating.style;qe.setProperty("--radix-popper-available-width",`${ie}px`),qe.setProperty("--radix-popper-available-height",`${fe}px`),qe.setProperty("--radix-popper-anchor-width",`${ge}px`),qe.setProperty("--radix-popper-anchor-height",`${Ee}px`)}}),j&&L_({element:j,padding:l}),q_({arrowWidth:k,arrowHeight:E}),f&&I_({strategy:"referenceHidden",...L})]}),[I,D]=ny(V),K=Un(v);zn(()=>{$&&(K==null||K())},[$,K]);const Q=(te=P.arrow)==null?void 0:te.x,B=(ve=P.arrow)==null?void 0:ve.y,T=((Re=P.arrow)==null?void 0:Re.centerOffset)!==0,[J,se]=m.useState();return zn(()=>{x&&se(window.getComputedStyle(x).zIndex)},[x]),a.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:$?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(Oe=P.transformOrigin)==null?void 0:Oe.x,(xe=P.transformOrigin)==null?void 0:xe.y].join(" "),...((U=P.hide)==null?void 0:U.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(F_,{scope:r,placedSide:I,onArrowChange:N,arrowX:Q,arrowY:B,shouldHideArrow:T,children:a.jsx(Pt.div,{"data-side":I,"data-align":D,...y,ref:b,style:{...y.style,animation:$?void 0:"none"}})})})});ey.displayName=jf;var ty="PopperArrow",z_={top:"bottom",right:"left",bottom:"top",left:"right"},ry=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=U_(ty,n),i=z_[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(M_,{...s,ref:r,style:{...s.style,display:"block"}})})});ry.displayName=ty;function B_(e){return e!==null}var q_=e=>({name:"transformOrigin",options:e,fn(t){var w,x,g;const{placement:r,rects:n,middlewareData:s}=t,i=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,h]=ny(r),d={start:"0%",center:"50%",end:"100%"}[h],f=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,p=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let v="",y="";return u==="bottom"?(v=i?d:`${f}px`,y=`${-c}px`):u==="top"?(v=i?d:`${f}px`,y=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,y=i?d:`${p}px`):u==="left"&&(v=`${n.floating.width+c}px`,y=i?d:`${p}px`),{data:{x:v,y}}}});function ny(e){const[t,r="center"]=e.split("-");return[t,r]}var W_=Zb,V_=ey,H_=ry,[Oc,bT]=jc("Tooltip",[Jb]),kf=Jb(),sy="TooltipProvider",K_=700,xm="tooltip.open",[G_,oy]=Oc(sy),ay=e=>{const{__scopeTooltip:t,delayDuration:r=K_,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,i=m.useRef(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(G_,{scope:t,isOpenDelayedRef:i,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:o})};ay.displayName=sy;var iy="Tooltip",[yT,Ac]=Oc(iy),Fd="TooltipTrigger",Q_=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Ac(Fd,r),o=oy(Fd,r),i=kf(r),l=m.useRef(null),c=xr(t,l,s.onTriggerChange),u=m.useRef(!1),h=m.useRef(!1),d=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),a.jsx(W_,{asChild:!0,...i,children:a.jsx(Pt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:He(e.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:He(e.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:He(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:He(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:He(e.onBlur,s.onClose),onClick:He(e.onClick,s.onClose)})})});Q_.displayName=Fd;var J_="TooltipPortal",[vT,Y_]=Oc(J_,{forceMount:void 0}),zo="TooltipContent",ly=m.forwardRef((e,t)=>{const r=Y_(zo,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=Ac(zo,e.__scopeTooltip);return a.jsx(lf,{present:n||i.open,children:i.disableHoverableContent?a.jsx(cy,{side:s,...o,ref:t}):a.jsx(X_,{side:s,...o,ref:t})})}),X_=m.forwardRef((e,t)=>{const r=Ac(zo,e.__scopeTooltip),n=oy(zo,e.__scopeTooltip),s=m.useRef(null),o=xr(t,s),[i,l]=m.useState(null),{trigger:c,onClose:u}=r,h=s.current,{onPointerInTransitChange:d}=n,f=m.useCallback(()=>{l(null),d(!1)},[d]),p=m.useCallback((v,y)=>{const w=v.currentTarget,x={x:v.clientX,y:v.clientY},g=nN(x,w.getBoundingClientRect()),b=sN(x,g),j=oN(y.getBoundingClientRect()),N=iN([...b,...j]);l(N),d(!0)},[d]);return m.useEffect(()=>()=>f(),[f]),m.useEffect(()=>{if(c&&h){const v=w=>p(w,h),y=w=>p(w,c);return c.addEventListener("pointerleave",v),h.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",v),h.removeEventListener("pointerleave",y)}}},[c,h,p,f]),m.useEffect(()=>{if(i){const v=y=>{const w=y.target,x={x:y.clientX,y:y.clientY},g=(c==null?void 0:c.contains(w))||(h==null?void 0:h.contains(w)),b=!aN(x,i);g?f():b&&(f(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,h,i,u,f]),a.jsx(cy,{...e,ref:o})}),[Z_,eN]=Oc(iy,{isInside:!1}),tN=J1("TooltipContent"),cy=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=Ac(zo,r),u=kf(r),{onClose:h}=c;return m.useEffect(()=>(document.addEventListener(xm,h),()=>document.removeEventListener(xm,h)),[h]),m.useEffect(()=>{if(c.trigger){const d=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&h()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,h]),a.jsx(af,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:d=>d.preventDefault(),onDismiss:h,children:a.jsxs(V_,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(tN,{children:n}),a.jsx(Z_,{scope:r,isInside:!0,children:a.jsx(wj,{id:c.contentId,role:"tooltip",children:s||n})})]})})});ly.displayName=zo;var uy="TooltipArrow",rN=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=kf(r);return eN(uy,r).isInside?null:a.jsx(H_,{...s,...n,ref:t})});rN.displayName=uy;function nN(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function sN(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function oN(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function aN(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],u=l.x,h=l.y,d=c.x,f=c.y;h>n!=f>n&&r<(d-u)*(n-h)/(f-h)+u&&(s=!s)}return s}function iN(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),lN(t)}function lN(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var cN=ay,dy=ly;const uN=cN,dN=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(dy,{ref:n,sideOffset:t,className:F("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));dN.displayName=dy.displayName;var Qo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Es=typeof window>"u"||"Deno"in globalThis;function mt(){}function hN(e,t){return typeof e=="function"?e(t):e}function Ud(e){return typeof e=="number"&&e>=0&&e!==1/0}function hy(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Mn(e,t){return typeof e=="function"?e(t):e}function Vt(e,t){return typeof e=="function"?e(t):e}function gm(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==_f(i,t.options))return!1}else if(!Ja(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||o&&!o(t))}function bm(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Ts(t.options.mutationKey)!==Ts(o))return!1}else if(!Ja(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function _f(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ts)(e)}function Ts(e){return JSON.stringify(e,(t,r)=>zd(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Ja(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ja(e[r],t[r])):!1}function fy(e,t){if(e===t)return e;const r=ym(e)&&ym(t);if(r||zd(e)&&zd(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),i=o.length,l=r?[]:{},c=new Set(n);let u=0;for(let h=0;h<i;h++){const d=r?h:o[h];(!r&&c.has(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,u++):(l[d]=fy(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&u++)}return s===i&&u===s?e:l}return t}function Zl(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function ym(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function zd(e){if(!vm(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!vm(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function vm(e){return Object.prototype.toString.call(e)==="[object Object]"}function fN(e){return new Promise(t=>{setTimeout(t,e)})}function Bd(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?fy(e,t):t}function pN(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function mN(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Nf=Symbol();function py(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Nf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function my(e,t){return typeof e=="function"?e(...t):!!e}var ls,mn,bo,gx,xN=(gx=class extends Qo{constructor(){super();ne(this,ls);ne(this,mn);ne(this,bo);Y(this,bo,t=>{if(!Es&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){C(this,mn)||this.setEventListener(C(this,bo))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,mn))==null||t.call(this),Y(this,mn,void 0))}setEventListener(t){var r;Y(this,bo,t),(r=C(this,mn))==null||r.call(this),Y(this,mn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){C(this,ls)!==t&&(Y(this,ls,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof C(this,ls)=="boolean"?C(this,ls):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ls=new WeakMap,mn=new WeakMap,bo=new WeakMap,gx),Sf=new xN,yo,xn,vo,bx,gN=(bx=class extends Qo{constructor(){super();ne(this,yo,!0);ne(this,xn);ne(this,vo);Y(this,vo,t=>{if(!Es&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){C(this,xn)||this.setEventListener(C(this,vo))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,xn))==null||t.call(this),Y(this,xn,void 0))}setEventListener(t){var r;Y(this,vo,t),(r=C(this,xn))==null||r.call(this),Y(this,xn,t(this.setOnline.bind(this)))}setOnline(t){C(this,yo)!==t&&(Y(this,yo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return C(this,yo)}},yo=new WeakMap,xn=new WeakMap,vo=new WeakMap,bx),ec=new gN;function qd(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function bN(e){return Math.min(1e3*2**e,3e4)}function xy(e){return(e??"online")==="online"?ec.isOnline():!0}var gy=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function wu(e){return e instanceof gy}function by(e){let t=!1,r=0,n=!1,s;const o=qd(),i=y=>{var w;n||(f(new gy(y)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>Sf.isFocused()&&(e.networkMode==="always"||ec.isOnline())&&e.canRun(),h=()=>xy(e.networkMode)&&e.canRun(),d=y=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,y),s==null||s(),o.resolve(y))},f=y=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,y),s==null||s(),o.reject(y))},p=()=>new Promise(y=>{var w;s=x=>{(n||u())&&y(x)},(w=e.onPause)==null||w.call(e)}).then(()=>{var y;s=void 0,n||(y=e.onContinue)==null||y.call(e)}),v=()=>{if(n)return;let y;const w=r===0?e.initialPromise:void 0;try{y=w??e.fn()}catch(x){y=Promise.reject(x)}Promise.resolve(y).then(d).catch(x=>{var _;if(n)return;const g=e.retry??(Es?0:3),b=e.retryDelay??bN,j=typeof b=="function"?b(r,x):b,N=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,x);if(t||!N){f(x);return}r++,(_=e.onFail)==null||_.call(e,r,x),fN(j).then(()=>u()?void 0:p()).then(()=>{t?f(x):v()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?v():p().then(v),o)}}var yN=e=>setTimeout(e,0);function vN(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=yN;const o=l=>{t?e.push(l):s(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Ke=vN(),cs,yx,yy=(yx=class{constructor(){ne(this,cs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ud(this.gcTime)&&Y(this,cs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Es?1/0:5*60*1e3))}clearGcTimeout(){C(this,cs)&&(clearTimeout(C(this,cs)),Y(this,cs,void 0))}},cs=new WeakMap,yx),wo,us,Wt,ds,it,ai,hs,lr,Dr,vx,wN=(vx=class extends yy{constructor(t){super();ne(this,lr);ne(this,wo);ne(this,us);ne(this,Wt);ne(this,ds);ne(this,it);ne(this,ai);ne(this,hs);Y(this,hs,!1),Y(this,ai,t.defaultOptions),this.setOptions(t.options),this.observers=[],Y(this,ds,t.client),Y(this,Wt,C(this,ds).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Y(this,wo,jN(this.options)),this.state=t.state??C(this,wo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=C(this,it))==null?void 0:t.promise}setOptions(t){this.options={...C(this,ai),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,Wt).remove(this)}setData(t,r){const n=Bd(this.state.data,t,this.options);return de(this,lr,Dr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){de(this,lr,Dr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=C(this,it))==null?void 0:n.promise;return(s=C(this,it))==null||s.cancel(t),r?r.then(mt).catch(mt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,wo))}isActive(){return this.observers.some(t=>Vt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Nf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Mn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!hy(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,it))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,it))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),C(this,Wt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(C(this,it)&&(C(this,hs)?C(this,it).cancel({revert:!0}):C(this,it).cancelRetry()),this.scheduleGc()),C(this,Wt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||de(this,lr,Dr).call(this,{type:"invalidate"})}fetch(t,r){var u,h,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(C(this,it))return C(this,it).continueRetry(),C(this,it).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Y(this,hs,!0),n.signal)})},o=()=>{const f=py(this.options,r),v=(()=>{const y={client:C(this,ds),queryKey:this.queryKey,meta:this.meta};return s(y),y})();return Y(this,hs,!1),this.options.persister?this.options.persister(f,v,this):f(v)},l=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:C(this,ds),state:this.state,fetchFn:o};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(l,this),Y(this,us,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&de(this,lr,Dr).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta});const c=f=>{var p,v,y,w;wu(f)&&f.silent||de(this,lr,Dr).call(this,{type:"error",error:f}),wu(f)||((v=(p=C(this,Wt).config).onError)==null||v.call(p,f,this),(w=(y=C(this,Wt).config).onSettled)==null||w.call(y,this.state.data,f,this)),this.scheduleGc()};return Y(this,it,by({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var p,v,y,w;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){c(x);return}(v=(p=C(this,Wt).config).onSuccess)==null||v.call(p,f,this),(w=(y=C(this,Wt).config).onSettled)==null||w.call(y,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,p)=>{de(this,lr,Dr).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{de(this,lr,Dr).call(this,{type:"pause"})},onContinue:()=>{de(this,lr,Dr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),C(this,it).start()}},wo=new WeakMap,us=new WeakMap,Wt=new WeakMap,ds=new WeakMap,it=new WeakMap,ai=new WeakMap,hs=new WeakMap,lr=new WeakSet,Dr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...vy(n.data,this.options),fetchMeta:t.meta??null};case"success":return Y(this,us,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return wu(s)&&s.revert&&C(this,us)?{...C(this,us),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ke.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),C(this,Wt).notify({query:this,type:"updated",action:t})})},vx);function vy(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xy(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function jN(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var jr,wx,kN=(wx=class extends Qo{constructor(t={}){super();ne(this,jr);this.config=t,Y(this,jr,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??_f(s,r);let i=this.get(o);return i||(i=new wN({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){C(this,jr).has(t.queryHash)||(C(this,jr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=C(this,jr).get(t.queryHash);r&&(t.destroy(),r===t&&C(this,jr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ke.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return C(this,jr).get(t)}getAll(){return[...C(this,jr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>gm(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>gm(t,n)):r}notify(t){Ke.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ke.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ke.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},jr=new WeakMap,wx),kr,ht,fs,_r,ln,jx,_N=(jx=class extends yy{constructor(t){super();ne(this,_r);ne(this,kr);ne(this,ht);ne(this,fs);this.mutationId=t.mutationId,Y(this,ht,t.mutationCache),Y(this,kr,[]),this.state=t.state||wy(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){C(this,kr).includes(t)||(C(this,kr).push(t),this.clearGcTimeout(),C(this,ht).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Y(this,kr,C(this,kr).filter(r=>r!==t)),this.scheduleGc(),C(this,ht).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){C(this,kr).length||(this.state.status==="pending"?this.scheduleGc():C(this,ht).remove(this))}continue(){var t;return((t=C(this,fs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,l,c,u,h,d,f,p,v,y,w,x,g,b,j,N,_,k,E;const r=()=>{de(this,_r,ln).call(this,{type:"continue"})};Y(this,fs,by({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,S)=>{de(this,_r,ln).call(this,{type:"failed",failureCount:A,error:S})},onPause:()=>{de(this,_r,ln).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,ht).canRun(this)}));const n=this.state.status==="pending",s=!C(this,fs).canStart();try{if(n)r();else{de(this,_r,ln).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(o=C(this,ht).config).onMutate)==null?void 0:i.call(o,t,this));const S=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));S!==this.state.context&&de(this,_r,ln).call(this,{type:"pending",context:S,variables:t,isPaused:s})}const A=await C(this,fs).start();return await((h=(u=C(this,ht).config).onSuccess)==null?void 0:h.call(u,A,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,A,t,this.state.context)),await((v=(p=C(this,ht).config).onSettled)==null?void 0:v.call(p,A,null,this.state.variables,this.state.context,this)),await((w=(y=this.options).onSettled)==null?void 0:w.call(y,A,null,t,this.state.context)),de(this,_r,ln).call(this,{type:"success",data:A}),A}catch(A){try{throw await((g=(x=C(this,ht).config).onError)==null?void 0:g.call(x,A,t,this.state.context,this)),await((j=(b=this.options).onError)==null?void 0:j.call(b,A,t,this.state.context)),await((_=(N=C(this,ht).config).onSettled)==null?void 0:_.call(N,void 0,A,this.state.variables,this.state.context,this)),await((E=(k=this.options).onSettled)==null?void 0:E.call(k,void 0,A,t,this.state.context)),A}finally{de(this,_r,ln).call(this,{type:"error",error:A})}}finally{C(this,ht).runNext(this)}}},kr=new WeakMap,ht=new WeakMap,fs=new WeakMap,_r=new WeakSet,ln=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ke.batch(()=>{C(this,kr).forEach(n=>{n.onMutationUpdate(t)}),C(this,ht).notify({mutation:this,type:"updated",action:t})})},jx);function wy(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ur,cr,ii,kx,NN=(kx=class extends Qo{constructor(t={}){super();ne(this,Ur);ne(this,cr);ne(this,ii);this.config=t,Y(this,Ur,new Set),Y(this,cr,new Map),Y(this,ii,0)}build(t,r,n){const s=new _N({mutationCache:this,mutationId:++Ci(this,ii)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){C(this,Ur).add(t);const r=Qi(t);if(typeof r=="string"){const n=C(this,cr).get(r);n?n.push(t):C(this,cr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(C(this,Ur).delete(t)){const r=Qi(t);if(typeof r=="string"){const n=C(this,cr).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&C(this,cr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Qi(t);if(typeof r=="string"){const n=C(this,cr).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Qi(t);if(typeof r=="string"){const s=(n=C(this,cr).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ke.batch(()=>{C(this,Ur).forEach(t=>{this.notify({type:"removed",mutation:t})}),C(this,Ur).clear(),C(this,cr).clear()})}getAll(){return Array.from(C(this,Ur))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>bm(r,n))}findAll(t={}){return this.getAll().filter(r=>bm(t,r))}notify(t){Ke.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ke.batch(()=>Promise.all(t.map(r=>r.continue().catch(mt))))}},Ur=new WeakMap,cr=new WeakMap,ii=new WeakMap,kx);function Qi(e){var t;return(t=e.options.scope)==null?void 0:t.id}function wm(e){return{onFetch:(t,r)=>{var h,d,f,p,v;const n=t.options,s=(f=(d=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],i=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const w=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},x=py(t.options,t.fetchOptions),g=async(b,j,N)=>{if(y)return Promise.reject();if(j==null&&b.pages.length)return Promise.resolve(b);const k=(()=>{const z={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return w(z),z})(),E=await x(k),{maxPages:A}=t.options,S=N?mN:pN;return{pages:S(b.pages,E,A),pageParams:S(b.pageParams,j,A)}};if(s&&o.length){const b=s==="backward",j=b?SN:jm,N={pages:o,pageParams:i},_=j(n,N);l=await g(N,_,b)}else{const b=e??o.length;do{const j=c===0?i[0]??n.initialPageParam:jm(n,l);if(c>0&&j==null)break;l=await g(l,j),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var y,w;return(w=(y=t.options).persister)==null?void 0:w.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function jm(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function SN(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var De,gn,bn,jo,ko,yn,_o,No,_x,CN=(_x=class{constructor(e={}){ne(this,De);ne(this,gn);ne(this,bn);ne(this,jo);ne(this,ko);ne(this,yn);ne(this,_o);ne(this,No);Y(this,De,e.queryCache||new kN),Y(this,gn,e.mutationCache||new NN),Y(this,bn,e.defaultOptions||{}),Y(this,jo,new Map),Y(this,ko,new Map),Y(this,yn,0)}mount(){Ci(this,yn)._++,C(this,yn)===1&&(Y(this,_o,Sf.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,De).onFocus())})),Y(this,No,ec.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,De).onOnline())})))}unmount(){var e,t;Ci(this,yn)._--,C(this,yn)===0&&((e=C(this,_o))==null||e.call(this),Y(this,_o,void 0),(t=C(this,No))==null||t.call(this),Y(this,No,void 0))}isFetching(e){return C(this,De).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return C(this,gn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,De).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=C(this,De).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Mn(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return C(this,De).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=C(this,De).get(n.queryHash),o=s==null?void 0:s.state.data,i=hN(t,o);if(i!==void 0)return C(this,De).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Ke.batch(()=>C(this,De).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,De).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=C(this,De);Ke.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=C(this,De);return Ke.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ke.batch(()=>C(this,De).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(mt).catch(mt)}invalidateQueries(e,t={}){return Ke.batch(()=>(C(this,De).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ke.batch(()=>C(this,De).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(mt)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(mt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=C(this,De).build(this,t);return r.isStaleByTime(Mn(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(mt).catch(mt)}fetchInfiniteQuery(e){return e.behavior=wm(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(mt).catch(mt)}ensureInfiniteQueryData(e){return e.behavior=wm(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ec.isOnline()?C(this,gn).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,De)}getMutationCache(){return C(this,gn)}getDefaultOptions(){return C(this,bn)}setDefaultOptions(e){Y(this,bn,e)}setQueryDefaults(e,t){C(this,jo).set(Ts(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...C(this,jo).values()],r={};return t.forEach(n=>{Ja(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){C(this,ko).set(Ts(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...C(this,ko).values()],r={};return t.forEach(n=>{Ja(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...C(this,bn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_f(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Nf&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...C(this,bn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){C(this,De).clear(),C(this,gn).clear()}},De=new WeakMap,gn=new WeakMap,bn=new WeakMap,jo=new WeakMap,ko=new WeakMap,yn=new WeakMap,_o=new WeakMap,No=new WeakMap,_x),wt,pe,li,ft,ps,So,vn,wn,ci,Co,Eo,ms,xs,jn,To,be,ma,Wd,Vd,Hd,Kd,Gd,Qd,Jd,jy,Nx,EN=(Nx=class extends Qo{constructor(t,r){super();ne(this,be);ne(this,wt);ne(this,pe);ne(this,li);ne(this,ft);ne(this,ps);ne(this,So);ne(this,vn);ne(this,wn);ne(this,ci);ne(this,Co);ne(this,Eo);ne(this,ms);ne(this,xs);ne(this,jn);ne(this,To,new Set);this.options=r,Y(this,wt,t),Y(this,wn,null),Y(this,vn,qd()),this.options.experimental_prefetchInRender||C(this,vn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,pe).addObserver(this),km(C(this,pe),this.options)?de(this,be,ma).call(this):this.updateResult(),de(this,be,Kd).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Yd(C(this,pe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Yd(C(this,pe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,de(this,be,Gd).call(this),de(this,be,Qd).call(this),C(this,pe).removeObserver(this)}setOptions(t){const r=this.options,n=C(this,pe);if(this.options=C(this,wt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Vt(this.options.enabled,C(this,pe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");de(this,be,Jd).call(this),C(this,pe).setOptions(this.options),r._defaulted&&!Zl(this.options,r)&&C(this,wt).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,pe),observer:this});const s=this.hasListeners();s&&_m(C(this,pe),n,this.options,r)&&de(this,be,ma).call(this),this.updateResult(),s&&(C(this,pe)!==n||Vt(this.options.enabled,C(this,pe))!==Vt(r.enabled,C(this,pe))||Mn(this.options.staleTime,C(this,pe))!==Mn(r.staleTime,C(this,pe)))&&de(this,be,Wd).call(this);const o=de(this,be,Vd).call(this);s&&(C(this,pe)!==n||Vt(this.options.enabled,C(this,pe))!==Vt(r.enabled,C(this,pe))||o!==C(this,jn))&&de(this,be,Hd).call(this,o)}getOptimisticResult(t){const r=C(this,wt).getQueryCache().build(C(this,wt),t),n=this.createResult(r,t);return PN(this,n)&&(Y(this,ft,n),Y(this,So,this.options),Y(this,ps,C(this,pe).state)),n}getCurrentResult(){return C(this,ft)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){C(this,To).add(t)}getCurrentQuery(){return C(this,pe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=C(this,wt).defaultQueryOptions(t),n=C(this,wt).getQueryCache().build(C(this,wt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return de(this,be,ma).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,ft)))}createResult(t,r){var A;const n=C(this,pe),s=this.options,o=C(this,ft),i=C(this,ps),l=C(this,So),u=t!==n?t.state:C(this,li),{state:h}=t;let d={...h},f=!1,p;if(r._optimisticResults){const S=this.hasListeners(),z=!S&&km(t,r),M=S&&_m(t,n,r,s);(z||M)&&(d={...d,...vy(h.data,t.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:v,errorUpdatedAt:y,status:w}=d;p=d.data;let x=!1;if(r.placeholderData!==void 0&&p===void 0&&w==="pending"){let S;o!=null&&o.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(S=o.data,x=!0):S=typeof r.placeholderData=="function"?r.placeholderData((A=C(this,Eo))==null?void 0:A.state.data,C(this,Eo)):r.placeholderData,S!==void 0&&(w="success",p=Bd(o==null?void 0:o.data,S,r),f=!0)}if(r.select&&p!==void 0&&!x)if(o&&p===(i==null?void 0:i.data)&&r.select===C(this,ci))p=C(this,Co);else try{Y(this,ci,r.select),p=r.select(p),p=Bd(o==null?void 0:o.data,p,r),Y(this,Co,p),Y(this,wn,null)}catch(S){Y(this,wn,S)}C(this,wn)&&(v=C(this,wn),p=C(this,Co),y=Date.now(),w="error");const g=d.fetchStatus==="fetching",b=w==="pending",j=w==="error",N=b&&g,_=p!==void 0,E={status:w,fetchStatus:d.fetchStatus,isPending:b,isSuccess:w==="success",isError:j,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:d.dataUpdatedAt,error:v,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!b,isLoadingError:j&&!_,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:j&&_,isStale:Cf(t,r),refetch:this.refetch,promise:C(this,vn),isEnabled:Vt(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const S=L=>{E.status==="error"?L.reject(E.error):E.data!==void 0&&L.resolve(E.data)},z=()=>{const L=Y(this,vn,E.promise=qd());S(L)},M=C(this,vn);switch(M.status){case"pending":t.queryHash===n.queryHash&&S(M);break;case"fulfilled":(E.status==="error"||E.data!==M.value)&&z();break;case"rejected":(E.status!=="error"||E.error!==M.reason)&&z();break}}return E}updateResult(){const t=C(this,ft),r=this.createResult(C(this,pe),this.options);if(Y(this,ps,C(this,pe).state),Y(this,So,this.options),C(this,ps).data!==void 0&&Y(this,Eo,C(this,pe)),Zl(r,t))return;Y(this,ft,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!C(this,To).size)return!0;const i=new Set(o??C(this,To));return this.options.throwOnError&&i.add("error"),Object.keys(C(this,ft)).some(l=>{const c=l;return C(this,ft)[c]!==t[c]&&i.has(c)})};de(this,be,jy).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&de(this,be,Kd).call(this)}},wt=new WeakMap,pe=new WeakMap,li=new WeakMap,ft=new WeakMap,ps=new WeakMap,So=new WeakMap,vn=new WeakMap,wn=new WeakMap,ci=new WeakMap,Co=new WeakMap,Eo=new WeakMap,ms=new WeakMap,xs=new WeakMap,jn=new WeakMap,To=new WeakMap,be=new WeakSet,ma=function(t){de(this,be,Jd).call(this);let r=C(this,pe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(mt)),r},Wd=function(){de(this,be,Gd).call(this);const t=Mn(this.options.staleTime,C(this,pe));if(Es||C(this,ft).isStale||!Ud(t))return;const n=hy(C(this,ft).dataUpdatedAt,t)+1;Y(this,ms,setTimeout(()=>{C(this,ft).isStale||this.updateResult()},n))},Vd=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,pe)):this.options.refetchInterval)??!1},Hd=function(t){de(this,be,Qd).call(this),Y(this,jn,t),!(Es||Vt(this.options.enabled,C(this,pe))===!1||!Ud(C(this,jn))||C(this,jn)===0)&&Y(this,xs,setInterval(()=>{(this.options.refetchIntervalInBackground||Sf.isFocused())&&de(this,be,ma).call(this)},C(this,jn)))},Kd=function(){de(this,be,Wd).call(this),de(this,be,Hd).call(this,de(this,be,Vd).call(this))},Gd=function(){C(this,ms)&&(clearTimeout(C(this,ms)),Y(this,ms,void 0))},Qd=function(){C(this,xs)&&(clearInterval(C(this,xs)),Y(this,xs,void 0))},Jd=function(){const t=C(this,wt).getQueryCache().build(C(this,wt),this.options);if(t===C(this,pe))return;const r=C(this,pe);Y(this,pe,t),Y(this,li,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},jy=function(t){Ke.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(C(this,ft))}),C(this,wt).getQueryCache().notify({query:C(this,pe),type:"observerResultsUpdated"})})},Nx);function TN(e,t){return Vt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function km(e,t){return TN(e,t)||e.state.data!==void 0&&Yd(e,t,t.refetchOnMount)}function Yd(e,t,r){if(Vt(t.enabled,e)!==!1&&Mn(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Cf(e,t)}return!1}function _m(e,t,r,n){return(e!==t||Vt(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Cf(e,r)}function Cf(e,t){return Vt(t.enabled,e)!==!1&&e.isStaleByTime(Mn(t.staleTime,e))}function PN(e,t){return!Zl(e.getCurrentResult(),t)}var kn,_n,jt,zr,Vr,wl,Xd,Sx,RN=(Sx=class extends Qo{constructor(r,n){super();ne(this,Vr);ne(this,kn);ne(this,_n);ne(this,jt);ne(this,zr);Y(this,kn,r),this.setOptions(n),this.bindMethods(),de(this,Vr,wl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=C(this,kn).defaultMutationOptions(r),Zl(this.options,n)||C(this,kn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:C(this,jt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ts(n.mutationKey)!==Ts(this.options.mutationKey)?this.reset():((s=C(this,jt))==null?void 0:s.state.status)==="pending"&&C(this,jt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=C(this,jt))==null||r.removeObserver(this)}onMutationUpdate(r){de(this,Vr,wl).call(this),de(this,Vr,Xd).call(this,r)}getCurrentResult(){return C(this,_n)}reset(){var r;(r=C(this,jt))==null||r.removeObserver(this),Y(this,jt,void 0),de(this,Vr,wl).call(this),de(this,Vr,Xd).call(this)}mutate(r,n){var s;return Y(this,zr,n),(s=C(this,jt))==null||s.removeObserver(this),Y(this,jt,C(this,kn).getMutationCache().build(C(this,kn),this.options)),C(this,jt).addObserver(this),C(this,jt).execute(r)}},kn=new WeakMap,_n=new WeakMap,jt=new WeakMap,zr=new WeakMap,Vr=new WeakSet,wl=function(){var n;const r=((n=C(this,jt))==null?void 0:n.state)??wy();Y(this,_n,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Xd=function(r){Ke.batch(()=>{var n,s,o,i,l,c,u,h;if(C(this,zr)&&this.hasListeners()){const d=C(this,_n).variables,f=C(this,_n).context;(r==null?void 0:r.type)==="success"?((s=(n=C(this,zr)).onSuccess)==null||s.call(n,r.data,d,f),(i=(o=C(this,zr)).onSettled)==null||i.call(o,r.data,null,d,f)):(r==null?void 0:r.type)==="error"&&((c=(l=C(this,zr)).onError)==null||c.call(l,r.error,d,f),(h=(u=C(this,zr)).onSettled)==null||h.call(u,void 0,r.error,d,f))}this.listeners.forEach(d=>{d(C(this,_n))})})},Sx),ky=m.createContext(void 0),ut=e=>{const t=m.useContext(ky);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ON=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(ky.Provider,{value:e,children:t})),_y=m.createContext(!1),AN=()=>m.useContext(_y);_y.Provider;function IN(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var LN=m.createContext(IN()),DN=()=>m.useContext(LN),MN=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},$N=e=>{m.useEffect(()=>{e.clearReset()},[e])},FN=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||my(r,[e.error,n])),UN=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},zN=(e,t)=>e.isLoading&&e.isFetching&&!t,BN=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Nm=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function qN(e,t,r){var d,f,p,v,y;const n=AN(),s=DN(),o=ut(),i=o.defaultQueryOptions(e);(f=(d=o.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,i),i._optimisticResults=n?"isRestoring":"optimistic",UN(i),MN(i,s),$N(s);const l=!o.getQueryCache().get(i.queryHash),[c]=m.useState(()=>new t(o,i)),u=c.getOptimisticResult(i),h=!n&&e.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(w=>{const x=h?c.subscribe(Ke.batchCalls(w)):mt;return c.updateResult(),x},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(i)},[i,c]),BN(i,u))throw Nm(i,c,s);if(FN({result:u,errorResetBoundary:s,throwOnError:i.throwOnError,query:o.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((v=(p=o.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||v.call(p,i,u),i.experimental_prefetchInRender&&!Es&&zN(u,n)){const w=l?Nm(i,c,s):(y=o.getQueryCache().get(i.queryHash))==null?void 0:y.promise;w==null||w.catch(mt).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function bt(e,t){return qN(e,EN)}function gt(e,t){const r=ut(),[n]=m.useState(()=>new RN(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const s=m.useSyncExternalStore(m.useCallback(i=>n.subscribe(Ke.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=m.useCallback((i,l)=>{n.mutate(i,l).catch(mt)},[n]);if(s.error&&my(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ya(){return Ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ya.apply(this,arguments)}var Cn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Cn||(Cn={}));const Sm="popstate";function WN(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:l}=n.location;return Zd("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Sy(s)}return HN(t,r,null,e)}function Be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ny(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VN(){return Math.random().toString(36).substr(2,8)}function Cm(e,t){return{usr:e.state,key:e.key,idx:t}}function Zd(e,t,r,n){return r===void 0&&(r=null),Ya({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Jo(t):t,{state:r,key:t&&t.key||n||VN()})}function Sy(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Jo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function HN(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,l=Cn.Pop,c=null,u=h();u==null&&(u=0,i.replaceState(Ya({},i.state,{idx:u}),""));function h(){return(i.state||{idx:null}).idx}function d(){l=Cn.Pop;let w=h(),x=w==null?null:w-u;u=w,c&&c({action:l,location:y.location,delta:x})}function f(w,x){l=Cn.Push;let g=Zd(y.location,w,x);u=h()+1;let b=Cm(g,u),j=y.createHref(g);try{i.pushState(b,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(j)}o&&c&&c({action:l,location:y.location,delta:1})}function p(w,x){l=Cn.Replace;let g=Zd(y.location,w,x);u=h();let b=Cm(g,u),j=y.createHref(g);i.replaceState(b,"",j),o&&c&&c({action:l,location:y.location,delta:0})}function v(w){let x=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof w=="string"?w:Sy(w);return g=g.replace(/ $/,"%20"),Be(x,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,x)}let y={get action(){return l},get location(){return e(s,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Sm,d),c=w,()=>{s.removeEventListener(Sm,d),c=null}},createHref(w){return t(s,w)},createURL:v,encodeLocation(w){let x=v(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:p,go(w){return i.go(w)}};return y}var Em;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Em||(Em={}));function KN(e,t,r){return r===void 0&&(r="/"),GN(e,t,r,!1)}function GN(e,t,r,n){let s=typeof t=="string"?Jo(t):t,o=Ty(s.pathname||"/",r);if(o==null)return null;let i=Cy(e);QN(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=aS(o);l=sS(i[c],u,n)}return l}function Cy(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Be(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ys([n,c.relativePath]),h=r.concat(c);o.children&&o.children.length>0&&(Be(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Cy(o.children,t,h,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:rS(u,o.index),routesMeta:h})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of Ey(o.path))s(o,i,c)}),t}function Ey(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=Ey(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function QN(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:nS(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const JN=/^:[\w-]+$/,YN=3,XN=2,ZN=1,eS=10,tS=-2,Tm=e=>e==="*";function rS(e,t){let r=e.split("/"),n=r.length;return r.some(Tm)&&(n+=tS),t&&(n+=XN),r.filter(s=>!Tm(s)).reduce((s,o)=>s+(JN.test(o)?YN:o===""?ZN:eS),n)}function nS(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function sS(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,h=o==="/"?t:t.slice(o.length)||"/",d=Pm({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),f=c.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=Pm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!d)return null;Object.assign(s,d.params),i.push({params:s,pathname:ys([o,d.pathname]),pathnameBase:uS(ys([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=ys([o,d.pathnameBase]))}return i}function Pm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=oS(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,h,d)=>{let{paramName:f,isOptional:p}=h;if(f==="*"){let y=l[d]||"";i=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const v=l[d];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function oS(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ny(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function aS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ny(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ty(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function iS(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Jo(e):e;return{pathname:r?r.startsWith("/")?r:lS(r,t):t,search:dS(n),hash:hS(s)}}function lS(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ju(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cS(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Py(e,t){let r=cS(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Ry(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Jo(e):(s=Ya({},e),Be(!s.pathname||!s.pathname.includes("?"),ju("?","pathname","search",s)),Be(!s.pathname||!s.pathname.includes("#"),ju("#","pathname","hash",s)),Be(!s.search||!s.search.includes("#"),ju("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=r;else{let d=t.length-1;if(!n&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}l=d>=0?t[d]:"/"}let c=iS(s,l),u=i&&i!=="/"&&i.endsWith("/"),h=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const ys=e=>e.join("/").replace(/\/\/+/g,"/"),uS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function fS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Oy=["post","put","patch","delete"];new Set(Oy);const pS=["get",...Oy];new Set(pS);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xa.apply(this,arguments)}const Ef=m.createContext(null),mS=m.createContext(null),vi=m.createContext(null),Ic=m.createContext(null),Gn=m.createContext({outlet:null,matches:[],isDataRoute:!1}),Ay=m.createContext(null);function wi(){return m.useContext(Ic)!=null}function ji(){return wi()||Be(!1),m.useContext(Ic).location}function Iy(e){m.useContext(vi).static||m.useLayoutEffect(e)}function Qn(){let{isDataRoute:e}=m.useContext(Gn);return e?PS():xS()}function xS(){wi()||Be(!1);let e=m.useContext(Ef),{basename:t,future:r,navigator:n}=m.useContext(vi),{matches:s}=m.useContext(Gn),{pathname:o}=ji(),i=JSON.stringify(Py(s,r.v7_relativeSplatPath)),l=m.useRef(!1);return Iy(()=>{l.current=!0}),m.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=Ry(u,JSON.parse(i),o,h.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ys([t,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[t,n,i,o,e])}const gS=m.createContext(null);function bS(e){let t=m.useContext(Gn).outlet;return t&&m.createElement(gS.Provider,{value:e},t)}function yS(e,t){return vS(e,t)}function vS(e,t,r,n){wi()||Be(!1);let{navigator:s}=m.useContext(vi),{matches:o}=m.useContext(Gn),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=ji(),h;if(t){var d;let w=typeof t=="string"?Jo(t):t;c==="/"||(d=w.pathname)!=null&&d.startsWith(c)||Be(!1),h=w}else h=u;let f=h.pathname||"/",p=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=KN(e,{pathname:p}),y=NS(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ys([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ys([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,r,n);return t&&y?m.createElement(Ic.Provider,{value:{location:Xa({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Cn.Pop}},y):y}function wS(){let e=TS(),t=fS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const jS=m.createElement(wS,null);class kS extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(Gn.Provider,{value:this.props.routeContext},m.createElement(Ay.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _S(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(Ef);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(Gn.Provider,{value:t},n)}function NS(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let h=i.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);h>=0||Be(!1),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<i.length;h++){let d=i[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:f,errors:p}=r,v=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||v){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,d,f)=>{let p,v=!1,y=null,w=null;r&&(p=l&&d.route.id?l[d.route.id]:void 0,y=d.route.errorElement||jS,c&&(u<0&&f===0?(v=!0,w=null):u===f&&(v=!0,w=d.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,f+1)),g=()=>{let b;return p?b=y:v?b=w:d.route.Component?b=m.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=h,m.createElement(_S,{match:d,routeContext:{outlet:h,matches:x,isDataRoute:r!=null},children:b})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?m.createElement(kS,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:g(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):g()},null)}var Ly=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ly||{}),tc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(tc||{});function SS(e){let t=m.useContext(Ef);return t||Be(!1),t}function CS(e){let t=m.useContext(mS);return t||Be(!1),t}function ES(e){let t=m.useContext(Gn);return t||Be(!1),t}function Dy(e){let t=ES(),r=t.matches[t.matches.length-1];return r.route.id||Be(!1),r.route.id}function TS(){var e;let t=m.useContext(Ay),r=CS(tc.UseRouteError),n=Dy(tc.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function PS(){let{router:e}=SS(Ly.UseNavigateStable),t=Dy(tc.UseNavigateStable),r=m.useRef(!1);return Iy(()=>{r.current=!0}),m.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Xa({fromRouteId:t},o)))},[e,t])}function RS(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function OS(e){let{to:t,replace:r,state:n,relative:s}=e;wi()||Be(!1);let{future:o,static:i}=m.useContext(vi),{matches:l}=m.useContext(Gn),{pathname:c}=ji(),u=Qn(),h=Ry(t,Py(l,o.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(h);return m.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function AS(e){return bS(e.context)}function qt(e){Be(!1)}function IS(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Cn.Pop,navigator:o,static:i=!1,future:l}=e;wi()&&Be(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:o,static:i,future:Xa({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof n=="string"&&(n=Jo(n));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:v="default"}=n,y=m.useMemo(()=>{let w=Ty(h,c);return w==null?null:{location:{pathname:w,search:d,hash:f,state:p,key:v},navigationType:s}},[c,h,d,f,p,v,s]);return y==null?null:m.createElement(vi.Provider,{value:u},m.createElement(Ic.Provider,{children:r,value:y}))}function LS(e){let{children:t,location:r}=e;return yS(eh(t),r)}new Promise(()=>{});function eh(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let o=[...t,s];if(n.type===m.Fragment){r.push.apply(r,eh(n.props.children,o));return}n.type!==qt&&Be(!1),!n.props.index||!n.props.children||Be(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=eh(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const DS="6";try{window.__reactRouterVersion=DS}catch{}const MS="startTransition",Rm=$x[MS];function $S(e){let{basename:t,children:r,future:n,window:s}=e,o=m.useRef();o.current==null&&(o.current=WN({window:s,v5Compat:!0}));let i=o.current,[l,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},h=m.useCallback(d=>{u&&Rm?Rm(()=>c(d)):c(d)},[c,u]);return m.useLayoutEffect(()=>i.listen(h),[i,h]),m.useEffect(()=>RS(n),[n]),m.createElement(IS,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}var Om;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Om||(Om={}));var Am;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Am||(Am={}));function Lc(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function FS(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(h){try{u(n.next(h))}catch(d){i(d)}}function c(h){try{u(n.throw(h))}catch(d){i(d)}}function u(h){h.done?o(h.value):s(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}const US=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Tf extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class zS extends Tf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Im extends Tf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Lm extends Tf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var th;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(th||(th={}));class BS{constructor(t,{headers:r={},customFetch:n,region:s=th.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=US(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return FS(this,arguments,void 0,function*(r,n={}){var s;let o,i;try{const{headers:l,method:c,body:u,signal:h,timeout:d}=n;let f={},{region:p}=n;p||(p=this.region);const v=new URL(`${this.url}/${r}`);p&&p!=="any"&&(f["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let y;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(f["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(f["Content-Type"]="application/json",y=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?y=JSON.stringify(u):y=u;let w=h;d&&(i=new AbortController,o=setTimeout(()=>i.abort(),d),h?(w=i.signal,h.addEventListener("abort",()=>i.abort())):w=i.signal);const x=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:y,signal:w}).catch(N=>{throw new zS(N)}),g=x.headers.get("x-relay-error");if(g&&g==="true")throw new Im(x);if(!x.ok)throw new Lm(x);let b=((s=x.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return b==="application/json"?j=yield x.json():b==="application/octet-stream"||b==="application/pdf"?j=yield x.blob():b==="text/event-stream"?j=x:b==="multipart/form-data"?j=yield x.formData():j=yield x.text(),{data:j,error:null,response:x}}catch(l){return{data:null,error:l,response:l instanceof Lm||l instanceof Im?l.context:void 0}}finally{o&&clearTimeout(o)}})}}var qS=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},WS=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let i=null,l=null,c=null,u=o.status,h=o.statusText;if(o.ok){var d,f;if(r.method!=="HEAD"){var p;const x=await o.text();x===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=x:l=JSON.parse(x))}const y=(d=r.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),w=(f=o.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");y&&w&&w.length>1&&(c=parseInt(w[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(i={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,h="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var v;const y=await o.text();try{i=JSON.parse(y),Array.isArray(i)&&o.status===404&&(l=[],i=null,u=200,h="OK")}catch{o.status===404&&y===""?(u=204,h="No Content"):i={message:y}}if(i&&r.isMaybeSingle&&(!(i==null||(v=i.details)===null||v===void 0)&&v.includes("0 rows"))&&(i=null,u=200,h="OK"),i&&r.shouldThrowOnError)throw new qS(i)}return{error:i,data:l,count:c,status:u,statusText:h}});return this.shouldThrowOnError||(s=s.catch(o=>{var i;let l="",c="",u="";const h=o==null?void 0:o.cause;if(h){var d,f,p,v;const x=(d=h==null?void 0:h.message)!==null&&d!==void 0?d:"",g=(f=h==null?void 0:h.code)!==null&&f!==void 0?f:"";l=`${(p=o==null?void 0:o.name)!==null&&p!==void 0?p:"FetchError"}: ${o==null?void 0:o.message}`,l+=`

Caused by: ${(v=h==null?void 0:h.name)!==null&&v!==void 0?v:"Error"}: ${x}`,g&&(l+=` (${g})`),h!=null&&h.stack&&(l+=`
${h.stack}`)}else{var y;l=(y=o==null?void 0:o.stack)!==null&&y!==void 0?y:""}const w=this.url.toString().length;return(o==null?void 0:o.name)==="AbortError"||(o==null?void 0:o.code)==="ABORT_ERR"?(u="",c="Request was aborted (timeout or manual cancellation)",w>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${w} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((h==null?void 0:h.name)==="HeadersOverflowError"||(h==null?void 0:h.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",c="HTTP headers exceeded server limits (typically 16KB)",w>this.urlLengthLimit&&(c+=`. Your request URL is ${w} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:l,hint:c,code:u},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},VS=class extends WS{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const o=s?`${s}.order`:"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:o="text"}={}){var i;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Dm=new RegExp("[,()]");var Vs=class extends VS{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Dm.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Dm.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},HS=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",i),n&&c.append("Prefer",`count=${n}`),new Vs({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:o,headers:i}=this.cloneRequestState();if(t&&i.append("Prefer",`count=${t}`),r||i.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);o.searchParams.set("columns",c.join(","))}}return new Vs({method:s,url:o,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var o;const i="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(u.length>0){const h=[...new Set(u)].map(d=>`"${d}"`);l.searchParams.set("columns",h.join(","))}}return new Vs({method:i,url:l,headers:c,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Vs({method:n,url:s,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Vs({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Za(e){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}function KS(e,t){if(Za(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Za(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GS(e){var t=KS(e,"string");return Za(t)=="symbol"?t:t+""}function QS(e,t,r){return(t=GS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mm(Object(r),!0).forEach(function(n){QS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var JS=class My{constructor(t,{headers:r={},schema:n,fetch:s,timeout:o,urlLengthLimit:i=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=i;const l=s??globalThis.fetch;o!==void 0&&o>0?this.fetch=(c,u)=>{const h=new AbortController,d=setTimeout(()=>h.abort(),o),f=u==null?void 0:u.signal;if(f){if(f.aborted)return clearTimeout(d),l(c,u);const p=()=>{clearTimeout(d),h.abort()};return f.addEventListener("abort",p,{once:!0}),l(c,Ji(Ji({},u),{},{signal:h.signal})).finally(()=>{clearTimeout(d),f.removeEventListener("abort",p)})}return l(c,Ji(Ji({},u),{},{signal:h.signal})).finally(()=>clearTimeout(d))}:this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new HS(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new My(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){var i;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const h=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(h)),d=n&&Object.values(r).some(h);d?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([p,v])=>v!==void 0).map(([p,v])=>[p,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([p,v])=>{c.searchParams.append(p,v)})):(l="POST",u=r);const f=new Headers(this.headers);return d?f.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&f.set("Prefer",`count=${o}`),new Vs({method:l,url:c,headers:f,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}};class YS{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const XS="2.97.0",ZS=`realtime-js/${XS}`,eC="1.0.0",$y="2.0.0",$m=$y,rh=1e4,tC=1e3,rC=100;var dn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(dn||(dn={}));var We;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(We||(We={}));var dr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(dr||(dr={}));var nh;(function(e){e.websocket="websocket"})(nh||(nh={}));var rs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(rs||(rs={}));class nC{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},i=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(t,r,n){var s,o;const i=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(o=t.join_ref)!==null&&o!==void 0?o:"",u=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(h).length===0?"":JSON.stringify(h);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+i.length+u.length+d.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let v=new DataView(p),y=0;v.setUint8(y++,this.KINDS.userBroadcastPush),v.setUint8(y++,c.length),v.setUint8(y++,l.length),v.setUint8(y++,i.length),v.setUint8(y++,u.length),v.setUint8(y++,d.length),v.setUint8(y++,r),Array.from(c,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(l,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(i,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(u,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(d,x=>v.setUint8(y++,x.charCodeAt(0)));var w=new Uint8Array(p.byteLength+n.byteLength);return w.set(new Uint8Array(p),0),w.set(new Uint8Array(n),p.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,o,i,l,c]=n;return r({join_ref:s,ref:o,topic:i,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2),i=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const h=n.decode(t.slice(c,c+o));c=c+o;const d=n.decode(t.slice(c,c+i));c=c+i;const f=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,v={type:this.BROADCAST_EVENT,event:h,payload:p};return i>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Fy{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(je||(je={}));const Fm=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((o,i)=>(o[i]=sC(i,e,t,s),o),{}):{}},sC=(e,t,r,n)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?Uy(o,i):sh(i)},Uy=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return lC(t,r)}switch(e){case je.bool:return oC(t);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return aC(t);case je.json:case je.jsonb:return iC(t);case je.timestamp:return cC(t);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return sh(t);default:return sh(t)}},sh=e=>e,oC=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},aC=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},iC=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},lC=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>Uy(t,l))}return e},cC=e=>typeof e=="string"?e.replace(" ","T"):e,zy=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ku{constructor(t,r,n={},s=rh){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Um;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Um||(Um={}));class Ea{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ea.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=Ea.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ea.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(o,(u,h)=>{i[u]||(c[u]=h)}),this.map(i,(u,h)=>{const d=o[u];if(d){const f=h.map(w=>w.presence_ref),p=d.map(w=>w.presence_ref),v=h.filter(w=>p.indexOf(w.presence_ref)<0),y=d.filter(w=>f.indexOf(w.presence_ref)<0);v.length>0&&(l[u]=v),y.length>0&&(c[u]=y)}else l[u]=h}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const h=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),h.length>0){const d=t[l].map(p=>p.presence_ref),f=h.filter(p=>d.indexOf(p.presence_ref)<0);t[l].unshift(...f)}n(l,h,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const h=c.map(d=>d.presence_ref);u=u.filter(d=>h.indexOf(d.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zm||(zm={}));var Ta;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ta||(Ta={}));var $r;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})($r||($r={}));class ao{constructor(t,r={config:{}},n){var s,o;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ku(this,dr.join,this.params,this.timeout),this.rejoinTimer=new Fy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dr.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new Ea(this),this.broadcastEndpointURL=zy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==We.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[Ta.PRESENCE]&&this.bindings[Ta.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},f={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t($r.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t($r.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t($r.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,x=[];for(let g=0;g<w;g++){const b=y[g],{filter:{event:j,schema:N,table:_,filter:k}}=b,E=p&&p[g];if(E&&E.event===j&&ao.isFilterValueEqual(E.schema,N)&&ao.isFilterValueEqual(E.table,_)&&ao.isFilterValueEqual(E.filter,k))x.push(Object.assign(Object.assign({},b),{id:E.id}));else{this.unsubscribe(),this.state=We.errored,t==null||t($r.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t($r.SUBSCRIBED);return}}).receive("error",p=>{this.state=We.errored,t==null||t($r.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t($r.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===We.joined&&t===Ta.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=We.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new ku(this,dr.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=We.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ku(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>rC){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:h}=dr;if(n&&[l,c,u,h].indexOf(i)>=0&&n!==this._joinRef())return;let f=this._onMessage(i,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,y,w;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(y=p.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(p=>p.callback(f,n)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var v,y,w,x,g,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const j=p.id,N=(v=p.filter)===null||v===void 0?void 0:v.event;return j&&((y=r.ids)===null||y===void 0?void 0:y.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(g=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:y,table:w,commit_timestamp:x,type:g,errors:b}=v;f=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:x,eventType:g,new:{},old:{},errors:b}),this._getPayloadRecords(v))}p.callback(f,n)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&ao.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(dr.close,{},t)}_onError(t){this._on(dr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Fm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Fm(t.columns,t.old_record)),r}}const _u=()=>{},Yi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},uC=[1e3,2e3,5e3,1e4],dC=1e4,hC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fC{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rh,this.transport=null,this.heartbeatIntervalMs=Yi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_u,this.ref=0,this.reconnectTimer=null,this.vsn=$m,this.logger=_u,this.conn=null,this.sendBuffer=[],this.serializer=new nC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${nh.websocket}`,this.httpEndpoint=zy(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=YS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case dn.connecting:return rs.Connecting;case dn.open:return rs.Open;case dn.closing:return rs.Closing;default:return rs.Closed}}isConnected(){return this.connectionState()===rs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new ao(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(tC,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Yi.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:o,ref:i}=r,l=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===dn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===dn.open||this.conn.readyState===dn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(dr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([hC],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:ZS};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(dr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Fy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,o,i,l,c,u,h,d,f,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:rh,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Yi.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:_u,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:$m,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>uC[v-1]||dC,this.vsn){case eC:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:(v,y)=>y(JSON.stringify(v)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(v,y)=>y(JSON.parse(v));break;case $y:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ei=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function pC(e,t,r){const n=new URL(t,e);if(r)for(const[s,o]of Object.entries(r))o!==void 0&&n.searchParams.set(s,o);return n.toString()}async function mC(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function xC(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:o,headers:i}){const l=pC(e.baseUrl,n,s),c=await mC(e.auth),u=await t(l,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...c,...i},body:o?JSON.stringify(o):void 0}),h=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),f=d&&h?JSON.parse(h):h;if(!u.ok){const p=d?f:void 0,v=p==null?void 0:p.error;throw new ei((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:p})}return{status:u.status,headers:u.headers,data:f}}}}function Xi(e){return e.join("")}var gC=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Xi(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xi(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xi(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xi(e.namespace)}`}),!0}catch(t){if(t instanceof ei&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ei&&r.status===409)return;throw r}}};function $s(e){return e.join("")}var bC=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$s(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$s(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$s(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$s(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$s(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$s(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ei&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ei&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},yC=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=xC({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new gC(this.client,t),this.tableOps=new bC(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Dc=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Mc(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Zi=class extends Dc{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},By=class extends Dc{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const vC=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),wC=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},oh=e=>{if(Array.isArray(e))return e.map(r=>oh(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=oh(n)}),t},jC=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ti(e){"@babel/helpers - typeof";return ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ti(e)}function kC(e,t){if(ti(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ti(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _C(e){var t=kC(e,"string");return ti(t)=="symbol"?t:t+""}function NC(e,t,r){return(t=_C(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bm(Object(r),!0).forEach(function(n){NC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const qm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},SC=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,o=s.status||500;if(typeof s.json=="function")s.json().then(i=>{const l=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||o+"";t(new Zi(qm(i),o,l,n))}).catch(()=>{if(n==="vectors"){const i=o+"";t(new Zi(s.statusText||`HTTP ${o} error`,o,i,n))}else{const i=o+"";t(new Zi(s.statusText||`HTTP ${o} error`,o,i,n))}});else{const i=o+"";t(new Zi(s.statusText||`HTTP ${o} error`,o,i,n))}}else t(new By(qm(e),e,n))},CC=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?oe(oe({},s),r):(wC(n)?(s.headers=oe({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),oe(oe({},s),r))};async function ua(e,t,r,n,s,o,i){return new Promise((l,c)=>{e(r,CC(t,n,s,o)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(i==="vectors"){const h=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!h||!h.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>SC(u,c,n,i))})}function qy(e="storage"){return{get:async(t,r,n,s)=>ua(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,o)=>ua(t,"POST",r,s,o,n,e),put:async(t,r,n,s,o)=>ua(t,"PUT",r,s,o,n,e),head:async(t,r,n,s)=>ua(t,"HEAD",r,oe(oe({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,o)=>ua(t,"DELETE",r,s,o,n,e)}}const EC=qy("storage"),{get:ri,post:ir,put:ah,head:TC,remove:Pf}=EC,Lt=qy("vectors");var Yo=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=vC(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=oe(oe({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Mc(r))return{data:null,error:r};throw r}}},PC=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Mc(t))return{data:null,error:t};throw t}}};let Wy;Wy=Symbol.toStringTag;var RC=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Wy]="BlobDownloadBuilder",this.promise=null}asStream(){return new PC(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Mc(t))return{data:null,error:t};throw t}}};const OC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var AC=class extends Yo{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let o;const i=oe(oe({},Wm),n);let l=oe(oe({},s.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",s.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),c&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(c))):(o=r,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),n!=null&&n.headers&&(l=oe(oe({},l),n.headers));const u=s._removeEmptyFolders(t),h=s._getFinalPath(u),d=await(e=="PUT"?ah:ir)(s.fetch,`${s.url}/object/${h}`,o,oe({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{path:u,id:d.Id,fullPath:d.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const o=s._removeEmptyFolders(e),i=s._getFinalPath(o),l=new URL(s.url+`/object/upload/sign/${i}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=oe({upsert:Wm.upsert},n),h=oe(oe({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType),{path:o,fullPath:(await ah(s.fetch,l.toString(),c,{headers:h})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=oe({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const o=await ir(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(r.url+o.url),l=i.searchParams.get("token");if(!l)throw new Dc("No token returned by API");return{signedUrl:i.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await ir(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await ir(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),o=await ir(n.fetch,`${n.url}/object/sign/${s}`,oe({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${o.signedURL}${i}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await ir(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(i=>oe(oe({},i),{},{signedUrl:i.signedURL?encodeURI(`${n.url}${i.signedURL}${o}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=s?`?${s}`:"",i=this._getFinalPath(e),l=()=>ri(this.fetch,`${this.url}/${n}/${i}${o}`,{headers:this.headers,noResolveJson:!0},r);return new RC(l,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>oh(await ri(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await TC(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Mc(n)&&n instanceof By){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});i!==""&&n.push(i);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Pf(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=oe(oe(oe({},OC),t),{},{prefix:e||""});return await ir(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=oe({},e);return await ir(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const IC="2.97.0",ki={"X-Client-Info":`storage-js/${IC}`};var LC=class extends Yo{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const o=s.href.replace(/\/$/,""),i=oe(oe({},ki),t);super(o,i,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await ri(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ri(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await ir(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await ah(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ir(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Pf(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},DC=class extends Yo{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=oe(oe({},ki),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ir(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await ri(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Pf(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!jC(e))throw new Dc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new yC({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,o){const i=s[o];return typeof i!="function"?i:async(...l)=>{try{return{data:await i.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},MC=class extends Yo{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=oe(oe({},ki),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Lt.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Lt.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Lt.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Lt.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},$C=class extends Yo{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=oe(oe({},ki),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Lt.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Lt.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Lt.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Lt.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Lt.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},FC=class extends Yo{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=oe(oe({},ki),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Lt.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Lt.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Lt.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Lt.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},UC=class extends FC{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new zC(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},zC=class extends MC{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,oe(oe({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,oe(oe({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new BC(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},BC=class extends $C{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,oe(oe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,oe(oe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,oe(oe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,oe(oe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,oe(oe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},qC=class extends LC{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new AC(this.url,this.headers,e,this.fetch)}get vectors(){return new UC(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new DC(this.url+"/iceberg",this.headers,this.fetch)}};const Vy="2.97.0",Hs=30*1e3,ih=3,Nu=ih*Hs,WC="http://localhost:9999",VC="supabase.auth.token",HC={"X-Client-Info":`gotrue-js/${Vy}`},lh="X-Supabase-Api-Version",Hy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},KC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,GC=10*60*1e3;class ni extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function re(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class QC extends ni{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function JC(e){return re(e)&&e.name==="AuthApiError"}class ns extends ni{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class en extends ni{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Ot extends en{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Su(e){return re(e)&&e.name==="AuthSessionMissingError"}class Fs extends en{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class el extends en{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class tl extends en{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function YC(e){return re(e)&&e.name==="AuthImplicitGrantRedirectError"}class Vm extends en{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class XC extends en{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ch extends en{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Cu(e){return re(e)&&e.name==="AuthRetryableFetchError"}class Hm extends en{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class uh extends en{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const rc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Km=` 	
\r=`.split(""),ZC=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Km.length;t+=1)e[Km[t].charCodeAt(0)]=-2;for(let t=0;t<rc.length;t+=1)e[rc[t].charCodeAt(0)]=t;return e})();function Gm(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(rc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(rc[n]),t.queuedBits-=6}}function Ky(e,t,r){const n=ZC[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Qm(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{rE(i,n,r)};for(let i=0;i<e.length;i+=1)Ky(e.charCodeAt(i),s,o);return t.join("")}function eE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function tE(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}eE(n,t)}}function rE(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function go(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Ky(e.charCodeAt(s),r,n);return new Uint8Array(t)}function nE(e){const t=[];return tE(e,r=>t.push(r)),new Uint8Array(t)}function is(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Gm(s,r,n)),Gm(null,r,n),t.join("")}function sE(e){return Math.round(Date.now()/1e3)+e}function oE(){return Symbol("auth-callback")}const et=()=>typeof window<"u"&&typeof document<"u",Yn={tested:!1,writable:!1},Gy=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yn.tested)return Yn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yn.tested=!0,Yn.writable=!0}catch{Yn.tested=!0,Yn.writable=!1}return Yn.writable};function aE(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Qy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),iE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ks=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Xn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ze=async(e,t)=>{await e.removeItem(t)};class $c{constructor(){this.promise=new $c.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}$c.promiseConstructor=Promise;function rl(e){const t=e.split(".");if(t.length!==3)throw new uh("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!KC.test(t[n]))throw new uh("JWT not in base64url format");return{header:JSON.parse(Qm(t[0])),payload:JSON.parse(Qm(t[1])),signature:go(t[2]),raw:{header:t[0],payload:t[1]}}}async function lE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function cE(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function uE(e){return("0"+e.toString(16)).substr(-2)}function dE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,uE).join("")}async function hE(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function fE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await hE(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Us(e,t,r=!1){const n=dE();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ks(e,`${t}-code-verifier`,s);const o=await fE(n);return[o,n===o?"plain":"s256"]}const pE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mE(e){const t=e.headers.get(lh);if(!t||!t.match(pE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function xE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function gE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const bE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zs(e){if(!bE.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Eu(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yE(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Jm(e){return JSON.parse(JSON.stringify(e))}const ts=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vE=[502,503,504];async function Ym(e){var t;if(!iE(e))throw new ch(ts(e),0);if(vE.includes(e.status))throw new ch(ts(e),e.status);let r;try{r=await e.json()}catch(o){throw new ns(ts(o),o)}let n;const s=mE(e);if(s&&s.getTime()>=Hy["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Hm(ts(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ot}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Hm(ts(r),e.status,r.weak_password.reasons);throw new QC(ts(r),e.status||500,n)}const wE=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ae(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[lh]||(o[lh]=Hy["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await jE(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function jE(e,t,r,n,s,o){const i=wE(t,n,s,o);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new ch(ts(c),0)}if(l.ok||await Ym(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Ym(c)}}function or(e){var t;let r=null;NE(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=sE(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Xm(e){const t=or(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function pn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function kE(e){return{data:e,error:null}}function _E(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=Lc(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function Zm(e){return e}function NE(e){return e.access_token&&e.refresh_token&&e.expires_in}const Tu=["global","local","others"];class SE{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Qy(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Tu[0]){if(Tu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tu.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:pn})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Lc(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:_E,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:pn})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Zm});if(h.error)throw h.error;const d=await h.json(),f=(i=h.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(re(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){zs(t);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:pn})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){zs(t);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:pn})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){zs(t);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:pn})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){zs(t.userId);try{const{data:r,error:n}=await ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _deleteFactor(t){zs(t.userId),zs(t.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Zm});if(h.error)throw h.error;const d=await h.json(),f=(i=h.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(re(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ae(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(re(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}}function ex(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Bs={debug:!!(globalThis&&Gy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class tx extends Jy{}async function CE(e,t,r){Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;t>0&&setTimeout(()=>{n.abort(),Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new tx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Bs.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(s){throw(s==null?void 0:s.name)==="AbortError"?new tx(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):s}}function EE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Yy(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function TE(e){return parseInt(e,16)}function PE(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function RE(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:h,uri:d,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=Yy(e.address),v=h?`${h}://${n}`:n,y=e.statement?`${e.statement}
`:"",w=`${v} wants you to sign in with your Ethereum account:
${p}

${y}`;let x=`URI: ${d}
Version: ${f}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(x+=`
Expiration Time: ${s.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const b of u){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);g+=`
- ${b}`}x+=g}return`${w}
${x}`}class Ue extends Error{constructor({message:t,code:r,cause:n,name:s}){var o;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class nc extends Ue{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function OE({error:e,options:t}){var r,n,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ue({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ue({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ue({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ue({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ue({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ue({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ue({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ue({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(Xy(i)){if(o.rp.id!==i)return new Ue({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ue({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ue({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function AE({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ue({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ue({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Xy(n)){if(r.rpId!==n)return new Ue({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ue({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ue({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ue({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class IE{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const LE=new IE;function DE(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Lc(e,["challenge","user","excludeCredentials"]),o=go(t).buffer,i=Object.assign(Object.assign({},r),{id:go(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:o,user:i});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:go(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function ME(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Lc(e,["challenge","allowCredentials"]),s=go(t).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const l=r[i];o.allowCredentials[i]=Object.assign(Object.assign({},l),{id:go(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return o}function $E(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:is(new Uint8Array(e.response.attestationObject)),clientDataJSON:is(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function FE(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:is(new Uint8Array(s.authenticatorData)),clientDataJSON:is(new Uint8Array(s.clientDataJSON)),signature:is(new Uint8Array(s.signature)),userHandle:s.userHandle?is(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Xy(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function rx(){var e,t;return!!(et()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function UE(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new nc("Browser returned unexpected credential type",t)}:{data:null,error:new nc("Empty credential response",t)}}catch(t){return{data:null,error:OE({error:t,options:e})}}}async function zE(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new nc("Browser returned unexpected credential type",t)}:{data:null,error:new nc("Empty credential response",t)}}catch(t){return{data:null,error:AE({error:t,options:e})}}}const BE={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},qE={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function sc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))n[o]=i;else if(r(i))n[o]=i;else if(t(i)){const l=n[o];t(l)?n[o]=sc(l,i):n[o]=sc(i)}else n[o]=i}return n}function WE(e,t){return sc(BE,e,t||{})}function VE(e,t){return sc(qE,e,t||{})}class HE{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},o){var i;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=s??LE.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;if(!h.name){const d=n;if(d)h.name=`${h.id}:${d}`;else{const p=(await this.client.getUser()).data.user,v=((i=p==null?void 0:p.user_metadata)===null||i===void 0?void 0:i.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";h.name=`${h.id}:${v}`}}h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=WE(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:f}=await UE({publicKey:h,signal:u});return d?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const h=VE(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:f}=await zE(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:u}));return d?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(l){return re(l)?{data:null,error:l}:{data:null,error:new ns("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new ni("rpId is required for WebAuthn authentication")};try{if(!rx())return{data:null,error:new ns("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(i){return re(i)?{data:null,error:i}:{data:null,error:new ns("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new ni("rpId is required for WebAuthn registration")};try{if(!rx())return{data:null,error:new ns("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(h=>{var d;return(d=h.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return re(i)?{data:null,error:i}:{data:null,error:new ns("Unexpected error in register",i)}}}}EE();const KE={url:WC,storageKey:VC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:HC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function nx(e,t,r){return await r()}const qs={};class si{get jwks(){var t,r;return(r=(t=qs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){qs[this.storageKey]=Object.assign(Object.assign({},qs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=qs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){qs[this.storageKey]=Object.assign(Object.assign({},qs[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},KE),t);if(this.storageKey=o.storageKey,this.instanceID=(r=si.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,si.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&et()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new SE({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Qy(o.fetch),this.lock=o.lock||nx,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&et()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=CE:this.lock=nx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new HE(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Gy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ex(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=ex(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i);try{await this._notifyAllSubscribers(i.data.event,i.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}o.skipAutoInitialize||this.initialize().catch(i=>{this._debug("#initialize()","error",i)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Vy}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(et()&&(r=aE(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),et()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),YC(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return re(r)?this._returnResult({error:r}):this._returnResult({error:new ns("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:or}),{data:i,error:l}=o;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(re(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:h,password:d,options:f}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Us(this.storage,this.storageKey)),o=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:h,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},xform:or})}else if("phone"in t){const{phone:h,password:d,options:f}=t;o=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:or})}else throw new el("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return await Ze(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(await Ze(this.storage,`${this.storageKey}-code-verifier`),re(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:l}=t;r=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xm})}else if("phone"in t){const{phone:o,password:i,options:l}=t;r=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xm})}else throw new el("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const o=new Fs;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,o,i,l,c,u,h,d,f;let p,v;if("message"in t)p=t.message,v=t.signature;else{const{chain:y,wallet:w,statement:x,options:g}=t;let b;if(et())if(typeof w=="object")b=w;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")b=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=w}const j=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),N=await b.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=Yy(N[0]);let k=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const A=await b.request({method:"eth_chainId"});k=TE(A)}const E={domain:j.host,address:_,statement:x,uri:j.href,version:"1",chainId:k,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=g==null?void 0:g.signInWithEthereum)===null||h===void 0?void 0:h.resources};p=RE(E),v=await b.request({method:"personal_sign",params:[PE(p),_]})}try{const{data:y,error:w}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:or});if(w)throw w;if(!y||!y.session||!y.user){const x=new Fs;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(re(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,s,o,i,l,c,u,h,d,f,p;let v,y;if("message"in t)v=t.message,y=t.signature;else{const{chain:w,wallet:x,statement:g,options:b}=t;let j;if(et())if(typeof x=="object")j=x;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))j=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const N=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const _=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),g?{statement:g}:null));let k;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")k=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)k=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),y=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((d=(h=b==null?void 0:b.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||d===void 0)&&d.length?["Resources",...b.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const _=await j.signMessage(new TextEncoder().encode(v),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=_}}try{const{data:w,error:x}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:is(y)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:or});if(x)throw x;if(!w||!w.session||!w.user){const g=new Fs;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:x})}catch(w){if(re(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await Xn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new XC;const{data:o,error:i}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:or});if(await Ze(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const l=new Fs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(await Ze(this.storage,`${this.storageKey}-code-verifier`),re(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,l=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:or}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const h=new Fs;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Us(this.storage,this.storageKey));const{error:d}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:h}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new el("You must provide either an email or phone number.")}catch(l){if(await Ze(this.storage,`${this.storageKey}-code-verifier`),re(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:or});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,o,i;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Us(this.storage,this.storageKey));const u=await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:kE});return!((o=u.data)===null||o===void 0)&&o.url&&et()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Ze(this.storage,`${this.storageKey}-code-verifier`),re(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ot;const{error:s}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(re(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await ae(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:l}=await ae(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l})}throw new el("You must provide either an email or phone number and a type")}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Xn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Nu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await Xn(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Eu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=yE(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:pn}):await this._useSession(async r=>{var n,s,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ot}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:pn})})}catch(r){if(re(r))return Su(r)&&(await this._removeSession(),await Ze(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Ot;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Us(this.storage,this.storageKey));const{data:u,error:h}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:pn});if(h)throw h;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(await Ze(this.storage,`${this.storageKey}-code-verifier`),re(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ot;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=rl(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(re(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ot;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!et())throw new tl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new tl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Vm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Vm("No code detected.");const{data:g,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new tl("No session defined in URL");const h=Math.round(Date.now()/1e3),d=parseInt(l);let f=h+d;c&&(f=parseInt(c));const p=f-h;p*1e3<=Hs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const v=f-d;h-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,h):h-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,h);const{data:y,error:w}=await this._getUser(o);if(w)throw w;const x={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:d,expires_at:f,refresh_token:i,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(n){if(re(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Xn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o&&!Su(o))return this._returnResult({error:o});const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(JC(l)&&(l.status===404||l.status===401||l.status===403)||Su(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Ze(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=oE(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Us(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await Ze(this.storage,`${this.storageKey}-code-verifier`),re(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,l,c,u,h;const{data:d,error:f}=o;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",p,{headers:this.headers,jwt:(h=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return et()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(re(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:i,provider:l,token:c,access_token:u,nonce:h}=t,d=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:or}),{data:f,error:p}=d;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Fs}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(s){if(await Ze(this.storage,`${this.storageKey}-code-verifier`),re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await cE(async s=>(s>0&&await lE(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:or})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Cu(o)&&Date.now()+i-n<Hs})}catch(n){if(this._debug(r,"error",n),re(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),et()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Xn(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Xn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await Ks(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Eu()}else if(s&&!s.user&&!s.user){const i=await Xn(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await Ze(this.storage,this.storageKey+"-user"),await Ks(this.storage,this.storageKey,s)):s.user=Eu()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Nu;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Nu}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Cu(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new $c;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Ot;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={data:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),re(o)){const i={data:null,error:o};return Cu(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ze(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ks(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Jm(s);await Ks(this.storage,this.storageKey,o)}else{const s=Jm(r);await Ks(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ze(this.storage,this.storageKey),await Ze(this.storage,this.storageKey+"-code-verifier"),await Ze(this.storage,this.storageKey+"-user"),this.userStorage&&await Ze(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Hs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Hs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Hs}ms, refresh threshold is ${ih} ticks`),s<=ih&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Jy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await Us(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?$E(t.webauthn.credential_response):FE(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const i=await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:DE(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:ME(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,o;if(t)try{const{payload:p}=rl(t);let v=null;p.aal&&(v=p.aal);let y=v;const{data:{user:w},error:x}=await this.getUser(t);if(x)return this._returnResult({data:null,error:x});((n=(r=w==null?void 0:w.factors)===null||r===void 0?void 0:r.filter(j=>j.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(y="aal2");const b=p.amr||[];return{data:{currentLevel:v,nextLevel:y,currentAuthenticationMethods:b},error:null}}catch(p){if(re(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:i},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=rl(i.access_token);let u=null;c.aal&&(u=c.aal);let h=u;((o=(s=i.user.factors)===null||s===void 0?void 0:s.filter(p=>p.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(h="aal2");const f=c.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await ae(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ot})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Ot});const i=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&et()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Ot});const i=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&et()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ae(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ot})})}catch(t){if(re(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await ae(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ot})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+GC>s)return n;const{data:o,error:i}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});n=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=rl(n);r!=null&&r.allowExpired||xE(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const h=gE(s.alg),d=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,i,nE(`${l}.${c}`)))throw new uh("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}}si.nextInstanceID={};const GE=si,QE="2.97.0";let xa="";typeof Deno<"u"?xa="deno":typeof document<"u"?xa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xa="react-native":xa="node";const JE={"X-Client-Info":`supabase-js-${xa}/${QE}`},YE={headers:JE},XE={schema:"public"},ZE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e5={};function oi(e){"@babel/helpers - typeof";return oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oi(e)}function t5(e,t){if(oi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(oi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r5(e){var t=t5(e,"string");return oi(t)=="symbol"?t:t+""}function n5(e,t,r){return(t=r5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sx(Object(r),!0).forEach(function(n){n5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const s5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),o5=()=>Headers,a5=(e,t,r)=>{const n=s5(r),s=o5();return async(o,i)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Me(Me({},i),{},{headers:u}))}};function i5(e){return e.endsWith("/")?e:e+"/"}function l5(e,t){var r,n;const{db:s,auth:o,realtime:i,global:l}=e,{db:c,auth:u,realtime:h,global:d}=t,f={db:Me(Me({},c),s),auth:Me(Me({},u),o),realtime:Me(Me({},h),i),storage:{},global:Me(Me(Me({},d),l),{},{headers:Me(Me({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function c5(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(i5(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var u5=class extends GE{constructor(e){super(e)}},d5=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const o=c5(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const i=`sb-${o.hostname.split(".")[0]}-auth-token`,l={db:XE,realtime:e5,auth:Me(Me({},ZE),{},{storageKey:i}),global:YE},c=l5(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=a5(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Me({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new JS(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new qC(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new BS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:o,flowType:i,lock:l,debug:c,throwOnError:u},h,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u5({url:this.authUrl.href,headers:Me(Me({},f),h),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:i,lock:l,debug:c,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new fC(this.realtimeUrl.href,Me(Me({},e),{},{params:Me(Me({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const h5=(e,t,r)=>new d5(e,t,r);function f5(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}f5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const p5="https://xblombwqslecowkngiac.supabase.co",m5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhibG9tYndxc2xlY293a25naWFjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE4MDU5NjUsImV4cCI6MjA4NzM4MTk2NX0.4z8y4oYdiyRhsJtoG2EJ2F0QZR5VW5fKg-CUvtJyfeI",ee=h5(p5,m5,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Zy=m.createContext({session:null,user:null,loading:!0,isTestMode:!1,testRole:"worker",setTestMode:()=>{},setTestRole:()=>{},signOut:async()=>{}}),Xe=()=>m.useContext(Zy);function x5({children:e}){const[t,r]=m.useState(null),[n,s]=m.useState(!0),[o,i]=m.useState(()=>localStorage.getItem("inopnc_test_mode")==="true"),[l,c]=m.useState(()=>localStorage.getItem("inopnc_test_role")||"worker");m.useEffect(()=>{const{data:{subscription:h}}=ee.auth.onAuthStateChange((d,f)=>{r(f),s(!1)});return ee.auth.getSession().then(({data:{session:d}})=>{r(d),s(!1)}),()=>h.unsubscribe()},[]),m.useEffect(()=>{localStorage.setItem("inopnc_test_mode",o?"true":"false")},[o]),m.useEffect(()=>{localStorage.setItem("inopnc_test_role",l)},[l]);const u=async()=>{i(!1),await ee.auth.signOut()};return a.jsx(Zy.Provider,{value:{session:t,user:(t==null?void 0:t.user)??null,loading:n,isTestMode:o,testRole:l,setTestMode:i,setTestRole:c,signOut:u},children:e})}function ox({children:e}){const{session:t,loading:r,isTestMode:n}=Xe();return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:a.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):!t&&!n?a.jsx(OS,{to:"/auth",replace:!0}):a.jsx(a.Fragment,{children:e})}const ax=[{key:"home",label:"",path:"/"},{key:"output",label:"",path:"/output"},{key:"worklog",label:"",path:"/worklog"},{key:"site",label:"",path:"/site"},{key:"doc",label:"",path:"/doc"},{key:"request",label:"",path:"/request"}];function g5({onSearch:e,onCert:t,onNotify:r,onMenu:n,notificationCount:s=2}){var u;const o=ji(),i=Qn(),l=((u=ax.find(h=>h.path==="/"?o.pathname==="/":o.pathname.startsWith(h.path)))==null?void 0:u.key)||"home",c=[{key:"search",label:"",icon:Rt,badge:0,onClick:e},{key:"cert",label:"",icon:Fo,badge:0,onClick:t},{key:"notify",label:"",icon:bb,badge:s,onClick:r},{key:"menu",label:"",icon:kb,badge:0,onClick:n}];return a.jsxs("header",{className:"fixed top-0 left-1/2 -translate-x-1/2 w-full max-w-app bg-card border-b border-border z-[100]",children:[a.jsxs("div",{className:"h-[60px] px-4 flex items-center justify-between",children:[a.jsx("button",{onClick:()=>i("/"),className:"text-xl-app font-[800] text-header-navy tracking-[-0.5px] bg-transparent border-none cursor-pointer p-0",children:"INOPNC"}),a.jsx("div",{className:"flex items-center gap-0.5",children:c.map(({key:h,icon:d,badge:f,onClick:p})=>a.jsxs("button",{onClick:p,className:"relative w-[42px] h-[42px] min-w-[42px] inline-flex items-center justify-center bg-transparent border-none text-header-navy rounded-[10px] cursor-pointer active:opacity-60",children:[a.jsx(d,{className:"w-[21px] h-[21px]",strokeWidth:2.1}),f>0&&a.jsx("span",{className:"absolute top-0 -right-0.5 min-w-[18px] h-[18px] rounded-full px-[5px] inline-flex items-center justify-center text-[11px] font-[800] text-white bg-destructive border-2 border-card",children:f})]},h))})]}),a.jsx("nav",{className:"h-[54px] border-t border-border/50 flex items-center gap-0 overflow-hidden px-1.5",children:ax.map((h,d)=>a.jsxs("div",{className:"contents",children:[d===5&&a.jsx("div",{className:"w-px h-[18px] bg-muted-foreground/30 mx-0.5 flex-shrink-0"}),a.jsxs("button",{onClick:()=>i(h.path),className:F("relative flex-1 min-w-0 h-full inline-flex items-center justify-center px-1 bg-transparent border-none text-[16px] font-bold tracking-[-0.2px] whitespace-nowrap cursor-pointer transition-colors duration-150",l===h.key?"text-header-navy":"text-muted-foreground hover:text-foreground/70",h.key==="request"&&"flex-[1.2]"),children:[h.label,l===h.key&&a.jsx("span",{className:"absolute left-1 right-1 bottom-0 h-[3px] rounded-full bg-header-navy"})]})]},h.key))})]})}const ix=8,b5=[{id:"page_home",title:"",desc:"   ",category:"",link:"/",keywords:["","",""]},{id:"page_worklog",title:"",desc:"   ",category:"",link:"/worklog",keywords:["","","",""]},{id:"page_site",title:"",desc:"   ",category:"",link:"/site",keywords:["","","",""]},{id:"page_doc",title:"",desc:"   ",category:"",link:"/doc",keywords:["","","",""]},{id:"page_output",title:"",desc:"   ",category:"",link:"/output",keywords:["","","",""]},{id:"page_request",title:"",desc:"   ",category:"",link:"/request",keywords:["","",""]},{id:"action_cert",title:"",desc:"  ",category:"",action:"cert",keywords:["","","",""]}],y5=[{id:"worklog",label:"",to:"/worklog",icon:Tt},{id:"site",label:"",to:"/site",icon:Ye},{id:"doc",label:"",to:"/doc",icon:wb},{id:"output",label:"",to:"/output",icon:Jt},{id:"cert",label:"",icon:Fo,action:"cert"},{id:"request",label:"",to:"/request",icon:yb}];function v5({isOpen:e,onClose:t,onOpenCert:r}){const[n,s]=m.useState(""),[o,i]=m.useState([]),[l,c]=m.useState([]),[u,h]=m.useState(!1),[d,f]=m.useState(5),p=m.useRef(null),v=Qn();m.useEffect(()=>{if(e){setTimeout(()=>{var k;return(k=p.current)==null?void 0:k.focus()},250);try{const k=JSON.parse(localStorage.getItem("INOPNC_RECENT_SEARCHES_v1")||"[]");c(k)}catch{c([])}}else s(""),h(!1),f(5)},[e]);const y=m.useCallback(k=>{const E=k.trim();if(s(k),E.length<2){h(!1),i([]);return}h(!0);const A=E.toLowerCase().replace(/\s+/g,""),S=b5.filter(z=>[z.title,z.desc,z.category,...z.keywords??[]].join(" ").toLowerCase().replace(/\s+/g,"").includes(A));i(S)},[]),w=m.useCallback(k=>{const E=k.trim();if(E.length<2)return;const A=S=>[E,...S.filter(z=>z!==E)].slice(0,ix);try{const S=JSON.parse(localStorage.getItem("INOPNC_RECENT_SEARCHES_v1")||"[]"),z=A(S);localStorage.setItem("INOPNC_RECENT_SEARCHES_v1",JSON.stringify(z)),c(z)}catch{c(S=>A(S))}},[]),x=m.useCallback(k=>{const E=A=>A.filter(S=>S!==k);try{const A=JSON.parse(localStorage.getItem("INOPNC_RECENT_SEARCHES_v1")||"[]"),S=E(A);localStorage.setItem("INOPNC_RECENT_SEARCHES_v1",JSON.stringify(S)),c(S)}catch{c(A=>E(A))}},[]),g=m.useCallback(()=>{try{localStorage.removeItem("INOPNC_RECENT_SEARCHES_v1")}catch{}c([])},[]),b=()=>{const k=n.trim();k.length<2||(f(5),w(k),y(k))},j=k=>{f(5),s(k),y(k),w(k)},N=m.useCallback(k=>{if(!k)return;const E=n.trim();E.length>=2&&w(E),t(),v(k)},[v,t,n,w]),_=m.useCallback(k=>{const E=n.trim();if(E.length>=2&&w(E),k.action==="cert"){if(r){r(),t();return}N("/doc");return}N(k.to)},[N,t,r,n,w]);return a.jsxs("div",{className:`fixed inset-0 left-0 right-0 mx-auto max-w-app bg-background z-[2000] flex flex-col transition-transform duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] ${e?"translate-y-0 visible":"translate-y-full invisible"}`,children:[a.jsxs("div",{className:"flex items-center gap-2.5 h-[70px] px-4 bg-card border-b border-border shrink-0",children:[a.jsx("button",{onClick:t,className:"bg-transparent border-none p-1",children:a.jsx(Ns,{className:"w-6 h-6 text-foreground"})}),a.jsxs("div",{className:"flex-1 relative flex items-center",children:[a.jsx("input",{ref:p,type:"text",value:n,onChange:k=>y(k.target.value),onKeyDown:k=>k.key==="Enter"&&b(),placeholder:" .",className:"w-full h-[50px] rounded-full bg-[hsl(var(--bg-input))] border border-border px-5 pr-[76px] text-base-app font-medium text-foreground outline-none transition-all focus:bg-card focus:border-primary focus:shadow-input-focus"}),a.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1",children:n&&a.jsx("button",{onClick:()=>{var k;s(""),y(""),(k=p.current)==null||k.focus()},className:"w-6 h-6 rounded-full bg-muted-foreground/40 text-card flex items-center justify-center border-none cursor-pointer transition-transform hover:scale-110",children:a.jsx(_e,{className:"w-3.5 h-3.5"})})})]}),a.jsx("button",{onClick:b,className:"bg-transparent border-none text-primary font-bold text-base-app cursor-pointer whitespace-nowrap pl-3",children:""})]}),a.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:u?a.jsxs("div",{children:[a.jsxs("span",{className:"text-base-app font-bold text-text-sub block mb-3",children:["  ",o.length,""]}),o.length===0?a.jsxs("div",{className:"text-center py-20 text-muted-foreground flex flex-col items-center",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-[hsl(var(--bg-input))] flex items-center justify-center mb-5",children:a.jsx(Rt,{className:"w-8 h-8 opacity-60"})}),a.jsx("p",{className:"text-base font-medium mb-2",children:"  "})]}):a.jsxs(a.Fragment,{children:[o.slice(0,d).map((k,E)=>a.jsx("div",{className:"bg-card rounded-2xl p-5 mb-3.5 shadow-soft cursor-pointer transition-transform active:scale-[0.98]",onClick:()=>{if(k.action==="cert"){if(r){r(),t();return}N("/doc");return}if(k.link){N(k.link);return}t()},children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-[calc(var(--fs-lg)+1px)] font-[800] text-foreground leading-tight mb-0.5",children:k.title}),a.jsx("div",{className:"text-[calc(var(--fs-sm)+1px)] text-text-sub font-medium",children:k.desc})]}),a.jsx("span",{className:"bg-primary-bg text-primary text-tiny font-bold px-2.5 py-1 rounded-md whitespace-nowrap",children:k.category})]})},k.id)),o.length>5&&a.jsxs("button",{onClick:()=>f(k=>k>=o.length?5:k+5),className:"w-full h-[50px] bg-card border border-border rounded-full text-text-sub font-semibold text-sm-app cursor-pointer flex items-center justify-center gap-1.5 mt-2.5 transition-colors active:bg-background",children:[d>=o.length?"?":"??",d>=o.length?a.jsx(gi,{className:"w-4 h-4"}):a.jsx(nt,{className:"w-4 h-4"})]})]})]}):a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-base-app font-bold text-text-sub",children:" "}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",l.length,"/",ix,")"]})]}),l.length>0&&a.jsx("button",{onClick:g,className:"text-xs font-semibold text-muted-foreground hover:text-foreground",children:" "})]}),a.jsx("div",{className:"flex gap-2 flex-wrap mb-6",children:l.length===0?a.jsx("div",{className:"text-sm-app text-muted-foreground",children:"  ."}):l.map(k=>a.jsxs("div",{className:"inline-flex items-center gap-1 rounded-full bg-card/70 border border-border px-2.5 py-1.5",children:[a.jsx("button",{onClick:()=>j(k),className:"text-sm-app text-foreground font-semibold",children:k}),a.jsx("button",{onClick:()=>x(k),className:"ml-0.5 inline-flex h-5 w-5 items-center justify-center rounded-full bg-muted text-muted-foreground hover:text-foreground","aria-label":"  ",children:a.jsx(_e,{className:"w-3 h-3"})})]},k))}),a.jsx("span",{className:"text-base-app font-bold text-text-sub block mb-3",children:""}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2.5",children:y5.map(k=>{const E=k.icon;return a.jsxs("button",{type:"button",onClick:()=>_(k),className:"group h-[50px] w-full rounded-xl border border-border bg-[hsl(var(--bg-input))] px-3 flex items-center gap-2 text-sm-app font-semibold text-foreground transition-colors hover:border-primary/40 hover:bg-primary/5 active:scale-[0.98]",children:[a.jsx("span",{className:"flex h-7 w-7 items-center justify-center rounded-lg bg-card border border-border text-muted-foreground group-hover:text-primary group-hover:border-primary/30",children:a.jsx(E,{className:"h-4 w-4"})}),a.jsx("span",{className:"text-[15px] font-semibold text-foreground",children:k.label})]},k.id)})})]})})]})}const dh="hideNotifications",w5=280,ev=()=>new Date().toDateString(),j5=()=>{if(typeof window>"u")return!1;try{return window.localStorage.getItem(dh)===ev()}catch{return!1}},k5=e=>{if(!(typeof window>"u"))try{e?window.localStorage.setItem(dh,ev()):window.localStorage.removeItem(dh)}catch{}},_5=[{id:1,type:"announcement",title:"  ",desc:"A     .",time:" ",unread:!0},{id:2,type:"document",title:"  ",desc:"     .",time:"10 ",unread:!0},{id:3,type:"success",title:" ",desc:"    .",time:"1 ",unread:!1}],N5={announcement:"",safety:"",schedule:"",document:"",success:"",warning:"",general:""},S5={announcement:e2,safety:i2,schedule:Wj,document:Jt,success:vb,warning:Vj,general:Tt},C5={announcement:"bg-blue-50 text-blue-700 border-blue-200",safety:"bg-red-50 text-red-700 border-red-200",schedule:"bg-indigo-50 text-indigo-700 border-indigo-200",document:"bg-sky-50 text-sky-700 border-sky-200",success:"bg-emerald-50 text-emerald-700 border-emerald-200",warning:"bg-amber-50 text-amber-700 border-amber-200",general:"bg-slate-50 text-slate-700 border-slate-200"},E5={announcement:"bg-blue-100 text-blue-700",safety:"bg-red-100 text-red-700",schedule:"bg-indigo-100 text-indigo-700",document:"bg-sky-100 text-sky-700",success:"bg-emerald-100 text-emerald-700",warning:"bg-amber-100 text-amber-700",general:"bg-slate-100 text-slate-700"};function T5({isOpen:e,onClose:t,onBadgeUpdate:r}){const[n,s]=m.useState(_5),[o,i]=m.useState(!1),[l,c]=m.useState(null),[u,h]=m.useState(e),[d,f]=m.useState(!1),p=m.useMemo(()=>n.filter(b=>b.unread).length,[n]);m.useEffect(()=>{r==null||r(p)},[r,p]),m.useEffect(()=>{e&&i(j5())},[e]),m.useEffect(()=>{if(e){h(!0);const j=window.requestAnimationFrame(()=>f(!0));return()=>window.cancelAnimationFrame(j)}f(!1);const b=window.setTimeout(()=>h(!1),w5);return()=>window.clearTimeout(b)},[e]),m.useEffect(()=>{if(!u||typeof document>"u")return;const b=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=b}},[u]);const v=l?n.find(b=>b.id===l):null,y=b=>{s(j=>j.map(N=>N.id===b?{...N,unread:!1}:N))},w=()=>{s(b=>b.map(j=>({...j,unread:!1})))},x=()=>{k5(o),c(null),t()},g=b=>{c(b),y(b)};return u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`fixed inset-0 z-[1500] bg-black/35 transition-opacity duration-200 ${d?"opacity-100":"pointer-events-none opacity-0"}`,onClick:x}),a.jsxs("section",{className:`fixed bottom-0 left-1/2 z-[2500] flex h-[70dvh] w-full max-w-app -translate-x-1/2 flex-col overflow-hidden rounded-t-2xl border border-b-0 border-border bg-card shadow-2xl transition-transform duration-300 ease-[cubic-bezier(0.22,1,0.36,1)] will-change-transform ${d?"translate-y-0":"translate-y-full"}`,children:[a.jsxs("header",{className:"flex h-[60px] items-center justify-between border-b border-border px-5",children:[a.jsx("span",{className:"absolute left-1/2 top-2 h-1 w-12 -translate-x-1/2 rounded-full bg-border"}),a.jsx("h3",{className:"text-lg font-bold text-foreground",children:""}),a.jsx("button",{onClick:x,className:"rounded-full border border-border px-3 py-1 text-xs font-bold text-muted-foreground transition hover:bg-accent hover:text-foreground",children:""})]}),a.jsxs("div",{className:"overflow-y-auto overscroll-contain px-4 py-3 pb-[calc(16px+env(safe-area-inset-bottom,0px))]",children:[n.length>0?a.jsx("div",{className:"space-y-3",children:n.map(b=>{const j=S5[b.type]??bb;return a.jsxs("button",{onClick:()=>g(b.id),className:`flex w-full items-start gap-3 rounded-xl border p-3 text-left transition hover:-translate-y-0.5 hover:shadow-sm ${b.unread?"border-primary/30 bg-primary-bg/50":"border-border bg-muted/20"}`,children:[a.jsx("span",{className:`mt-0.5 inline-flex h-11 w-11 shrink-0 items-center justify-center rounded-xl border ${C5[b.type]}`,children:a.jsx(j,{className:"h-5 w-5"})}),a.jsxs("span",{className:"min-w-0 flex-1",children:[a.jsxs("span",{className:"mb-1 flex items-center gap-2",children:[a.jsx("span",{className:`inline-flex rounded-full px-2 py-0.5 text-[11px] font-bold ${E5[b.type]}`,children:N5[b.type]}),a.jsx("span",{className:"truncate text-sm font-bold text-foreground",children:b.title})]}),a.jsx("span",{className:"line-clamp-2 block text-sm text-muted-foreground",children:b.desc}),a.jsx("span",{className:"mt-1 block text-[11px] text-muted-foreground/80",children:b.time})]})]},b.id)})}):a.jsx("div",{className:"py-10 text-center text-sm text-muted-foreground",children:"  ."}),v&&a.jsxs("article",{className:"mt-4 rounded-xl border border-primary/20 bg-primary/5 p-4",children:[a.jsx("div",{className:"mb-1 text-xs font-bold text-primary",children:" "}),a.jsx("div",{className:"text-base font-bold text-foreground",children:v.title}),a.jsx("p",{className:"mt-2 text-sm leading-relaxed text-muted-foreground",children:v.desc})]}),p>0&&a.jsx("button",{onClick:w,className:"mt-4 w-full rounded-xl bg-header-navy py-2.5 text-sm font-bold text-header-navy-foreground transition hover:opacity-90",children:"  "}),a.jsxs("label",{className:"mt-4 flex cursor-pointer items-center gap-2 text-sm text-foreground",children:[a.jsx("input",{type:"checkbox",checked:o,onChange:b=>i(b.target.checked),className:"h-4 w-4 rounded border-border"}),"   "]})]})]})]}):null}function P5({isOpen:e,onClose:t,onOpenAccount:r}){const n=Qn(),s=o=>{t(),n(o)};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`fixed inset-0 bg-foreground/40 z-[1500] transition-opacity duration-300 ${e?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:t}),a.jsxs("div",{className:`fixed top-0 bottom-0 left-0 w-[85%] max-w-[320px] bg-card z-[2500] flex flex-col transition-transform duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] ${e?"translate-x-0 visible":"-translate-x-full invisible"}`,style:{left:"max(0px, calc(50% - 300px))"},children:[a.jsxs("div",{className:"px-6 pt-[34px] pb-6 border-b border-border",children:[a.jsxs("div",{className:"flex justify-between mb-2.5",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xl-app font-[800] text-foreground",children:""}),a.jsx("span",{className:"text-tiny font-bold text-primary bg-primary-bg px-2 py-1 rounded",children:""})]}),a.jsx("button",{onClick:t,className:"border border-border bg-transparent rounded-lg px-3.5 py-1.5 text-sm-app text-text-sub cursor-pointer",children:""})]}),a.jsx("div",{className:"text-sm-app text-text-sub",children:"manager@inopnc.com"})]}),a.jsxs("ul",{className:"list-none p-6 m-0 flex-1 overflow-y-auto",children:[[{label:"",path:"/"},{label:"",path:"/output"},{label:"",path:"/worklog"},{label:"",path:"/site"},{label:"",path:"/doc"}].map(o=>a.jsx("li",{className:"mb-6",children:a.jsx("button",{onClick:()=>s(o.path),className:"text-lg-app font-bold text-foreground cursor-pointer bg-transparent border-none p-0",children:o.label})},o.label)),a.jsxs("li",{className:"mb-6 flex justify-between items-center",children:[a.jsx("span",{className:"text-lg-app font-bold text-foreground",children:""}),a.jsx("button",{onClick:()=>{t(),r()},className:"text-sm-app font-bold text-primary bg-card border border-primary px-3.5 py-2 rounded-lg cursor-pointer",children:""})]})]}),a.jsx("div",{className:"px-6 py-6 border-t border-border",children:a.jsx("button",{onClick:()=>{t(),n("/auth")},className:"w-full h-14 bg-header-navy text-white border-none rounded-xl text-base-app font-bold cursor-pointer",children:""})})]})]})}function R5({isOpen:e,onClose:t}){const[r,n]=m.useState(""),[s,o]=m.useState("010-1234-5678"),[i,l]=m.useState(!0),[c,u]=m.useState(!1),h=()=>{le.success("  ."),t()};return a.jsxs("div",{className:`fixed inset-0 left-0 right-0 mx-auto max-w-app bg-background z-[2000] flex flex-col transition-transform duration-300 ease-[cubic-bezier(0.33,1,0.68,1)] ${e?"translate-y-0 visible":"translate-y-full invisible"}`,children:[a.jsxs("div",{className:"h-[60px] px-4 flex items-center justify-between bg-card border-b border-border shrink-0",children:[a.jsx("button",{onClick:t,className:"bg-transparent border-none p-1",children:a.jsx(Ns,{className:"w-6 h-6 text-foreground"})}),a.jsx("span",{className:"text-lg-app font-bold text-foreground",children:" "}),a.jsx("button",{onClick:h,className:"text-base-app font-bold text-primary bg-transparent border-none cursor-pointer",children:""})]}),a.jsxs("div",{className:"flex-1 px-5 py-6 overflow-y-auto",children:[a.jsx("div",{className:"flex flex-col items-center mb-8",children:a.jsxs("div",{className:"w-[100px] h-[100px] rounded-full bg-border relative flex items-center justify-center text-[36px] font-bold text-muted-foreground border-4 border-card shadow-lg",children:[a.jsx("span",{children:""}),a.jsx("button",{className:"absolute bottom-0 right-0 w-[34px] h-[34px] rounded-full bg-header-navy text-white border-[3px] border-card flex items-center justify-center cursor-pointer z-10 shadow-md",children:a.jsx(Pr,{className:"w-4 h-4"})})]})}),a.jsxs("section",{className:"mb-8",children:[a.jsx("span",{className:"text-sm-app font-bold text-text-sub block mb-3",children:" "}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-base-app text-text-sub mb-1.5 font-bold",children:""}),a.jsx("input",{type:"text",value:r,onChange:d=>n(d.target.value),className:"w-full h-12 px-3.5 border border-border rounded-xl text-base-app text-foreground bg-[hsl(var(--bg-input))] font-medium outline-none transition-all focus:border-primary focus:shadow-input-focus"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-base-app text-text-sub mb-1.5 font-bold",children:""}),a.jsx("input",{type:"email",value:"manager@inopnc.com",disabled:!0,className:"w-full h-12 px-3.5 border border-border rounded-xl text-base-app text-foreground bg-[hsl(var(--bg-input))] font-medium opacity-70"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-base-app text-text-sub mb-1.5 font-bold",children:""}),a.jsx("input",{type:"tel",value:s,onChange:d=>o(d.target.value),className:"w-full h-12 px-3.5 border border-border rounded-xl text-base-app text-foreground bg-[hsl(var(--bg-input))] font-medium outline-none transition-all focus:border-primary focus:shadow-input-focus"})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("span",{className:"text-sm-app font-bold text-text-sub block mb-3",children:" "}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-base-app text-text-sub mb-1.5 font-bold",children:" "}),a.jsx("input",{type:"password",placeholder:"  ",className:"w-full h-12 px-3.5 border border-border rounded-xl text-base-app text-foreground bg-[hsl(var(--bg-input))] font-medium outline-none transition-all focus:border-primary focus:shadow-input-focus placeholder:text-muted-foreground"})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("span",{className:"text-sm-app font-bold text-text-sub block mb-3",children:" "}),a.jsxs("div",{className:"flex justify-between items-center py-4 border-b border-border",children:[a.jsx("span",{className:"text-base-app text-foreground",children:" "}),a.jsxs("label",{className:"relative inline-block w-12 h-[26px]",children:[a.jsx("input",{type:"checkbox",checked:i,onChange:d=>l(d.target.checked),className:"opacity-0 w-0 h-0 peer"}),a.jsx("span",{className:"absolute cursor-pointer inset-0 bg-border rounded-full transition-colors peer-checked:bg-primary before:content-[''] before:absolute before:h-5 before:w-5 before:left-[3px] before:bottom-[3px] before:bg-white before:rounded-full before:transition-transform peer-checked:before:translate-x-[22px]"})]})]}),a.jsxs("div",{className:"flex justify-between items-center py-4",children:[a.jsx("span",{className:"text-base-app text-foreground",children:" "}),a.jsxs("label",{className:"relative inline-block w-12 h-[26px]",children:[a.jsx("input",{type:"checkbox",checked:c,onChange:d=>u(d.target.checked),className:"opacity-0 w-0 h-0 peer"}),a.jsx("span",{className:"absolute cursor-pointer inset-0 bg-border rounded-full transition-colors peer-checked:bg-primary before:content-[''] before:absolute before:h-5 before:w-5 before:left-[3px] before:bottom-[3px] before:bg-white before:rounded-full before:transition-transform peer-checked:before:translate-x-[22px]"})]})]})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("span",{className:"text-sm-app font-bold text-text-sub block mb-3",children:""}),a.jsxs("div",{className:"flex justify-between mb-5",children:[a.jsx("span",{className:"text-sm-app text-text-sub",children:" "}),a.jsx("span",{className:"text-sm-app text-foreground font-semibold",children:"v1.2.0"})]}),a.jsx("button",{onClick:()=>alert(" "),className:"text-destructive text-sm-app font-bold bg-transparent border-none p-0 cursor-pointer underline",children:" "})]})]})]})}const O5=280,A5="/@confirm3.html",I5="width=device-width, initial-scale=1.0, minimum-scale=0.5, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover",L5=e=>{let t=e.querySelector('meta[name="viewport"]');!t&&e.head&&(t=e.createElement("meta"),t.name="viewport",e.head.appendChild(t)),t&&(t.content=I5);const r=e.getElementById("viewport");r&&(r.style.touchAction="pinch-zoom");const n=e.querySelector(".controls-pill");n&&(n.style.bottom="max(20px, env(safe-area-inset-bottom, 0px))")};function D5({isOpen:e,onClose:t}){const r=m.useRef(null),[n,s]=m.useState(e),[o,i]=m.useState(!1),[l,c]=m.useState(!1),[u,h]=m.useState(!1);m.useEffect(()=>{if(e){s(!0),c(!1),h(!1);const v=window.requestAnimationFrame(()=>i(!0));return()=>window.cancelAnimationFrame(v)}i(!1);const p=window.setTimeout(()=>s(!1),O5);return()=>window.clearTimeout(p)},[e]),m.useEffect(()=>{if(!n||typeof document>"u")return;const p=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=p}},[n]),m.useEffect(()=>{if(!n)return;const p=v=>{v.key==="Escape"&&t()};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[n,t]);const d=m.useCallback(()=>{var p;try{const v=(p=r.current)==null?void 0:p.contentDocument;if(!v)return;L5(v),h(!1),c(!0)}catch{c(!1),h(!0)}},[]),f=m.useCallback(p=>{var y,w;const v=(w=(y=r.current)==null?void 0:y.contentDocument)==null?void 0:w.getElementById(p);v==null||v.click()},[]);return n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`fixed inset-0 z-[3000] bg-black/45 transition-opacity duration-200 ${o?"opacity-100":"pointer-events-none opacity-0"}`,onClick:t}),a.jsxs("section",{className:`fixed inset-0 left-1/2 z-[3100] flex w-full max-w-app -translate-x-1/2 flex-col overflow-hidden bg-black shadow-2xl transition-transform duration-300 ease-[cubic-bezier(0.22,1,0.36,1)] ${o?"translate-y-0":"pointer-events-none translate-y-full"}`,style:{paddingTop:"env(safe-area-inset-top)"},children:[a.jsxs("header",{className:"flex h-[60px] min-h-[60px] items-center justify-between border-b border-white/15 bg-black px-3",children:[a.jsx("span",{className:"pl-1 text-lg-app font-bold text-white",children:""}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("button",{onClick:()=>f("btnReset"),disabled:!l,className:"rounded-full p-2 text-white transition active:bg-white/15 disabled:cursor-not-allowed disabled:opacity-40","aria-label":" ",children:a.jsx(hf,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>f("btnDownload"),disabled:!l,className:"rounded-full p-2 text-white transition active:bg-white/15 disabled:cursor-not-allowed disabled:opacity-40","aria-label":" ",children:a.jsx(Nc,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"rounded-full p-2 text-white transition active:bg-white/15","aria-label":" ",children:a.jsx(_e,{className:"h-6 w-6"})})]})]}),a.jsxs("div",{className:"relative flex-1 bg-black",children:[a.jsx("iframe",{ref:r,title:"",src:A5,onLoad:d,onError:()=>{c(!1),h(!0)},className:"h-full w-full border-0 bg-black",allow:"fullscreen"}),!l&&!u&&a.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center text-sm-app font-semibold text-white/70",children:"  ..."}),u&&a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-3 bg-black/70 px-6 text-center",children:[a.jsx("p",{className:"text-sm-app font-semibold text-white",children:"  ."}),a.jsx("button",{onClick:()=>{var p,v;h(!1),c(!1),(v=(p=r.current)==null?void 0:p.contentWindow)==null||v.location.reload()},className:"rounded-lg border border-white/40 px-3 py-1.5 text-xs font-bold text-white",children:" "})]})]})]})]}):null}const M5="modulepreload",$5=function(e){return"/"+e},lx={},F5=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=$5(c),c in lx)return;lx[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":M5,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},U5="inopnc_offline",z5=1,Or="syncQueue",cx="offlineMedia";function Fc(){return new Promise((e,t)=>{const r=indexedDB.open(U5,z5);r.onupgradeneeded=()=>{const n=r.result;n.objectStoreNames.contains(Or)||n.createObjectStore(Or,{keyPath:"id",autoIncrement:!0}),n.objectStoreNames.contains(cx)||n.createObjectStore(cx,{keyPath:"id",autoIncrement:!0}).createIndex("siteDate",["siteValue","workDate"])},r.onsuccess=()=>e(r.result),r.onerror=()=>t(r.error)})}async function B5(){const e=await Fc();return new Promise((t,r)=>{const s=e.transaction(Or,"readonly").objectStore(Or).getAll();s.onsuccess=()=>t(s.result),s.onerror=()=>r(s.error)})}async function q5(e){const t=await Fc();return new Promise((r,n)=>{const s=t.transaction(Or,"readwrite");s.objectStore(Or).delete(e),s.oncomplete=()=>r(),s.onerror=()=>n(s.error)})}async function ux(e,t){const r=await Fc();return new Promise((n,s)=>{const o=r.transaction(Or,"readwrite"),i=o.objectStore(Or),l=i.get(e);l.onsuccess=()=>{l.result&&i.put({...l.result,...t})},o.oncomplete=()=>n(),o.onerror=()=>s(o.error)})}async function W5(){const e=await Fc();return new Promise((t,r)=>{const s=e.transaction(Or,"readonly").objectStore(Or).count();s.onsuccess=()=>t(s.result),s.onerror=()=>r(s.error)})}async function V5(){const e=await B5();let t=0,r=0;for(const n of e)if(n.status!=="syncing")try{switch(await ux(n.id,{status:"syncing"}),n.action){case"save_worklog":{const{saveWorklog:s}=await F5(async()=>{const{saveWorklog:o}=await Promise.resolve().then(()=>c4);return{saveWorklog:o}},void 0);s(n.payload);break}case"upload_photo":case"upload_drawing":{const s=n.action==="upload_photo"?"sitePhotos":"siteDrawings",o=JSON.parse(localStorage.getItem(s)||"{}"),{siteValue:i,workDate:l,data:c}=n.payload;o[i]||(o[i]={}),o[i][l]||(o[i][l]=[]),o[i][l].push(c),localStorage.setItem(s,JSON.stringify(o));break}}await q5(n.id),t++}catch(s){console.error("Sync failed for item:",n.id,s),await ux(n.id,{status:"failed",retryCount:(n.retryCount||0)+1}),r++}return{synced:t,failed:r}}function H5(){const[e,t]=m.useState(navigator.onLine),[r,n]=m.useState(0),[s,o]=m.useState(!1),i=m.useCallback(async()=>{try{const c=await W5();n(c)}catch{}},[]),l=m.useCallback(async()=>{if(!(!navigator.onLine||s)){o(!0);try{const c=await V5();c.synced>0&&le.success(`${c.synced}  `),c.failed>0&&le.error(`${c.failed}   -  `),await i()}catch(c){console.error("Sync error:",c)}finally{o(!1)}}},[s,i]);return m.useEffect(()=>{const c=()=>{t(!0),le.success("  -    ..."),l()},u=()=>{t(!1),le.warning("  -   ",{duration:4e3})};return window.addEventListener("online",c),window.addEventListener("offline",u),i(),()=>{window.removeEventListener("online",c),window.removeEventListener("offline",u)}},[l,i]),{isOnline:e,pendingCount:r,isSyncing:s,syncNow:l,refreshPending:i}}function K5(){const{isOnline:e,pendingCount:t,isSyncing:r,syncNow:n}=H5();return e&&t===0?null:a.jsxs("div",{className:`fixed bottom-0 left-0 right-0 z-50 flex items-center justify-between px-4 py-2.5 text-sm font-medium transition-all duration-300 ${e?"bg-amber-500 text-white":"bg-red-600 text-white"}`,style:{maxWidth:600,margin:"0 auto"},children:[a.jsxs("div",{className:"flex items-center gap-2",children:[e?a.jsx(d2,{className:"w-4 h-4"}):a.jsx(u2,{className:"w-4 h-4 animate-pulse"}),a.jsx("span",{children:e?`   ${t}`:"  -      "})]}),e&&t>0&&a.jsxs("button",{onClick:n,disabled:r,className:"flex items-center gap-1 px-3 py-1 rounded-full bg-white/20 hover:bg-white/30 transition-colors disabled:opacity-50",children:[r?a.jsx(s2,{className:"w-3.5 h-3.5 animate-spin"}):a.jsx(Gj,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"text-xs",children:r?" ...":""})]})]})}const G5="hideNotifications",Q5=()=>{if(typeof window>"u")return!1;try{return window.localStorage.getItem(G5)===new Date().toDateString()}catch{return!1}};function J5(){const[e,t]=m.useState(!1),[r,n]=m.useState(!1),[s,o]=m.useState(!1),[i,l]=m.useState(!1),[c,u]=m.useState(!1),[h,d]=m.useState(2),[f,p]=m.useState(!1);m.useEffect(()=>{r||f||h<=0||Q5()||(n(!0),p(!0))},[f,h,r]);const v=()=>{p(!0),n(!0)};return a.jsxs("div",{className:"inopnc-app",children:[a.jsx(g5,{onSearch:()=>t(!0),onCert:()=>u(!0),onNotify:v,onMenu:()=>o(!0),notificationCount:h}),a.jsx("main",{className:"pt-[114px] pb-6 px-4",children:a.jsx(AS,{})}),a.jsx(v5,{isOpen:e,onClose:()=>t(!1),onOpenCert:()=>u(!0)}),a.jsx(T5,{isOpen:r,onClose:()=>n(!1),onBadgeUpdate:d}),a.jsx(P5,{isOpen:s,onClose:()=>o(!1),onOpenAccount:()=>l(!0)}),a.jsx(R5,{isOpen:i,onClose:()=>l(!1)}),a.jsx(D5,{isOpen:c,onClose:()=>u(!1)}),a.jsx(K5,{})]})}const Y5="/assets/flash-CePliuWt.png",X5="/assets/site-info-CZu9Bop0.png",Z5="/assets/worklog-Dy8Q5q5X.png",e4="/assets/output-DXfNHp1M.png",t4="/assets/docs-C1gEQT8z.png",r4="/assets/request-BEN5-YEM.png",dx=[{id:1,name:"  101",status:"ing",days:120,mp:450,address:"   1 12-3",worker:8,manager:"",safety:"",affil:"",lastUpdate:"2025-12-24 08:30",hasDraw:!0,hasPhoto:!0,hasPTW:!0,hasLog:!0,hasAction:!1},{id:2,name:"  ",status:"wait",days:45,mp:120,address:"   123-45",worker:3,manager:"",safety:"",affil:"",lastUpdate:"2025-12-24 09:00",hasDraw:!0,hasPhoto:!1,hasPTW:!1,hasLog:!0,hasAction:!0}],hx={:{text:" 2C",icon:em},:{text:" 4C",icon:Kj},:{text:" 8C",icon:Od},:{text:" 3C",icon:Od},:{text:" 2C",icon:em}};function n4(e){const t=Object.keys(hx).find(r=>e.includes(r));return t?hx[t]:{text:" 3C",icon:Od}}const s4=[{label:"",path:"/site",icon:X5},{label:"",path:"/worklog",icon:Z5,badge:3,badgeColor:"bg-green-600"},{label:"",path:"/output",icon:e4},{label:"",path:"/doc",icon:t4},{label:"",path:"/request",icon:r4,badge:2,badgeColor:"bg-violet-500"}],fx=[{type:"",text:"      .",badgeCls:"bg-header-navy"},{type:"",text:" PDF   .",badgeCls:"bg-primary"},{type:"",text:"     .",badgeCls:"bg-header-navy"}];function o4(){const e=Qn(),t=new Date,r=`${String(t.getMonth()+1).padStart(2,"0")}.${String(t.getDate()).padStart(2,"0")} (${["","","","","","",""][t.getDay()]})`,[n,s]=m.useState(0);return m.useEffect(()=>{const o=setInterval(()=>s(i=>(i+1)%fx.length),4e3);return()=>clearInterval(o)},[]),a.jsxs("div",{className:"animate-fade-in",children:[a.jsxs("div",{className:"mb-5 pt-2.5",children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-4 px-1",children:[a.jsx("img",{src:Y5,alt:"",className:"w-5 h-5 object-contain"}),a.jsx("span",{className:"text-[20px] font-bold text-header-navy tracking-tight",children:""})]}),a.jsx("div",{className:"grid grid-cols-5 gap-0.5",children:s4.map(o=>a.jsxs("button",{onClick:()=>e(o.path),className:"flex flex-col items-center gap-1.5 py-1 cursor-pointer bg-transparent border-none active:scale-95 transition-transform",children:[a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:o.icon,alt:o.label,className:"w-[46px] h-[46px] object-contain drop-shadow-[0_2px_4px_rgba(0,0,0,0.06)]"}),o.badge&&a.jsx("span",{className:F("absolute top-0 right-0 translate-x-1/2 -translate-y-1/2 min-w-[18px] h-[18px] px-[5px] rounded-full text-white text-[10px] font-black flex items-center justify-center shadow-[0_2px_6px_rgba(0,0,0,0.25)] border-2 border-background z-10 leading-none",o.badgeColor,o.badgeColor==="bg-violet-500"&&"animate-pulse"),children:o.badge})]}),a.jsx("span",{className:"text-[13px] font-bold text-foreground text-center whitespace-nowrap tracking-tight",children:o.label})]},o.label))})]}),a.jsxs("div",{className:"bg-card rounded-xl border border-border shadow-soft h-14 mb-5 flex items-center px-4 gap-3 relative overflow-hidden",children:[fx.map((o,i)=>a.jsxs("div",{className:F("absolute inset-0 flex items-center px-4 gap-3 transition-all duration-500",i===n?"opacity-100 translate-x-0":"opacity-0 translate-x-full"),children:[a.jsx("span",{className:F("text-[12px] font-bold px-2.5 py-1.5 rounded-md text-white whitespace-nowrap",o.badgeCls),children:o.type}),a.jsx("span",{className:"text-[15px] font-medium text-foreground flex-1 truncate",children:o.text})]},i)),a.jsx(Dn,{className:"w-[18px] h-[18px] text-text-sub relative z-10 ml-auto"})]}),a.jsxs("div",{className:"bg-card rounded-2xl p-[22px] mb-6 shadow-soft",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ye,{className:"w-5 h-5 text-header-navy"}),a.jsx("span",{className:"text-[19px] font-[800] text-header-navy",children:"  "})]}),a.jsx("span",{className:"text-[14px] text-primary bg-primary/10 px-3 py-1.5 rounded-full font-bold",children:r})]}),a.jsx("div",{className:"flex flex-col gap-3",children:dx.map(o=>a.jsxs("div",{className:"flex justify-between items-center bg-muted/50 p-3.5 px-[18px] rounded-xl",children:[a.jsx("span",{className:"text-[16px] font-bold text-foreground flex-1 truncate pr-2",children:o.name}),a.jsxs("span",{className:"text-[16px] font-bold text-primary flex items-center gap-1",children:[a.jsx(Ka,{className:"w-[18px] h-[18px]"})," ",o.worker,""]})]},o.id))})]}),dx.map(o=>{const i=n4(o.address),l=i.icon;return a.jsxs("div",{className:"bg-card rounded-2xl shadow-soft mb-5 overflow-hidden relative",children:[a.jsx("span",{className:F("absolute top-0 right-0 text-[13px] font-bold px-3.5 py-1.5 text-white rounded-bl-xl z-10",o.status==="ing"?"bg-blue-500":"bg-violet-500"),children:o.status==="ing"?"":""}),a.jsxs("div",{className:"p-5 border-b border-border",children:[a.jsx("span",{className:"text-[15px] font-medium text-text-sub block mb-1",children:o.lastUpdate}),a.jsx("div",{className:"text-[20px] font-[800] text-header-navy mb-4 w-[85%]",children:o.name}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("span",{className:"text-[13px] font-bold px-2.5 py-1 rounded-md bg-indigo-50 text-indigo-500 border border-indigo-200",children:""}),a.jsx("span",{className:"text-[13px] font-bold px-2.5 py-1 rounded-md bg-primary/10 text-primary border border-primary/30",children:o.affil}),a.jsxs("span",{className:"text-[13px] font-bold px-2.5 py-1 rounded-md bg-muted text-text-sub border border-border flex items-center gap-1",children:[a.jsx(l,{className:"w-3.5 h-3.5"}),i.text]})]}),a.jsxs("div",{className:"flex gap-1.5 items-center pl-2 border-l border-border ml-1",children:[a.jsx(Jr,{className:F("w-4 h-4",o.hasDraw?"text-header-navy":"text-border")}),a.jsx(Pr,{className:F("w-4 h-4",o.hasPhoto?"text-header-navy":"text-border")}),a.jsx(Jt,{className:F("w-4 h-4",o.hasPTW?"text-header-navy":"text-border")}),a.jsx(Tt,{className:F("w-4 h-4",o.hasLog?"text-header-navy":"text-border")}),a.jsx($o,{className:F("w-4 h-4",o.hasAction?"text-header-navy":"text-border")})]})]})]}),a.jsxs("div",{className:"p-[22px]",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3.5 mb-5",children:[a.jsxs("div",{className:"bg-muted/50 rounded-xl p-3.5 text-center border border-muted",children:[a.jsx("span",{className:"block text-[15px] text-text-sub font-bold mb-1.5",children:" "}),a.jsxs("span",{className:"text-[20px] font-[800] text-foreground",children:[o.days,""]})]}),a.jsxs("div",{className:"bg-muted/50 rounded-xl p-3.5 text-center border border-muted",children:[a.jsx("span",{className:"block text-[15px] text-text-sub font-bold mb-1.5",children:" "}),a.jsxs("span",{className:"text-[20px] font-[800] text-primary",children:[o.mp,""]})]})]}),a.jsxs("div",{className:"flex justify-between items-center py-3 border-t border-dashed border-border text-[15px] text-text-sub",children:[a.jsx("span",{className:"font-bold text-[17px] w-20",children:""}),a.jsxs("span",{className:"flex-1 font-semibold text-foreground text-right pr-3 text-[17px] truncate",children:[o.manager," "]}),a.jsx("button",{onClick:()=>window.location.href="tel:01000000000",className:"w-9 h-9 rounded-[10px] bg-blue-50 border border-blue-100 text-blue-900 flex items-center justify-center cursor-pointer",children:a.jsx(Bn,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex justify-between items-center py-3 border-t border-dashed border-border text-[15px] text-text-sub",children:[a.jsx("span",{className:"font-bold text-[17px] w-20",children:""}),a.jsxs("span",{className:"flex-1 font-semibold text-foreground text-right pr-3 text-[17px] truncate",children:[o.safety," "]}),a.jsx("button",{onClick:()=>window.location.href="tel:01000000000",className:"w-9 h-9 rounded-[10px] bg-blue-50 border border-blue-100 text-blue-900 flex items-center justify-center cursor-pointer",children:a.jsx(Bn,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex justify-between items-center py-3 border-t border-dashed border-border text-[15px] text-text-sub",children:[a.jsx("span",{className:"font-bold text-[17px] w-20",children:""}),a.jsx("span",{className:"flex-1 font-semibold text-foreground text-right pr-3 text-[17px] truncate",children:o.address}),a.jsx("button",{className:"w-9 h-9 rounded-[10px] bg-blue-50 border border-blue-100 text-blue-900 flex items-center justify-center cursor-pointer",children:a.jsx(Ye,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"grid grid-cols-5 gap-1.5 mt-5",children:[{label:"",icon:Jr,cls:"bg-primary/10 border-primary/30 text-primary"},{label:"",icon:Pr,cls:"bg-indigo-50 border-indigo-200 text-indigo-500"},{label:"",icon:Jt,cls:"bg-blue-50 border-blue-200 text-blue-600"},{label:"",icon:Tt,cls:"bg-emerald-50 border-emerald-200 text-emerald-700"},{label:"",icon:$o,cls:"bg-red-50 border-red-200 text-red-700"}].map(c=>a.jsxs("button",{className:F("flex flex-col items-center justify-center gap-1.5 py-3 rounded-xl border cursor-pointer transition-all active:scale-[0.98]",c.cls),children:[a.jsx(c.icon,{className:"w-6 h-6"}),a.jsx("span",{className:"text-[14px] font-bold",children:c.label})]},c.label))})]})]},o.id)})]})}function As(){const{user:e,isTestMode:t,testRole:r}=Xe(),[n,s]=m.useState(null),[o,i]=m.useState(!0);return m.useEffect(()=>{if(t){s(r),i(!1);return}if(!e){s(null),i(!1);return}(async()=>{const{data:c}=await ee.from("user_roles").select("role").eq("user_id",e.id).maybeSingle();s((c==null?void 0:c.role)??"worker"),i(!1)})()},[e,t,r]),{role:n,isAdmin:n==="admin",isPartner:n==="partner",isWorker:n==="worker",loading:o}}const a4="/home-v2/main-v2-app/index.html?v=github-khy972-20260223";function i4(){const{isPartner:e}=As();return e?a.jsx(o4,{}):a.jsx("section",{className:"-mx-4 -mt-2 -mb-6",children:a.jsx("iframe",{title:"INOPNC Home Main",src:a4,className:"block h-[calc(100dvh-114px)] w-full border-0 bg-background"})})}const Ps="inopnc_worklogs_unified";function Xo(){try{const e=JSON.parse(localStorage.getItem(Ps)||"[]");return Array.isArray(e)?e:[]}catch{return[]}}function l4(e){const t=Xo(),r=new Date().toISOString();if(e.id){const s=t.findIndex(o=>o.id===e.id);if(s>=0)return t[s]={...t[s],...e,id:e.id,updatedAt:r},localStorage.setItem(Ps,JSON.stringify(t)),t[s]}const n={...e,id:e.id||`wl_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,status:e.status||"draft",createdAt:e.createdAt||r,version:e.version||1};return t.unshift(n),localStorage.setItem(Ps,JSON.stringify(t)),n}function tv(e,t){const r=Xo(),n=r.findIndex(s=>s.id===e);return n<0?!1:(r[n].status=t,r[n].updatedAt=new Date().toISOString(),localStorage.setItem(Ps,JSON.stringify(r)),!0)}function rv(e){const t=Xo(),r=t.filter(n=>n.id!==e);return r.length===t.length?!1:(localStorage.setItem(Ps,JSON.stringify(r)),!0)}function nv(){if(!(Xo().length>0))try{const t=JSON.parse(localStorage.getItem("siteWorklogs")||"{}"),r=[];Object.entries(t).forEach(([s,o])=>{Object.entries(o).forEach(([i,l])=>{var c,u,h,d,f,p,v;l.baseInfo&&r.push({id:`wl_migrated_${s}_${i}`,siteValue:l.baseInfo.siteValue||s,siteName:l.baseInfo.siteName||"",dept:l.baseInfo.dept||"",workDate:l.baseInfo.workDate||i,manpower:l.baseInfo.manpower||[],workSets:l.baseInfo.workSets||[],materials:((u=(c=l.versions)==null?void 0:c[l.versions.length-1])==null?void 0:u.materials)||[],photoCount:((d=(h=l.versions)==null?void 0:h[l.versions.length-1])==null?void 0:d.photoCount)||0,drawingCount:((p=(f=l.versions)==null?void 0:f[l.versions.length-1])==null?void 0:p.drawingCount)||0,status:"draft",createdAt:l.baseInfo.createdAt||new Date().toISOString(),updatedAt:l.baseInfo.updatedAt,version:((v=l.versions)==null?void 0:v.length)||1})})}),r.length>0&&localStorage.setItem(Ps,JSON.stringify(r));const n=JSON.parse(localStorage.getItem("inopnc_worklogs_v4_site_based")||"{}");Object.entries(n).forEach(([s,o])=>{Array.isArray(o)&&o.forEach(i=>{r.find(c=>c.siteValue===s&&c.workDate===i.workDate)||r.push({id:`wl_v4_${s}_${i.workDate}`,siteValue:i.siteValue||s,siteName:i.site||"",dept:i.dept||"",workDate:i.workDate||"",manpower:i.manpower||[],workSets:i.workSets||[],materials:i.materials||[],photoCount:i.photoCount||0,drawingCount:0,status:"draft",createdAt:i.savedAt||new Date().toISOString(),version:1})})}),r.length>0&&localStorage.setItem(Ps,JSON.stringify(r))}catch(t){console.error("Migration failed:",t)}}const c4=Object.freeze(Object.defineProperty({__proto__:null,deleteWorklog:rv,getAllWorklogs:Xo,migrateOldWorklogs:nv,saveWorklog:l4,updateWorklogStatus:tv},Symbol.toStringTag,{value:"Module"}));function u4(e){return{id:e.id,siteValue:e.site_id,siteName:e.site_name,dept:e.dept||"",workDate:e.work_date,manpower:(e.worklog_manpower||[]).map(t=>({id:t.id,worker:t.worker_name,workHours:Number(t.work_hours),isCustom:t.is_custom||!1,locked:t.locked||!1})),workSets:(e.worklog_worksets||[]).map(t=>({id:t.id,member:t.member||"",process:t.process||"",type:t.work_type||"",location:{block:t.block||"",dong:t.dong||"",floor:t.floor||""},customMemberValue:"",customProcessValue:"",customTypeValue:""})),materials:(e.worklog_materials||[]).map(t=>({id:t.id,name:t.name,qty:Number(t.qty)})),photoCount:0,drawingCount:0,status:e.status,createdAt:e.created_at,updatedAt:e.updated_at,version:e.version,weather:e.weather||""}}function Rf(){const{user:e,isTestMode:t}=Xe(),r=ut(),n=!!e,s=bt({queryKey:["worklogs"],queryFn:async()=>{if(!n)return nv(),Xo();const{data:o,error:i}=await ee.from("worklogs").select(`
          *,
          worklog_manpower(*),
          worklog_worksets(*),
          worklog_materials(*)
        `).order("work_date",{ascending:!1});if(i)throw i;return(o||[]).map(u4)},enabled:n||t,refetchInterval:n?!1:2e3});return m.useEffect(()=>{if(!n)return;const o=ee.channel("worklogs-changes").on("postgres_changes",{event:"*",schema:"public",table:"worklogs"},()=>r.invalidateQueries({queryKey:["worklogs"]})).subscribe();return()=>{ee.removeChannel(o)}},[n,r]),s}function d4(){const{user:e}=Xe(),t=ut();return gt({mutationFn:async({id:r,status:n})=>{if(!e){tv(r,n);return}const{error:s}=await ee.from("worklogs").update({status:n}).eq("id",r);if(s)throw s},onSuccess:()=>{t.invalidateQueries({queryKey:["worklogs"]})}})}function h4(){const{user:e}=Xe(),t=ut();return gt({mutationFn:async r=>{if(!e){rv(r);return}await ee.from("worklog_manpower").delete().eq("worklog_id",r),await ee.from("worklog_worksets").delete().eq("worklog_id",r),await ee.from("worklog_materials").delete().eq("worklog_id",r);const{error:n}=await ee.from("worklogs").delete().eq("id",r);if(n)throw n},onSuccess:()=>{t.invalidateQueries({queryKey:["worklogs"]})}})}const sv="inopnc_punch_data";function _i(){try{const e=JSON.parse(localStorage.getItem(sv)||"[]");return Array.isArray(e)?e:[]}catch{return[]}}function Bo(e){localStorage.setItem(sv,JSON.stringify(e))}function f4(e,t){const r=_i(),n=r.find(s=>s.id===e);return n?(n.punchItems||(n.punchItems=[]),n.punchItems.unshift(t),Bo(r),!0):!1}function p4(e,t,r){const n=_i(),s=n.find(i=>i.id===e);if(!s||!s.punchItems)return!1;const o=s.punchItems.find(i=>i.id===t);return o?(Object.assign(o,r),Bo(n),!0):!1}function m4(e,t){const r=_i(),n=r.find(s=>s.id===e);return!n||!n.punchItems?!1:(n.punchItems=n.punchItems.filter(s=>s.id!==t),Bo(r),!0)}function x4(){if(_i().length>0)return;const t="https://images.unsplash.com/photo-1581094271901-8022df4466f9?q=80&w=400&auto=format&fit=crop",r="https://images.unsplash.com/photo-1503387762-592deb58ef4e?q=80&w=400&auto=format&fit=crop",n="https://images.unsplash.com/photo-1504307651254-35680f356dfd?q=80&w=400&auto=format&fit=crop";Bo([{id:"p1",title:"  101 ",contractor:"GS",affiliation:"",author:"",date:"2025-12-20",time:"14:30",status:"open",files:[{id:"p1f1",name:"",type:"img",url:t,size:"2.5MB",ext:"JPG",url_before:t,url_after:"",currentView:"before"}],punchItems:[{id:"p1i1",location:"A 1",issue:" ",priority:"",status:"ing",assignee:"",dueDate:"2025-12-25",date:"2025-12-20",beforePhoto:t,afterPhoto:""},{id:"p1i2",location:"A 2",issue:"  ",priority:"",status:"open",assignee:"",dueDate:"2025-12-26",date:"2025-12-20",beforePhoto:"",afterPhoto:""}]},{id:"p2",title:"  P3 ",contractor:"",affiliation:"",author:"",date:"2025-12-22",time:"09:15",status:"done",files:[{id:"p2f1",name:"",type:"img",url:r,size:"2.1MB",ext:"JPG",url_before:t,url_after:r,currentView:"after"}],punchItems:[{id:"p2i1",location:"B 1 ",issue:"  ",priority:"",status:"done",assignee:"",dueDate:"2025-12-28",date:"2025-12-22",beforePhoto:t,afterPhoto:r}]},{id:"p3",title:"  ",contractor:"GS",affiliation:"",author:"",date:"2025-12-23",time:"11:00",status:"open",files:[{id:"p3f1",name:"",type:"img",url:n,size:"3.0MB",ext:"JPG",url_before:n,url_after:"",currentView:"before"}],punchItems:[{id:"p3i1",location:"C  1",issue:" ",priority:"",status:"open",assignee:"",dueDate:"2025-12-27",date:"2025-12-23",beforePhoto:n,afterPhoto:""},{id:"p3i2",location:"C ",issue:"",priority:"",status:"ing",assignee:"",dueDate:"2025-12-29",date:"2025-12-23",beforePhoto:"",afterPhoto:""}]}])}function g4(e){return{id:e.id,title:e.site_name,contractor:e.contractor||"",affiliation:e.affiliation||"",author:e.author||"",date:e.punch_date,time:e.punch_time||"",status:e.status,punchItems:(e.punch_items||[]).map(t=>{var r;return{id:t.id,location:t.location||"",issue:t.issue||"",priority:t.priority,status:t.status,assignee:t.assignee||"",dueDate:t.due_date||"",date:((r=t.created_at)==null?void 0:r.split("T")[0])||"",beforePhoto:t.before_photo||"",afterPhoto:t.after_photo||""}}),files:[]}}function ov(){const{user:e,isTestMode:t}=Xe(),r=ut(),n=!!e,s=bt({queryKey:["punchGroups"],queryFn:async()=>{if(!n)return x4(),_i();const{data:o,error:i}=await ee.from("punch_groups").select("*, punch_items(*)").order("punch_date",{ascending:!1});if(i)throw i;return(o||[]).map(g4)},enabled:n||t,refetchInterval:n?!1:2e3});return m.useEffect(()=>{if(!n)return;const o=ee.channel("punch-changes").on("postgres_changes",{event:"*",schema:"public",table:"punch_groups"},()=>r.invalidateQueries({queryKey:["punchGroups"]})).on("postgres_changes",{event:"*",schema:"public",table:"punch_items"},()=>r.invalidateQueries({queryKey:["punchGroups"]})).subscribe();return()=>{ee.removeChannel(o)}},[n,r]),s}function b4(){const{user:e}=Xe(),t=ut();return gt({mutationFn:async({groupId:r,item:n})=>{if(!e){f4(r,n);return}const{error:s}=await ee.from("punch_items").insert({group_id:r,location:n.location,issue:n.issue,priority:n.priority,status:n.status,assignee:n.assignee,due_date:n.dueDate||null,before_photo:n.beforePhoto,after_photo:n.afterPhoto});if(s)throw s},onSuccess:()=>t.invalidateQueries({queryKey:["punchGroups"]})})}function y4(){const{user:e}=Xe(),t=ut();return gt({mutationFn:async({groupId:r,itemId:n,field:s,value:o})=>{if(!e){p4(r,n,{[s]:o});return}const l={location:"location",issue:"issue",priority:"priority",status:"status",assignee:"assignee",dueDate:"due_date",beforePhoto:"before_photo",afterPhoto:"after_photo"}[s]||s,{error:c}=await ee.from("punch_items").update({[l]:o}).eq("id",n);if(c)throw c},onSuccess:()=>t.invalidateQueries({queryKey:["punchGroups"]})})}function v4(){const{user:e}=Xe(),t=ut();return gt({mutationFn:async({groupId:r,itemId:n})=>{if(!e){m4(r,n);return}const{error:s}=await ee.from("punch_items").delete().eq("id",n);if(s)throw s},onSuccess:()=>t.invalidateQueries({queryKey:["punchGroups"]})})}function w4(){const{user:e}=Xe(),t=ut();return gt({mutationFn:async r=>{if(!e){Bo(r);return}Bo(r)},onSuccess:()=>t.invalidateQueries({queryKey:["punchGroups"]})})}const j4=[{id:1,name:"  101 ",status:"ing",affil:"",addr:"   149",manager:" ",safety:" ",phoneM:"010-1234-5678",phoneS:"010-9876-5432",days:245,mp:3,pinned:!0,lastDate:"2025-12-09",hasDraw:!0,hasPhoto:!0,hasLog:!0,hasPunch:!0},{id:2,name:"  P3 ",status:"done",affil:"",addr:"   1",manager:" ",safety:" ",phoneM:"010-1111-2222",phoneS:"010-3333-4444",days:120,mp:1,pinned:!1,lastDate:"2025-12-05",hasDraw:!0,hasPhoto:!1,hasLog:!0,hasPunch:!1},{id:3,name:"  ",status:"wait",affil:"",addr:"",manager:" ",safety:" ",phoneM:"010-5555-6666",phoneS:"010-7777-8888",days:15,mp:0,pinned:!1,lastDate:"2025-12-03",hasDraw:!1,hasPhoto:!1,hasLog:!1,hasPunch:!1}],k4={ing:{label:"",cls:"bg-blue-500"},wait:{label:"",cls:"bg-indigo-500"},done:{label:"",cls:"bg-muted-foreground"}},_4=[{key:"all",label:""},{key:"ing",label:""},{key:"wait",label:""},{key:"done",label:""}];function N4(){const[e,t]=m.useState(""),[r,n]=m.useState("all"),[s,o]=m.useState(new Set),i=m.useMemo(()=>j4.filter(c=>!(r!=="all"&&c.status!==r||e&&!c.name.toLowerCase().includes(e.toLowerCase()))).sort((c,u)=>c.pinned!==u.pinned?c.pinned?-1:1:u.id-c.id),[e,r]),l=c=>{o(u=>{const h=new Set(u);return h.has(c)?h.delete(c):h.add(c),h})};return a.jsxs("div",{className:"animate-fade-in",children:[a.jsx("div",{className:"flex gap-2 mb-3 mt-1",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx("input",{value:e,onChange:c=>t(c.target.value),placeholder:"   ",className:"w-full h-[50px] bg-card border border-border rounded-xl px-4 pr-10 text-base-app font-medium text-foreground placeholder:text-muted-foreground outline-none transition-all hover:border-primary/50 focus:border-primary focus:shadow-[0_0_0_3px_rgba(49,163,250,0.15)]"}),e?a.jsx("button",{onClick:()=>t(""),className:"absolute right-3 top-1/2 -translate-y-1/2",children:a.jsx(_e,{className:"w-4 h-4 text-muted-foreground"})}):a.jsx(Rt,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"})]})}),a.jsx("div",{className:"grid grid-cols-4 gap-2 mb-3",children:_4.map(c=>a.jsx("button",{onClick:()=>n(c.key),className:F("h-10 rounded-full text-[14px] font-medium border cursor-pointer transition-all",r===c.key?c.key==="all"?"bg-primary text-white border-primary font-bold":c.key==="ing"?"bg-blue-500 text-white border-blue-500 font-bold":c.key==="wait"?"bg-indigo-500 text-white border-indigo-500 font-bold":"bg-muted-foreground text-white border-muted-foreground font-bold":"bg-card text-muted-foreground border-border"),children:c.label},c.key))}),i.length===0?a.jsx("div",{className:"text-center py-20 text-muted-foreground",children:"  "}):a.jsx("div",{className:"space-y-5",children:i.map(c=>{const u=s.has(c.id),h=k4[c.status];return a.jsxs("div",{className:F("bg-card rounded-2xl shadow-soft overflow-hidden",c.pinned&&"border-2 border-primary"),children:[a.jsx("span",{className:F("text-[13px] font-bold px-3.5 py-1.5 text-white rounded-bl-xl",h.cls),style:{float:"right"},children:h.label}),a.jsxs("div",{className:"p-5 border-b border-border",children:[a.jsx("div",{className:"text-[15px] text-text-sub font-medium mb-1",children:c.lastDate}),a.jsx("div",{className:"text-[20px] font-[800] text-header-navy mb-3 w-[85%]",children:c.name}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex gap-2 items-center",children:a.jsx("span",{className:"text-[14px] font-semibold px-3 py-1 rounded-lg bg-primary/10 text-primary border border-primary/30",children:c.affil})}),a.jsxs("div",{className:"flex gap-1.5 items-center",children:[a.jsx(Jr,{className:F("w-4 h-4",c.hasDraw?"text-header-navy":"text-border")}),a.jsx(Pr,{className:F("w-4 h-4",c.hasPhoto?"text-header-navy":"text-border")}),a.jsx(Tt,{className:F("w-4 h-4",c.hasLog?"text-header-navy":"text-border")}),a.jsx($o,{className:F("w-4 h-4",c.hasPunch?"text-header-navy":"text-border")})]})]})]}),a.jsxs("button",{onClick:()=>l(c.id),className:"w-full h-12 flex items-center justify-center gap-1.5 text-text-sub text-[14px] font-semibold bg-transparent border-none cursor-pointer",children:[u?"":"",u?a.jsx(gi,{className:"w-4 h-4"}):a.jsx(nt,{className:"w-4 h-4"})]}),u&&a.jsxs("div",{className:"p-[22px] border-t border-border animate-slide-down",children:[a.jsxs("div",{className:"flex mb-5 border-b border-dashed border-border pb-3.5",children:[a.jsxs("div",{className:"flex-1 text-center relative",children:[a.jsx("span",{className:"block text-[17px] text-text-sub font-bold mb-2",children:" "}),a.jsxs("span",{className:"text-[20px] font-[800] text-header-navy",children:[c.days,""]}),a.jsx("div",{className:"absolute right-0 top-[10%] h-[80%] w-px bg-border"})]}),a.jsxs("div",{className:"flex-1 text-center",children:[a.jsx("span",{className:"block text-[17px] text-text-sub font-bold mb-2",children:" "}),a.jsxs("span",{className:"text-[20px] font-[800] text-header-navy",children:[c.mp,""]})]})]}),a.jsxs("div",{className:"flex justify-between items-center py-3.5 border-b border-dashed border-border",children:[a.jsx("span",{className:"font-bold text-text-sub w-20 text-[17px]",children:""}),a.jsx("span",{className:"flex-1 font-semibold text-foreground text-right pr-3 truncate text-[17px]",children:c.manager}),a.jsx("button",{onClick:()=>window.location.href=`tel:${c.phoneM}`,className:"w-9 h-9 rounded-[10px] bg-blue-50 border border-blue-100 text-blue-900 flex items-center justify-center cursor-pointer",children:a.jsx(Bn,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex justify-between items-center py-3.5 border-b border-dashed border-border",children:[a.jsx("span",{className:"font-bold text-text-sub w-20 text-[17px]",children:""}),a.jsx("span",{className:"flex-1 font-semibold text-foreground text-right pr-3 truncate text-[17px]",children:c.safety}),a.jsx("button",{onClick:()=>window.location.href=`tel:${c.phoneS}`,className:"w-9 h-9 rounded-[10px] bg-blue-50 border border-blue-100 text-blue-900 flex items-center justify-center cursor-pointer",children:a.jsx(Bn,{className:"w-4 h-4"})})]}),c.addr&&a.jsxs("div",{className:"flex justify-between items-center py-3.5",children:[a.jsx("span",{className:"font-bold text-text-sub w-20 text-[17px]",children:""}),a.jsx("span",{className:"flex-1 font-semibold text-foreground text-right pr-3 truncate text-[17px]",children:c.addr}),a.jsx("button",{className:"w-9 h-9 rounded-[10px] bg-blue-50 border border-blue-100 text-blue-900 flex items-center justify-center cursor-pointer",children:a.jsx(Ye,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"grid grid-cols-5 gap-1.5 mt-4",children:[{label:"",icon:Jr,cls:"bg-primary/10 border-primary/30 text-primary"},{label:"",icon:Pr,cls:"bg-indigo-50 border-indigo-200 text-indigo-500"},{label:"",icon:Tt,cls:"bg-blue-50 border-blue-200 text-blue-600"},{label:"",icon:Tt,cls:"bg-emerald-50 border-emerald-200 text-emerald-700"},{label:"",icon:$o,cls:"bg-red-50 border-red-200 text-red-700"}].map(d=>a.jsxs("button",{className:F("flex flex-col items-center justify-center gap-1.5 h-[74px] rounded-xl border cursor-pointer transition-all active:scale-[0.98]",d.cls),children:[a.jsx(d.icon,{className:"w-6 h-6"}),a.jsx("span",{className:"text-[14px] font-bold",children:d.label})]},d.label))})]})]},c.id)})})]})}function av({open:e,onClose:t,title:r,children:n}){const[s,o]=m.useState(1),[i,l]=m.useState(!1),[c,u]=m.useState({x:0,y:0}),h=m.useRef(null),d=m.useRef(null),f=m.useRef({x:0,y:0,panX:0,panY:0}),p=m.useRef(!1),v=m.useRef(null);m.useEffect(()=>{if(e){const k=window.innerWidth,E=k<800?k/850:.7;o(Math.max(.2,Math.min(E,1))),u({x:0,y:0}),requestAnimationFrame(()=>{if(h.current&&d.current){const A=h.current.getBoundingClientRect(),S=d.current.firstElementChild;if(!S)return;d.current.style.transform="translate(0px, 0px) scale(1)";const z=S.getBoundingClientRect(),M=A.width-36,L=A.height-36,O=M/Math.max(1,z.width),q=L/Math.max(1,z.height),V=Math.min(O,q,1);o(Math.max(.15,V)),u({x:0,y:0})}})}},[e]);const y=m.useCallback(k=>{o(E=>Math.max(.2,Math.min(3,E+k)))},[]),w=m.useCallback(k=>{i&&(p.current=!0,f.current={x:k.clientX,y:k.clientY,panX:c.x,panY:c.y},k.target.setPointerCapture(k.pointerId))},[i,c]),x=m.useCallback(k=>{!p.current||!i||u({x:f.current.panX+(k.clientX-f.current.x),y:f.current.panY+(k.clientY-f.current.y)})},[i]),g=m.useCallback(()=>{p.current=!1},[]),b=m.useCallback(k=>{if(k.touches.length===2){k.preventDefault();const E=k.touches[0].clientX-k.touches[1].clientX,A=k.touches[0].clientY-k.touches[1].clientY,S=Math.sqrt(E*E+A*A);if(v.current!==null){const z=(S-v.current)*.005;o(M=>Math.max(.2,Math.min(3,M+z)))}v.current=S}},[]),j=m.useCallback(()=>{v.current=null},[]),N=m.useCallback(k=>{k.preventDefault();const E=k.deltaY>0?-.05:.05;o(A=>Math.max(.2,Math.min(3,A+E)))},[]),_=m.useCallback(async()=>{if(navigator.share)try{await navigator.share({title:r,text:`${r} - INOPNC`})}catch{}},[r]);return e?a.jsxs("div",{className:"fixed inset-0 bg-[#1e1e1e] z-[9999] flex flex-col max-w-[600px] mx-auto",children:[a.jsxs("div",{className:"h-14 px-4 border-b border-[#333] flex justify-between items-center bg-black shrink-0",children:[a.jsx("button",{onClick:t,className:"bg-transparent border-none text-white cursor-pointer p-1",children:a.jsx(Ns,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-white font-bold text-[17px] max-w-[70%] truncate",children:r}),a.jsx("button",{onClick:()=>{},className:"bg-transparent border-none text-white cursor-pointer p-1",children:a.jsx(Nc,{className:"w-6 h-6"})})]}),a.jsx("div",{ref:h,className:`flex-1 bg-[#333] overflow-hidden relative flex justify-center items-center ${i?"cursor-grabbing":""}`,style:{touchAction:"none"},onPointerDown:w,onPointerMove:x,onPointerUp:g,onTouchMove:b,onTouchEnd:j,onWheel:N,children:a.jsx("div",{ref:d,className:"flex flex-col items-center gap-5 p-5",style:{transform:`translate(${c.x}px, ${c.y}px) scale(${s})`,transformOrigin:"center center",transition:p.current?"none":"transform 0.1s ease-out"},children:n})}),a.jsxs("div",{className:"fixed bottom-10 left-1/2 -translate-x-1/2 bg-[rgba(30,30,30,0.9)] backdrop-blur-lg px-8 py-2.5 rounded-full flex gap-8 z-[10000] shadow-xl",children:[a.jsxs("button",{onClick:()=>y(-.1),className:"bg-transparent border-none text-white flex flex-col items-center gap-1 text-[11px] font-medium opacity-70 hover:opacity-100 cursor-pointer min-w-10",children:[a.jsx(r2,{className:"w-5 h-5"}),""]}),a.jsxs("button",{onClick:()=>l(!i),className:`bg-transparent border-none flex flex-col items-center gap-1 text-[11px] font-medium cursor-pointer min-w-10 ${i?"text-primary opacity-100 font-bold":"text-white opacity-70 hover:opacity-100"}`,children:[a.jsx(Qj,{className:"w-5 h-5"}),""]}),a.jsxs("button",{onClick:()=>y(.1),className:"bg-transparent border-none text-white flex flex-col items-center gap-1 text-[11px] font-medium opacity-70 hover:opacity-100 cursor-pointer min-w-10",children:[a.jsx(Ec,{className:"w-5 h-5"}),""]}),a.jsxs("button",{onClick:_,className:"bg-transparent border-none text-white flex flex-col items-center gap-1 text-[11px] font-medium opacity-70 hover:opacity-100 cursor-pointer min-w-10",children:[a.jsx(Nb,{className:"w-5 h-5"}),""]})]})]}):null}function oc({children:e,pageNum:t,totalPages:r}){return a.jsx("div",{className:"bg-white shadow-lg",style:{width:"210mm",minHeight:"297mm",padding:"20mm",boxSizing:"border-box"},children:a.jsxs("div",{style:{border:"2px solid #1a254f",height:"100%",padding:"15mm",boxSizing:"border-box",display:"flex",flexDirection:"column"},children:[e,a.jsxs("div",{className:"mt-auto pt-4 flex justify-between text-[12px] text-[#999] border-t border-[#ddd]",children:[a.jsx("span",{children:"INOPNC Safety Management System"}),a.jsxs("span",{children:[t," / ",r]})]})]})})}function S4({photos:e,siteName:t}){const r=Math.ceil(e.length/4);return a.jsx(a.Fragment,{children:Array.from({length:r},(n,s)=>{const o=s*4,i=e.slice(o,o+4);return a.jsxs(oc,{pageNum:s+1,totalPages:r,children:[a.jsxs("div",{className:"text-center border-b-2 border-[#1a254f] pb-3 mb-4",children:[a.jsx("div",{className:"text-[24px] font-[800] text-[#1a254f]",children:" "}),a.jsx("div",{className:"text-[14px] text-[#666] mt-1",children:t})]}),a.jsx("div",{className:"flex-1 grid grid-cols-2 gap-3",children:i.map((l,c)=>a.jsxs("div",{className:"border border-[#ddd] rounded-lg overflow-hidden flex flex-col bg-white",children:[a.jsx("div",{className:"flex-1 bg-[#f8fafc] flex items-center justify-center",style:{minHeight:"80mm"},children:a.jsx("img",{src:l.url,className:"max-w-full max-h-full object-contain",alt:` ${o+c+1}`})}),a.jsxs("div",{className:"p-2 border-t border-[#ddd] bg-white",children:[a.jsxs("div",{className:"text-[12px] font-bold text-[#1a254f]",children:[" ",o+c+1]}),a.jsxs("div",{className:"text-[11px] text-[#666]",children:[": ",l.date||"-"]})]})]},c))})]},s)})})}function iv({entry:e}){var n,s,o;const t=((n=e.manpower)==null?void 0:n.length)||0,r=((s=e.manpower)==null?void 0:s.reduce((i,l)=>i+(l.workHours||0),0))||0;return a.jsxs(oc,{pageNum:1,totalPages:1,children:[a.jsxs("div",{className:"text-center border-b-2 border-[#1a254f] pb-3 mb-4",children:[a.jsx("div",{className:"text-[24px] font-[800] text-[#1a254f]",children:""}),a.jsx("div",{className:"text-[14px] text-[#666] mt-1",children:e.siteName})]}),a.jsxs("div",{className:"grid grid-cols-[120px_1fr] gap-2 text-[14px] mb-6",children:[a.jsx("div",{className:"font-bold text-[#1a254f]",children:""}),a.jsx("div",{className:"border-b border-[#ddd] py-1",children:e.workDate}),a.jsx("div",{className:"font-bold text-[#1a254f]",children:""}),a.jsx("div",{className:"border-b border-[#ddd] py-1",children:e.siteName}),a.jsx("div",{className:"font-bold text-[#1a254f]",children:""}),a.jsxs("div",{className:"border-b border-[#ddd] py-1",children:[t," (",r.toFixed(1),")"]})]}),(o=e.workSets)==null?void 0:o.map((i,l)=>{var c,u,h;return a.jsxs("div",{className:"mb-4 p-3 bg-[#f8fafc] rounded-lg",children:[a.jsxs("div",{className:"text-[13px] font-bold text-[#1a254f] mb-1",children:["  ",l+1]}),a.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-1 text-[12px]",children:[a.jsx("span",{className:"text-[#666]",children:""}),a.jsx("span",{children:i.member===""?i.customMemberValue:i.member}),a.jsx("span",{className:"text-[#666]",children:""}),a.jsx("span",{children:i.process===""?i.customProcessValue:i.process}),a.jsx("span",{className:"text-[#666]",children:""}),a.jsx("span",{children:i.type===""?i.customTypeValue:i.type}),a.jsx("span",{className:"text-[#666]",children:""}),a.jsx("span",{children:[(c=i.location)==null?void 0:c.block,(u=i.location)==null?void 0:u.dong,(h=i.location)==null?void 0:h.floor].filter(Boolean).join(" / ")||"-"})]})]},l)}),e.materials&&e.materials.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"text-[13px] font-bold text-[#1a254f] mb-2",children:"  "}),e.materials.map((i,l)=>a.jsxs("div",{className:"flex justify-between text-[12px] py-1 border-b border-[#eee]",children:[a.jsx("span",{children:i.name}),a.jsxs("span",{children:[i.qty,""]})]},l))]})]})}const C4=[{id:1,name:"  101 ",addr:"   149",lodge:"   123-45",status:"ing",affil:"",manager:" ",safety:" ",phoneM:"010-1234-5678",phoneS:"010-9876-5432",days:245,mp:3,pinned:!0,lastDate:"2025-12-09",lastTime:"10:30",hasDraw:!0,hasPhoto:!0,hasPTW:!0,hasLog:!0,hasPunch:!0,ptw:{title:"",status:"",pages:2},workLog:{title:"",status:"",pages:3},punch:{title:"",status:"",pages:1},images:["sample1.jpg","sample2.jpg"],drawings:{construction:[{name:"1 .pdf"},{name:"2 .pdf"}],progress:[{name:"_01.jpg",type:"img"}],completion:[{name:".pdf"}]}},{id:2,name:"  P3 ",addr:"   1",lodge:"    123",status:"done",affil:"",manager:" ",safety:" ",phoneM:"010-1111-2222",phoneS:"010-3333-4444",days:120,mp:1,pinned:!1,lastDate:"2025-12-05",lastTime:"18:20",hasDraw:!0,hasPhoto:!0,hasPTW:!0,hasLog:!0,hasPunch:!0,ptw:{title:"",status:"",pages:2},workLog:{title:"",status:"",pages:3},punch:{title:"",status:"",pages:1},images:["sample1.jpg"],drawings:{construction:[{name:"1 .pdf"}],progress:[],completion:[{name:".pdf"}]}},{id:3,name:"  ",addr:"",lodge:"",status:"wait",affil:"",manager:" ",safety:" ",phoneM:"010-5555-6666",phoneS:"010-7777-8888",days:15,mp:0,pinned:!1,lastDate:"2025-12-03",lastTime:"14:00",hasDraw:!1,hasPhoto:!1,hasPTW:!1,hasLog:!1,hasPunch:!1,images:[],drawings:{construction:[],progress:[],completion:[]}},{id:4,name:"  4",addr:"",lodge:"",status:"ing",affil:"",manager:"",safety:"",phoneM:"",phoneS:"",days:10,mp:0,pinned:!1,lastDate:"2025-12-01",lastTime:"09:00",hasDraw:!1,hasPhoto:!1,hasPTW:!1,hasLog:!1,hasPunch:!1,images:[],drawings:{construction:[],progress:[],completion:[]}},{id:5,name:"  5",addr:"",lodge:"",status:"ing",affil:"",manager:"",safety:"",phoneM:"",phoneS:"",days:11,mp:0,pinned:!1,lastDate:"2025-12-01",lastTime:"09:00",hasDraw:!1,hasPhoto:!1,hasPTW:!1,hasLog:!1,hasPunch:!1,images:[],drawings:{construction:[],progress:[],completion:[]}}],E4={ing:{label:"",className:"bg-blue-500 text-white"},wait:{label:"",className:"bg-indigo-500 text-white"},done:{label:"",className:"bg-muted-foreground text-white"}},T4=[{key:"all",label:"",chipClass:"status-all"},{key:"ing",label:"",chipClass:"status-ing"},{key:"wait",label:"",chipClass:"status-wait"},{key:"done",label:"",chipClass:"status-done"}];function P4(){const{isPartner:e}=As();return e?a.jsx(N4,{}):a.jsx(R4,{})}function R4(){const[e,t]=m.useState(C4),[r,n]=m.useState(""),[s,o]=m.useState("all"),[i,l]=m.useState("latest"),[c,u]=m.useState(new Set),[h,d]=m.useState(5),[f,p]=m.useState(!1),[v,y]=m.useState(""),[w,x]=m.useState(null),[g,b]=m.useState(!1),[j,N]=m.useState(null),[_,k]=m.useState(!1),{data:E=[]}=Rf(),{data:A=[]}=ov(),z=m.useMemo(()=>e.map(T=>{const J=T.name||"",se=J.split(" ")[0]||J,te=E.filter(U=>{const R=(U.siteName||"").trim();return R?R===J||R.includes(se)||J.includes(R):!1}),ve=te.filter(U=>U.status==="approved"),Re=A.filter(U=>{const R=(U.title||"").trim();return R?R===J||R.includes(se)||J.includes(R):!1}),xe=Re.flatMap(U=>U.punchItems||[]).filter(U=>U.status!=="done").length;return{...T,hasLog:T.hasLog||te.length>0,hasPhoto:T.hasPhoto||te.some(U=>U.photoCount>0),hasDraw:T.hasDraw||te.some(U=>U.drawingCount>0),hasPunch:T.hasPunch||Re.length>0,mp:xe||T.mp,liveLogs:te,approvedLogs:ve,sitePunchGroups:Re}}),[e,E,A]).filter(T=>s==="all"||T.status===s).filter(T=>T.name.toLowerCase().includes(r.toLowerCase())||T.addr.toLowerCase().includes(r.toLowerCase())).sort((T,J)=>T.pinned!==J.pinned?T.pinned?-1:1:i==="name"?T.name.localeCompare(J.name,"ko"):J.id-T.id),M=z.slice(0,h),L=T=>{u(J=>{const se=new Set(J);return se.has(T)?se.delete(T):se.add(T),se})},O=(T,J)=>{var se;J.stopPropagation(),t(te=>te.map(ve=>ve.id===T?{...ve,pinned:!ve.pinned}:ve)),le.success((se=e.find(te=>te.id===T))!=null&&se.pinned?" ":" ")},q=T=>{if(!T||T.length<5){le.error(" ");return}window.location.href=`tel:${T.replace(/[^0-9+]/g,"")}`},V=()=>{h>=z.length?(d(5),window.scrollTo({top:0,behavior:"smooth"})):d(T=>T+5)},$=T=>{N(T),b(!0)},P=T=>{y(T),x(a.jsx("img",{src:"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='850' height='600'%3E%3Crect width='850' height='600' fill='%23fff'/%3E%3Crect x='12' y='12' width='826' height='576' fill='none' stroke='%231a254f' stroke-width='6'/%3E%3Ctext x='425' y='300' font-family='sans-serif' font-size='34' text-anchor='middle'%3EA3 Sample Drawing%3C/text%3E%3C/svg%3E",style:{width:850,height:"auto",display:"block"},alt:" "})),p(!0),b(!1)},I=T=>{const J=T.images.map(se=>({url:"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Crect fill='%23ddd' width='200' height='200'/%3E%3Ctext x='100' y='100' text-anchor='middle' dy='.3em'%3ESample%3C/text%3E%3C/svg%3E",date:T.lastDate}));if(J.length===0){le.error("  ");return}y(`${T.name}  `),x(a.jsx(S4,{photos:J,siteName:T.name})),p(!0)},D=(T,J)=>{const se=T[J];if(!se){le.error("  ");return}const te={ptw:"PTW ",workLog:"",punch:""};if(J==="workLog"&&T.approvedLogs.length>0){const ve=T.approvedLogs[0];y(`${T.name}  `),x(a.jsx(iv,{entry:ve})),p(!0);return}if(J==="punch"&&T.sitePunchGroups&&T.sitePunchGroups.length>0){const ve=T.sitePunchGroups.flatMap(xe=>xe.punchItems||[]),Re=ve.filter(xe=>xe.status!=="done").length,Oe=ve.filter(xe=>xe.status==="done").length;y(`${T.name}  `),x(a.jsxs(oc,{pageNum:1,totalPages:1,children:[a.jsxs("div",{className:"text-center border-b-2 border-[#1a254f] pb-3 mb-4",children:[a.jsx("div",{className:"text-[24px] font-[800] text-[#1a254f]",children:"   "}),a.jsx("div",{className:"text-[14px] text-[#666] mt-1",children:T.name})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[a.jsxs("div",{className:"bg-sky-50 border border-sky-400 p-3 rounded-lg text-center",children:[a.jsx("div",{className:"text-[20px] font-[900] text-sky-600",children:ve.length}),a.jsx("div",{className:"text-[11px] font-bold text-sky-700",children:""})]}),a.jsxs("div",{className:"bg-red-50 border border-red-400 p-3 rounded-lg text-center",children:[a.jsx("div",{className:"text-[20px] font-[900] text-red-600",children:Re}),a.jsx("div",{className:"text-[11px] font-bold text-red-700",children:""})]}),a.jsxs("div",{className:"bg-slate-50 border border-slate-400 p-3 rounded-lg text-center",children:[a.jsx("div",{className:"text-[20px] font-[900] text-slate-600",children:Oe}),a.jsx("div",{className:"text-[11px] font-bold text-slate-500",children:""})]})]}),a.jsxs("table",{className:"w-full border-collapse text-[12px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-100",children:[a.jsx("th",{className:"border border-slate-300 p-2 w-10",children:"NO"}),a.jsx("th",{className:"border border-slate-300 p-2 w-20",children:""}),a.jsx("th",{className:"border border-slate-300 p-2",children:" "}),a.jsx("th",{className:"border border-slate-300 p-2 w-16",children:""}),a.jsx("th",{className:"border border-slate-300 p-2 w-16",children:""})]})}),a.jsx("tbody",{children:ve.map((xe,U)=>a.jsxs("tr",{children:[a.jsx("td",{className:"border border-slate-300 p-2 text-center font-bold",children:U+1}),a.jsx("td",{className:"border border-slate-300 p-2 text-center",children:xe.location||"-"}),a.jsx("td",{className:"border border-slate-300 p-2",children:xe.issue||"-"}),a.jsx("td",{className:"border border-slate-300 p-2 text-center",children:xe.priority}),a.jsx("td",{className:"border border-slate-300 p-2 text-center font-bold",children:xe.status==="done"?"":xe.status==="ing"?"":""})]},xe.id))})]})]})),p(!0);return}y(`${T.name}  ${te[J]}`),x(a.jsxs(oc,{pageNum:1,totalPages:se.pages||1,children:[a.jsxs("div",{className:"text-center border-b-2 border-[#1a254f] pb-3 mb-4",children:[a.jsx("div",{className:"text-[24px] font-[800] text-[#1a254f]",children:te[J]}),a.jsx("div",{className:"text-[14px] text-[#666] mt-1",children:T.name})]}),a.jsxs("div",{className:"grid grid-cols-[120px_1fr] gap-2 text-[14px] mb-6",children:[a.jsx("div",{className:"font-bold text-[#1a254f]",children:""}),a.jsx("div",{className:"border-b border-[#ddd] py-1",children:"DOC-2025-0001"}),a.jsx("div",{className:"font-bold text-[#1a254f]",children:""}),a.jsx("div",{className:"border-b border-[#ddd] py-1",children:se.status}),a.jsx("div",{className:"font-bold text-[#1a254f]",children:""}),a.jsx("div",{className:"border-b border-[#ddd] py-1",children:T.name})]}),a.jsx("div",{className:"flex-1 p-4 bg-[#f8fafc] rounded-lg flex items-center justify-center",style:{minHeight:"100mm"},children:a.jsx("span",{className:"text-[#666]",children:"  "})})]})),p(!0)},K=(T,J)=>{if(J==="images"){I(T);return}if(J==="ptw"||J==="workLog"||J==="punch"){D(T,J);return}le.error(" ")},B=e.map(T=>T.name).filter(T=>T.toLowerCase().includes(r.toLowerCase()));return a.jsxs("div",{className:"animate-fade-in",children:[a.jsxs("div",{className:"flex gap-2 mb-3 mt-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("input",{type:"text",value:r,onChange:T=>{n(T.target.value),k(!0)},onFocus:()=>k(!0),placeholder:"   ",className:"w-full h-[50px] bg-card border border-border rounded-xl px-4 pr-12 text-base-app font-medium text-foreground placeholder:text-muted-foreground outline-none transition-all hover:border-primary/50 focus:border-primary focus:shadow-[0_0_0_3px_rgba(49,163,250,0.15)]"}),r&&a.jsx("button",{onClick:()=>{n(""),k(!1)},className:"absolute right-10 top-1/2 -translate-y-1/2 w-5 h-5 rounded-full bg-muted flex items-center justify-center text-muted-foreground z-10",children:a.jsx(_e,{className:"w-3 h-3"})}),a.jsx("button",{onClick:()=>k(!_),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground bg-transparent border-none cursor-pointer",children:a.jsx(nt,{className:"w-5 h-5"})}),_&&r&&a.jsx("ul",{className:"absolute z-50 w-full mt-1.5 max-h-60 overflow-auto bg-card border border-border rounded-xl shadow-lg animate-[dropdownSlide_0.2s_ease-out]",children:B.length===0?a.jsx("li",{className:"p-4 text-muted-foreground text-center text-sm-app",children:"  "}):B.map(T=>a.jsx("li",{onClick:()=>{n(T),k(!1)},className:"px-4 py-3.5 cursor-pointer border-b border-border last:border-0 text-sm-app font-medium text-foreground hover:bg-muted transition-colors",children:T},T))})]}),a.jsxs("select",{value:i,onChange:T=>l(T.target.value),className:"w-[95px] h-[50px] rounded-xl px-3 text-sm-app font-semibold bg-card border border-border text-foreground appearance-none cursor-pointer outline-none transition-all hover:border-primary/50 focus:border-primary focus:shadow-[0_0_0_3px_rgba(49,163,250,0.15)]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23475569' stroke-width='2'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 12px center",paddingRight:"36px"},children:[a.jsx("option",{value:"latest",children:""}),a.jsx("option",{value:"name",children:""})]})]}),a.jsx("div",{className:"flex gap-2 mb-4",children:T4.map(T=>a.jsx("button",{onClick:()=>{o(T.key),d(5)},className:F("flex-1 h-10 rounded-full text-sm-app font-medium border transition-all cursor-pointer flex items-center justify-center",s===T.key?T.key==="all"?"bg-primary text-white border-primary font-bold shadow-sm":T.key==="ing"?"bg-blue-500 text-white border-blue-500 font-bold shadow-sm":T.key==="wait"?"bg-indigo-500 text-white border-indigo-500 font-bold shadow-sm":"bg-muted-foreground text-white border-muted-foreground font-bold shadow-sm":"bg-card text-muted-foreground border-border hover:border-primary/50"),children:T.label},T.key))}),M.length===0&&a.jsxs("div",{className:"text-center py-20",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-muted rounded-full mb-5",children:a.jsx(Rt,{className:"w-8 h-8 text-muted-foreground opacity-60"})}),a.jsx("p",{className:"text-base-app font-medium text-muted-foreground",children:"  "})]}),a.jsx("div",{className:"space-y-5",children:M.map(T=>{var R;const J=c.has(T.id),se=E4[T.status],te=!!((R=T.addr)!=null&&R.trim()),ve=T.hasDraw,Re=T.hasPhoto,Oe=!!T.ptw,xe=T.hasLog,U=!!T.punch;return a.jsxs("div",{className:F("bg-card rounded-2xl shadow-soft overflow-hidden transition-all",T.pinned&&"border-2 border-primary shadow-[0_4px_12px_rgba(49,163,250,0.2)]"),children:[a.jsxs("div",{className:"p-5 border-b border-border relative",children:[a.jsx("span",{className:F("absolute top-0 right-0 text-[13px] font-bold px-3.5 py-1.5 rounded-bl-xl z-10",se.className),children:se.label}),T.lastDate&&a.jsxs("div",{className:"text-sm-app text-text-sub font-medium mb-1",children:[T.lastDate," ",T.lastTime?`( ${T.lastTime})`:""]}),a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h3",{className:"text-[20px] font-[800] text-header-navy flex-1 leading-tight",style:{wordBreak:"keep-all"},children:T.name}),a.jsx("button",{onClick:G=>O(T.id,G),className:"bg-transparent border-none p-1 cursor-pointer ml-2",children:T.pinned?a.jsx(Sc,{className:"w-[22px] h-[22px] text-primary"}):a.jsx(Cc,{className:"w-[22px] h-[22px] text-border"})})]}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex gap-2 items-center flex-wrap min-w-0",children:[a.jsx("span",{className:"text-[14px] px-3 h-[34px] rounded-lg border border-indigo-200 bg-indigo-50 text-indigo-500 font-semibold flex items-center",children:""}),a.jsx("span",{className:F("text-[14px] px-3 h-[34px] rounded-lg border font-semibold flex items-center",T.affil===""?"bg-red-50 text-red-700 border-red-200":"bg-sky-50 text-sky-600 border-sky-200"),children:T.affil})]}),a.jsxs("div",{className:"flex gap-1.5 items-center pl-2 border-l border-border ml-1",children:[a.jsx(Jr,{className:F("w-4 h-4 transition-colors",ve?"text-header-navy":"text-border")}),a.jsx(Pr,{className:F("w-4 h-4 transition-colors",Re?"text-header-navy":"text-border")}),a.jsx(Kl,{className:F("w-4 h-4 transition-colors",Oe?"text-header-navy":"text-border")}),a.jsx(Tt,{className:F("w-4 h-4 transition-colors",xe?"text-header-navy":"text-border")}),a.jsx($o,{className:F("w-4 h-4 transition-colors",U?"text-header-navy":"text-border")})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5 flex-1 overflow-hidden cursor-pointer",onClick:()=>te?window.open("https://www.tmap.co.kr/"):le.error("   "),children:[a.jsx(Ye,{className:"w-4 h-4 text-text-sub flex-shrink-0"}),a.jsx("span",{className:F("text-base-app font-bold truncate",te?"text-text-sub":"text-muted-foreground"),children:te?T.addr:" "})]}),a.jsx("button",{className:F("w-9 h-9 rounded-[10px] flex items-center justify-center shrink-0 ml-2 transition-all active:scale-95",te?"bg-[hsl(219_100%_95%)] border border-[hsl(219_100%_90%)] text-[hsl(230_60%_30%)]":"border border-dashed border-muted-foreground/40 text-muted-foreground bg-transparent opacity-90"),onClick:()=>te?window.open("https://www.tmap.co.kr/"):le.error("  "),children:a.jsx(Ye,{className:"w-[18px] h-[18px]"})})]})]}),J&&a.jsxs("div",{className:"p-5 animate-slide-down bg-card",children:[[{label:"",value:T.manager,phone:T.phoneM},{label:"",value:T.safety,phone:T.phoneS}].map(G=>a.jsxs("div",{className:"flex justify-between items-center py-3.5 border-b border-dashed border-border",children:[a.jsx("span",{className:"text-base-app text-text-sub font-bold w-20",children:G.label}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"flex-1 text-right text-base-app font-semibold text-foreground truncate pr-3",children:G.value||""}),a.jsx("button",{className:F("w-9 h-9 rounded-[10px] flex items-center justify-center shrink-0 transition-all active:scale-95",G.phone?"bg-[hsl(219_100%_95%)] border border-[hsl(219_100%_90%)] text-[hsl(230_60%_30%)]":"border border-dashed border-border bg-transparent text-muted-foreground"),onClick:()=>q(G.phone),children:a.jsx(Bn,{className:"w-[18px] h-[18px]"})})]})]},G.label)),a.jsxs("div",{className:"flex justify-between items-center py-3.5 border-b border-dashed border-border",children:[a.jsx("span",{className:"text-base-app text-text-sub font-bold w-20",children:""}),a.jsxs("div",{className:"flex items-center gap-2 flex-1 justify-end",children:[a.jsx("span",{className:"text-base-app font-semibold text-foreground truncate pr-3 text-right cursor-pointer",style:{maxWidth:"60%"},children:T.lodge||a.jsx("span",{className:"text-primary underline",children:" "})}),a.jsx("button",{className:F("w-9 h-9 rounded-[10px] flex items-center justify-center shrink-0 transition-all active:scale-95",T.lodge?"bg-[hsl(219_100%_95%)] border border-[hsl(219_100%_90%)] text-[hsl(230_60%_30%)]":"border border-dashed border-primary text-primary bg-transparent"),onClick:()=>T.lodge?window.open("https://www.tmap.co.kr/"):le("  ( )"),children:a.jsx(Ye,{className:"w-[18px] h-[18px]"})})]})]}),a.jsxs("div",{className:"flex py-3.5",children:[a.jsxs("div",{className:"flex-1 text-center relative",children:[a.jsx("span",{className:"block text-base-app text-text-sub font-bold mb-2",children:" "}),a.jsxs("span",{className:"text-lg-app font-[800] text-header-navy",children:[T.days,""]}),a.jsx("div",{className:"absolute right-0 top-[10%] h-[80%] w-px bg-border"})]}),a.jsxs("div",{className:"flex-1 text-center",children:[a.jsx("span",{className:"block text-base-app text-text-sub font-bold mb-2",children:"()"}),a.jsxs("span",{className:F("text-lg-app font-[800]",T.mp>0?"text-destructive":"text-header-navy"),children:[T.mp,""]})]})]}),a.jsx("div",{className:"grid grid-cols-5 gap-1.5 mt-0",children:[{icon:o2,label:"",active:ve,color:"bg-primary-bg text-primary border-sky-200",onClick:()=>ve?$(T.id):le.error("  ")},{icon:Pr,label:"",active:Re,color:"bg-indigo-50 text-indigo-500 border-indigo-200",onClick:()=>K(T,"images")},{icon:Kl,label:"PTW",active:Oe,color:"bg-blue-50 text-blue-600 border-blue-200",onClick:()=>K(T,"ptw")},{icon:Tt,label:"",active:xe,color:"bg-emerald-50 text-emerald-700 border-emerald-200",onClick:()=>K(T,"workLog")},{icon:$o,label:"",active:U,color:"bg-red-50 text-red-600 border-red-200",onClick:()=>K(T,"punch")}].map(({icon:G,label:ie,active:fe,color:ge,onClick:Ee})=>a.jsxs("button",{className:F("flex flex-col items-center justify-center gap-1.5 h-[74px] rounded-xl border cursor-pointer transition-all active:scale-95",fe?ge:"bg-muted border-border text-border opacity-60 cursor-not-allowed"),onClick:Ee,children:[a.jsx(G,{className:"w-6 h-6"}),a.jsx("span",{className:"text-[14px] font-bold tracking-tight",children:ie})]},ie))})]}),a.jsxs("button",{onClick:()=>L(T.id),className:F("w-full h-12 flex items-center justify-center gap-1.5 text-text-sub text-[14px] font-semibold cursor-pointer bg-transparent border-none transition-colors",J&&"bg-background border-t border-border"),children:[!J&&a.jsx("span",{children:"  "}),J?a.jsx(gi,{className:"w-[18px] h-[18px]"}):a.jsx(nt,{className:"w-[18px] h-[18px]"})]})]},T.id)})}),z.length>5&&a.jsxs("button",{onClick:V,className:"w-full h-[50px] bg-card border border-border rounded-full text-text-sub font-semibold text-sm-app cursor-pointer mt-3 flex items-center justify-center gap-1.5 transition-all hover:bg-muted",children:[a.jsx("span",{children:h>=z.length?"":" "}),a.jsx(nt,{className:F("w-4 h-4 transition-transform",h>=z.length&&"rotate-180")})]}),g&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-[2000]",onClick:()=>b(!1),children:a.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-card rounded-t-2xl p-6 z-[2100] max-w-[600px] mx-auto animate-slide-down",onClick:T=>T.stopPropagation(),children:[a.jsx("div",{className:"text-center font-bold text-lg mb-5 text-foreground",children:" "}),a.jsxs("button",{onClick:()=>{var T;return P(`${(T=e.find(J=>J.id===j))==null?void 0:T.name}  ()`)},className:"w-full h-[54px] bg-primary/5 text-primary border border-primary/30 rounded-xl font-bold flex items-center justify-center gap-2 mb-2.5 cursor-pointer hover:bg-primary/10 transition-colors",children:[a.jsx(Jr,{className:"w-[18px] h-[18px]"}),"   ()"]}),a.jsx("button",{onClick:()=>le("   ( )"),className:"w-full h-[54px] bg-muted text-foreground border border-border rounded-xl font-bold flex items-center justify-center gap-2 mb-2.5 cursor-pointer hover:bg-background transition-colors",children:"  ()"}),a.jsx("button",{onClick:()=>{var T;return P(`${(T=e.find(J=>J.id===j))==null?void 0:T.name}  ()`)},className:"w-full h-[54px] bg-muted text-foreground border border-border rounded-xl font-bold flex items-center justify-center gap-2 mb-2.5 cursor-pointer hover:bg-background transition-colors",children:"  ()"}),a.jsx("button",{onClick:()=>b(!1),className:"w-full h-[54px] bg-header-navy text-white rounded-xl font-bold mt-2 cursor-pointer hover:opacity-90 transition-opacity",children:""})]})}),a.jsx(av,{open:f,onClose:()=>p(!1),title:v,children:w})]})}const nl={pending:{label:"",bgCls:"bg-[hsl(217_100%_96%)]",textCls:"text-blue-500",borderCls:"border-blue-200",badgeBg:"bg-blue-500"},wait:{label:"",bgCls:"bg-[hsl(263_100%_97%)]",textCls:"text-violet-600",borderCls:"border-violet-200",badgeBg:"bg-violet-500"},approved:{label:"",bgCls:"bg-muted",textCls:"text-muted-foreground",borderCls:"border-border",badgeBg:"bg-muted-foreground"}};function O4(e){return e===""?"pending":e===""?"wait":"approved"}function A4(){const{user:e}=Xe(),[t,r]=m.useState(""),[n,s]=m.useState("all"),[o,i]=m.useState("latest"),[l,c]=m.useState(()=>{try{const _=localStorage.getItem("partner_pinned_sites");return _?new Set(JSON.parse(_)):new Set}catch{return new Set}}),[u,h]=m.useState(5),[d,f]=m.useState(null),[p,v]=m.useState(!1),{data:y=[],isLoading:w}=bt({queryKey:["partner-worklog-sites",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:_,error:k}=await ee.from("site_members").select("site_id").eq("user_id",e.id);if(k)throw k;if(!_||_.length===0)return[];const E=_.map(O=>O.site_id),{data:A,error:S}=await ee.from("sites").select("*").in("id",E);if(S)throw S;const{data:z,error:M}=await ee.from("worklogs").select(`
          id, site_id, site_name, work_date, status, dept,
          worklog_manpower(worker_name, work_hours),
          worklog_worksets(member, process, work_type, block, dong, floor)
        `).in("site_id",E).order("work_date",{ascending:!1});if(M)throw M;const{data:L}=await ee.from("documents").select("id, title, doc_type, file_ext, site_id, work_date, created_at").in("site_id",E);return(A||[]).map(O=>{var Q;const q=(z||[]).filter(B=>B.site_id===O.id),V=(L||[]).filter(B=>B.site_id===O.id),$=q[0],P=q.slice(0,10).map(B=>{const T=(B.worklog_manpower||[]).reduce((J,se)=>J+Number(se.work_hours||8)/8,0);return{date:new Date(B.work_date).toLocaleDateString("ko-KR",{month:"numeric",day:"numeric"}).replace(". ",".").replace(".","."),man:Math.round(T*10)/10||(B.worklog_manpower||[]).length}}),I=q.reduce((B,T)=>{const J=(T.worklog_manpower||[]).reduce((se,te)=>se+Number(te.work_hours||8)/8,0);return B+(J||(T.worklog_manpower||[]).length)},0);let D="";if($){const B=($.worklog_worksets||[])[0];B&&(D=[B.block,B.dong,B.floor,B.process].filter(Boolean).join(" | ")||B.work_type||"")}const K=$?($.worklog_manpower||[]).length:0;return{id:O.id,siteName:O.name,siteId:O.id,latestDate:($==null?void 0:$.work_date)||((Q=O.created_at)==null?void 0:Q.slice(0,10))||"",status:O4(O.status),latestContent:D,workerCount:K,totalDays:q.length,totalManpower:Math.round(I*10)/10,isPinned:l.has(O.id),detailDates:P,photos:V.filter(B=>B.doc_type==="photo").map(B=>{var T;return{name:B.title,date:((T=B.created_at)==null?void 0:T.slice(0,10))||""}}),drawings:V.filter(B=>B.doc_type==="drawing").map(B=>{var T;return{name:B.title,date:((T=B.created_at)==null?void 0:T.slice(0,10))||""}}),certDocs:V.filter(B=>B.doc_type==="cert"||B.doc_type==="completion").map(B=>{var T;return{name:B.title,date:((T=B.created_at)==null?void 0:T.slice(0,10))||""}})}})},enabled:!!e}),x=m.useMemo(()=>{let _=y.map(k=>({...k,isPinned:l.has(k.id)}));return _=_.filter(k=>{const E=t.toLowerCase(),A=!E||k.siteName.toLowerCase().includes(E)||k.latestContent.toLowerCase().includes(E),S=n==="all"||k.status===n;return A&&S}),_.sort((k,E)=>k.isPinned!==E.isPinned?k.isPinned?-1:1:o==="name"?k.siteName.localeCompare(E.siteName,"ko"):new Date(E.latestDate).getTime()-new Date(k.latestDate).getTime()),_},[y,l,t,n,o]),g=m.useMemo(()=>({pending:y.filter(_=>_.status==="pending").length,wait:y.filter(_=>_.status==="wait").length,approved:y.filter(_=>_.status==="approved").length}),[y]),b=_=>{c(k=>{const E=new Set(k);return E.has(_)?E.delete(_):E.add(_),localStorage.setItem("partner_pinned_sites",JSON.stringify([...E])),E})},j=x.slice(0,u),N=u<x.length;return w?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(jb,{className:"w-8 h-8 animate-spin text-primary"})}):a.jsxs("div",{className:"animate-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("input",{value:t,onChange:_=>r(_.target.value),placeholder:",  ",className:"w-full h-[54px] bg-card border border-border rounded-xl px-4 pr-10 text-[17px] font-medium text-foreground placeholder:text-muted-foreground outline-none transition-all focus:border-primary focus:shadow-[0_0_0_3px_rgba(49,163,250,0.15)]"}),t?a.jsx("button",{onClick:()=>r(""),className:"absolute right-3 top-1/2 -translate-y-1/2",children:a.jsx(_e,{className:"w-4 h-4 text-muted-foreground"})}):a.jsx(Rt,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"})]}),a.jsxs("select",{value:o,onChange:_=>i(_.target.value),className:"w-[120px] h-[54px] bg-card border border-border rounded-xl px-3 text-[15px] font-semibold text-foreground appearance-none cursor-pointer outline-none",children:[a.jsx("option",{value:"latest",children:""}),a.jsx("option",{value:"name",children:""})]})]}),a.jsx("div",{className:"grid grid-cols-3 gap-2 mb-5",children:["pending","wait","approved"].map(_=>{const k=nl[_];return a.jsxs("button",{onClick:()=>s(n===_?"all":_),className:F("p-3.5 rounded-xl text-center flex flex-col items-center gap-1 border cursor-pointer transition-all active:scale-[0.98] shadow-soft",k.bgCls,k.borderCls,n===_&&"ring-2 ring-primary/30"),children:[a.jsx("span",{className:F("text-[22px] font-[800]",k.textCls),children:g[_]}),a.jsx("span",{className:F("text-[13px] font-semibold",k.textCls),children:k.label})]},_)})}),j.length===0?a.jsxs("div",{className:"text-center py-20 text-muted-foreground flex flex-col items-center gap-2",children:[a.jsx(Tt,{className:"w-10 h-10 opacity-50"}),a.jsx("p",{children:e?"  .":" ."})]}):a.jsx("div",{className:"flex flex-col gap-4",children:j.map(_=>{const k=nl[_.status],E=_.photos.length>0,A=_.drawings.length>0,S=_.certDocs.length>0;return a.jsxs("div",{onClick:()=>{f(_),v(!1)},className:F("bg-card rounded-2xl shadow-soft overflow-hidden relative cursor-pointer transition-all active:scale-[0.98]",_.isPinned&&"border-2 border-primary shadow-[0_4px_12px_rgba(49,163,250,0.2)]"),children:[a.jsx("span",{className:F("absolute top-0 right-0 text-[13px] font-bold px-3.5 py-1.5 text-white rounded-bl-xl z-10",k.badgeBg),children:k.label}),a.jsxs("div",{className:"p-5",children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-1 text-[15px] text-text-sub font-semibold",children:[a.jsx(Mo,{className:"w-3.5 h-3.5"})," ",_.latestDate]}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-[19px] font-[800] text-header-navy flex-1 truncate mr-2",children:_.siteName}),a.jsx("button",{onClick:z=>{z.stopPropagation(),b(_.id)},className:F("p-1 transition-colors",_.isPinned?"text-primary":"text-border"),children:_.isPinned?a.jsx(Sc,{className:"w-4 h-4"}):a.jsx(Cc,{className:"w-4 h-4"})})]}),_.latestContent&&a.jsx("div",{className:"flex items-center gap-1.5 mb-3",children:a.jsx("span",{className:"text-[15px] font-semibold text-foreground truncate",children:_.latestContent})}),a.jsxs("div",{className:"flex items-center justify-between border-t border-dashed border-border pt-3",children:[a.jsxs("span",{className:"text-[15px] font-semibold flex items-center gap-1.5",children:[a.jsx(Ye,{className:"w-4 h-4 text-primary"}),a.jsxs("span",{className:"text-foreground",children:[_.workerCount,""]}),a.jsxs("span",{className:"text-text-sub",children:["(",_.totalDays,")"]})]}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx(Pr,{className:F("w-4 h-4",E?"text-header-navy":"text-border")}),a.jsx(Jr,{className:F("w-4 h-4",A?"text-header-navy":"text-border")}),a.jsx(Kl,{className:F("w-4 h-4",S?"text-header-navy":"text-border")})]})]})]})]},_.id)})}),N&&a.jsxs("button",{onClick:()=>h(_=>_+5),className:"w-full h-[50px] mt-4 bg-card border border-border rounded-full text-text-sub font-semibold text-[15px] flex items-center justify-center gap-1.5 cursor-pointer transition-all hover:bg-muted active:scale-[0.98]",children:["  ",a.jsx(nt,{className:"w-4 h-4"})]}),d&&a.jsxs("div",{className:"fixed inset-0 z-[2000] bg-background flex flex-col animate-fade-in",children:[a.jsxs("div",{className:"h-[60px] px-4 flex items-center justify-between bg-card border-b border-border",children:[a.jsx("button",{onClick:()=>f(null),className:"bg-transparent border-none",children:a.jsx(Ns,{className:"w-6 h-6 text-text-sub"})}),a.jsx("span",{className:"text-[18px] font-[800] text-header-navy absolute left-1/2 -translate-x-1/2",children:"  "}),a.jsx("div",{className:"w-6"})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 pb-10",children:[a.jsxs("div",{className:"bg-card rounded-2xl p-5 mb-4 shadow-soft",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 pb-3 border-b border-border",children:[a.jsxs("span",{className:"text-[17px] font-[800] text-header-navy flex items-center gap-2",children:[a.jsx(Yj,{className:"w-5 h-5"}),"  "]}),a.jsx("span",{className:F("text-[13px] font-[800] px-3 py-1.5 rounded-full text-white",nl[d.status].badgeBg),children:nl[d.status].label})]}),a.jsxs("div",{className:"space-y-2.5 text-[15px]",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-text-sub font-medium",children:""}),a.jsx("span",{className:"font-bold text-foreground",children:d.siteName})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-text-sub font-medium",children:""}),a.jsx("span",{className:"font-bold text-foreground",children:d.latestContent||"-"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-text-sub font-medium",children:""}),a.jsxs("span",{className:"font-bold text-foreground",children:[d.workerCount,""]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-text-sub font-medium",children:" "}),a.jsxs("button",{onClick:()=>v(!p),className:"flex items-center gap-1 font-bold text-foreground bg-transparent border-none cursor-pointer",children:[d.totalDays," (",d.totalManpower,")",a.jsx(nt,{className:F("w-4 h-4 text-muted-foreground transition-transform",p&&"rotate-180")})]})]}),p&&d.detailDates.length>0&&a.jsx("div",{className:"bg-muted/50 rounded-xl p-3 mt-2 animate-fade-in",children:d.detailDates.map((_,k)=>a.jsxs("div",{className:"flex justify-between text-[14px] py-1",children:[a.jsx("span",{className:"text-text-sub",children:_.date}),a.jsxs("span",{className:"font-bold text-foreground",children:[_.man,""]})]},k))})]})]}),a.jsxs("div",{className:"bg-card rounded-2xl p-5 mb-4 shadow-soft",children:[a.jsx("div",{className:"flex justify-between items-center mb-4 pb-3 border-b border-border",children:a.jsxs("span",{className:"text-[17px] font-[800] text-header-navy flex items-center gap-2",children:[a.jsx(Jj,{className:"w-5 h-5"}),"   "]})}),d.photos.length>0?d.photos.map((_,k)=>a.jsx(Pu,{icon:a.jsx(Pr,{className:"w-6 h-6 text-muted-foreground"}),title:_.name,sub:_.date},`p-${k}`)):a.jsx("p",{className:"text-[14px] text-muted-foreground mb-2",children:"  ."}),d.drawings.length>0?d.drawings.map((_,k)=>a.jsx(Pu,{icon:a.jsx(Jr,{className:"w-6 h-6 text-muted-foreground"}),title:_.name,sub:_.date},`d-${k}`)):a.jsx("p",{className:"text-[14px] text-muted-foreground",children:"  ."})]}),a.jsxs("div",{className:"bg-card rounded-2xl p-5 mb-4 shadow-soft",children:[a.jsx("div",{className:"flex justify-between items-center mb-4 pb-3 border-b border-border",children:a.jsxs("span",{className:"text-[17px] font-[800] text-header-navy flex items-center gap-2",children:[a.jsx(wb,{className:"w-5 h-5"}),"  "]})}),a.jsx(sl,{title:" ",children:d.certDocs.length>0?d.certDocs.map((_,k)=>a.jsx(Pu,{icon:a.jsx(Kl,{className:"w-6 h-6 text-muted-foreground"}),title:_.name,sub:_.date},k)):a.jsx("p",{className:"text-[14px] text-muted-foreground",children:"  ."})}),a.jsx(sl,{title:"",children:a.jsx(Ru,{label:" "})}),a.jsx(sl,{title:"",children:a.jsx(Ru,{label:" "})}),a.jsx(sl,{title:" ",noBorder:!0,children:a.jsx(Ru,{label:"  "})})]})]})]})]})}function Pu({icon:e,title:t,sub:r}){return a.jsxs("div",{className:"flex items-center justify-between bg-card border border-border p-4 rounded-xl mb-2.5 cursor-pointer transition-all active:scale-[0.98] hover:bg-muted/50",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e,a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-[15px] font-bold text-foreground truncate",children:t}),a.jsx("div",{className:"text-[13px] text-muted-foreground",children:r})]})]}),a.jsx(Ss,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"})]})}function sl({title:e,children:t,noBorder:r}){return a.jsxs("div",{className:F("mb-6",!r&&""),children:[a.jsx("div",{className:"text-[15px] font-bold text-text-sub mb-2",children:e}),t]})}function Ru({label:e}){return a.jsxs("button",{className:"w-full h-[54px] border border-dashed border-primary bg-primary/[0.04] text-primary rounded-xl font-bold text-[15px] flex items-center justify-center gap-2 cursor-pointer transition-all hover:bg-primary/[0.08] active:scale-[0.98] mt-2",children:[a.jsx(Ad,{className:"w-[18px] h-[18px]"})," ",e]})}const px={draft:{label:"",className:"bg-blue-50 text-blue-500 border-blue-200",next:"pending"},pending:{label:"",className:"bg-indigo-50 text-indigo-500 border-indigo-200",next:"approved"},approved:{label:"",className:"bg-muted text-muted-foreground border-border"},rejected:{label:"",className:"bg-red-50 text-red-600 border-red-200",next:"draft"}},I4=[{key:"all",label:""},{key:"draft",label:""},{key:"pending",label:""},{key:"approved",label:""},{key:"rejected",label:""}];function L4(){const{isPartner:e}=As();return e?a.jsx(A4,{}):a.jsx(D4,{})}function D4(){const[e,t]=m.useState(""),[r,n]=m.useState("all"),[s,o]=m.useState(null),[i,l]=m.useState(null),{data:c=[],isLoading:u}=Rf(),h=d4(),d=h4(),f=m.useMemo(()=>c.filter(x=>r==="all"||x.status===r).filter(x=>{var g;return x.siteName.toLowerCase().includes(e.toLowerCase())||x.workDate.includes(e)||((g=x.workSets)==null?void 0:g.some(b=>{const j=b.member===""?b.customMemberValue:b.member,N=b.process===""?b.customProcessValue:b.process;return j&&j.includes(e)||N&&N.includes(e)}))}).sort((x,g)=>g.workDate.localeCompare(x.workDate)||g.createdAt.localeCompare(x.createdAt)),[c,r,e]),p=m.useMemo(()=>({all:c.length,draft:c.filter(x=>x.status==="draft").length,pending:c.filter(x=>x.status==="pending").length,approved:c.filter(x=>x.status==="approved").length,rejected:c.filter(x=>x.status==="rejected").length}),[c]),v=(x,g)=>{h.mutate({id:x,status:g},{onSuccess:()=>le.success(` "${px[g].label}"() `)})},y=x=>{window.confirm("  ?")&&d.mutate(x,{onSuccess:()=>{o(null),le.success(" ")}})},w=x=>{var g;return((g=x.manpower)==null?void 0:g.reduce((b,j)=>b+(j.workHours||0),0))||0};return u?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):a.jsxs("div",{className:"animate-fade-in",children:[a.jsxs("div",{className:"relative mb-3 mt-3",children:[a.jsx("input",{value:e,onChange:x=>t(x.target.value),placeholder:"    ",className:"w-full h-[50px] bg-card border border-border rounded-xl px-4 pr-12 text-base-app font-medium text-foreground placeholder:text-muted-foreground transition-all hover:border-primary/50 focus:border-primary focus:shadow-[0_0_0_3px_rgba(49,163,250,0.15)] outline-none"}),e?a.jsx("button",{onClick:()=>t(""),className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 rounded-full bg-muted flex items-center justify-center",children:a.jsx(_e,{className:"w-3 h-3 text-muted-foreground"})}):a.jsx(Rt,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"})]}),a.jsx("div",{className:"flex gap-1.5 mb-4 overflow-x-auto pb-1 no-scrollbar",children:I4.map(x=>a.jsxs("button",{onClick:()=>n(x.key),className:F("h-10 px-3.5 rounded-full text-sm-app font-medium whitespace-nowrap flex-shrink-0 border transition-all cursor-pointer flex items-center gap-1.5",r===x.key?"bg-header-navy text-header-navy-foreground border-transparent shadow-none":"bg-card text-muted-foreground border-border hover:bg-muted/40 hover:border-border"),children:[x.label,p[x.key]>0&&a.jsx("span",{className:F("min-w-[18px] h-[18px] rounded-full text-[10px] font-[900] flex items-center justify-center",r===x.key?"bg-white/20 text-white":"bg-muted text-muted-foreground"),children:p[x.key]})]},x.key))}),f.length===0&&a.jsxs("div",{className:"text-center py-20",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-muted rounded-full mb-5",children:a.jsx(Mo,{className:"w-8 h-8 text-muted-foreground opacity-60"})}),a.jsx("p",{className:"text-base-app font-medium text-muted-foreground mb-2",children:c.length===0?"  ":"  "}),c.length===0&&a.jsx("p",{className:"text-sm-app text-muted-foreground",children:"     "})]}),a.jsx("div",{className:"space-y-3",children:f.map(x=>{var S,z,M,L;const g=px[x.status],b=s===x.id,j=w(x),N=((S=x.manpower)==null?void 0:S.length)||0,_=(z=x.workSets)==null?void 0:z[0],k=_?_.member===""?_.customMemberValue:_.member:"",E=_?_.process===""?_.customProcessValue:_.process:"",A=[k,E].filter(Boolean).join("  ")||" ";return a.jsxs("div",{className:"bg-card rounded-2xl shadow-soft overflow-hidden transition-all",children:[a.jsxs("div",{className:"p-5 cursor-pointer active:bg-muted/30 transition-colors",onClick:()=>o(b?null:x.id),children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Mo,{className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"text-sm-app text-text-sub font-medium",children:x.workDate}),x.version>1&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-sm-app text-text-sub",children:""}),a.jsxs("span",{className:"text-tiny text-muted-foreground font-medium",children:["v",x.version]})]})]}),a.jsx("span",{className:F("text-tiny font-bold px-2.5 py-1 rounded-full border",g.className),children:g.label})]}),a.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[a.jsx(Ye,{className:"w-4 h-4 text-primary flex-shrink-0"}),a.jsx("span",{className:"text-sm-app text-primary font-bold truncate",children:x.siteName})]}),a.jsx("p",{className:"text-base-app font-bold text-foreground mb-2 truncate",children:A}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-sm-app text-text-sub font-medium",children:[" ",N,""]}),a.jsx("span",{className:"text-sm-app text-text-sub",children:""}),a.jsxs("span",{className:"text-sm-app text-text-sub font-medium",children:[j.toFixed(1),""]}),x.photoCount>0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-sm-app text-text-sub",children:""}),a.jsxs("span",{className:"text-sm-app text-text-sub font-medium",children:[" ",x.photoCount]})]})]}),a.jsx(nt,{className:F("w-5 h-5 text-muted-foreground transition-transform",b&&"rotate-180")})]})]}),b&&a.jsxs("div",{className:"px-5 pb-5 border-t border-border animate-slide-down",children:[a.jsxs("div",{className:"py-3 border-b border-dashed border-border",children:[a.jsx("div",{className:"text-sm-app font-bold text-text-sub mb-2",children:" "}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(M=x.manpower)==null?void 0:M.map((O,q)=>a.jsxs("span",{className:"text-sm-app bg-muted px-3 py-1.5 rounded-lg font-medium",children:[O.worker," ",a.jsx("span",{className:"text-primary font-bold",children:O.workHours.toFixed(1)})]},q))})]}),a.jsxs("div",{className:"py-3 border-b border-dashed border-border",children:[a.jsx("div",{className:"text-sm-app font-bold text-text-sub mb-2",children:" "}),(L=x.workSets)==null?void 0:L.map((O,q)=>{var D,K,Q;const V=O.member===""?O.customMemberValue:O.member,$=O.process===""?O.customProcessValue:O.process,P=O.type===""?O.customTypeValue:O.type,I=[(D=O.location)==null?void 0:D.block,(K=O.location)==null?void 0:K.dong,(Q=O.location)==null?void 0:Q.floor].filter(Boolean).join("/");return a.jsxs("div",{className:"text-sm-app mb-1.5",children:[a.jsx("span",{className:"font-bold text-foreground",children:V}),$&&a.jsxs("span",{className:"text-text-sub",children:["  ",$]}),P&&a.jsxs("span",{className:"text-text-sub",children:["  ",P]}),I&&a.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",I,")"]})]},q)})]}),x.materials&&x.materials.length>0&&a.jsxs("div",{className:"py-3 border-b border-dashed border-border",children:[a.jsx("div",{className:"text-sm-app font-bold text-text-sub mb-2",children:" "}),x.materials.map((O,q)=>a.jsxs("div",{className:"text-sm-app flex justify-between",children:[a.jsx("span",{children:O.name}),a.jsxs("span",{className:"text-primary font-bold",children:[O.qty,""]})]},q))]}),a.jsxs("div",{className:"py-3 border-b border-dashed border-border text-tiny text-muted-foreground",children:[a.jsxs("div",{children:[": ",new Date(x.createdAt).toLocaleString("ko-KR")]}),x.updatedAt&&a.jsxs("div",{children:[": ",new Date(x.updatedAt).toLocaleString("ko-KR")]})]}),a.jsxs("div",{className:"flex gap-2 pt-3",children:[x.status==="draft"&&a.jsxs("button",{onClick:()=>v(x.id,"pending"),className:"flex-1 h-11 bg-indigo-50 text-indigo-600 border border-indigo-200 rounded-xl font-bold text-sm-app flex items-center justify-center gap-1.5",children:[a.jsx(Dn,{className:"w-4 h-4"})," "]}),x.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>v(x.id,"approved"),className:"flex-1 h-11 bg-emerald-50 text-emerald-600 border border-emerald-200 rounded-xl font-bold text-sm-app flex items-center justify-center gap-1.5",children:[a.jsx(Ca,{className:"w-4 h-4"})," "]}),a.jsxs("button",{onClick:()=>v(x.id,"rejected"),className:"flex-1 h-11 bg-red-50 text-red-600 border border-red-200 rounded-xl font-bold text-sm-app flex items-center justify-center gap-1.5",children:[a.jsx(hf,{className:"w-4 h-4"})," "]})]}),x.status==="rejected"&&a.jsxs("button",{onClick:()=>v(x.id,"draft"),className:"flex-1 h-11 bg-blue-50 text-blue-600 border border-blue-200 rounded-xl font-bold text-sm-app flex items-center justify-center gap-1.5",children:[a.jsx(_b,{className:"w-4 h-4"})," "]}),a.jsx("button",{onClick:()=>l(x),className:"h-11 px-4 bg-primary-bg text-primary border border-primary/30 rounded-xl font-bold text-sm-app flex items-center justify-center gap-1.5",children:""}),a.jsx("button",{onClick:()=>y(x.id),className:"h-11 px-3 bg-destructive/10 text-destructive border border-destructive/20 rounded-xl font-bold text-sm-app flex items-center justify-center",children:a.jsx(bi,{className:"w-4 h-4"})})]})]})]},x.id)})}),a.jsx(av,{open:!!i,onClose:()=>l(null),title:i?`${i.siteName}  `:"",children:i&&a.jsx(iv,{entry:i})})]})}function M4(){const{isAdmin:e}=As(),[t,r]=m.useState(""),[n,s]=m.useState("latest"),[o,i]=m.useState("all"),[l,c]=m.useState(!1),[u,h]=m.useState(()=>{const L=localStorage.getItem("admin_pinned_ids");return L?new Set(JSON.parse(L)):new Set}),[d,f]=m.useState(null),[p,v]=m.useState(1),[y,w]=m.useState(""),x=ut(),{data:g=[],isLoading:b}=bt({queryKey:["admin-worklogs"],queryFn:async()=>{const{data:L,error:O}=await ee.from("worklogs").select(`
          id, site_name, site_id, work_date, status, created_by, created_at, dept, weather,
          worklog_manpower(worker_name, work_hours),
          worklog_worksets(member, process, work_type, block, dong, floor),
          worklog_materials(name, qty)
        `).order("created_at",{ascending:!1}).limit(100);if(O)throw O;const q=[...new Set((L||[]).map(P=>P.created_by))],{data:V}=await ee.from("profiles").select("user_id, name, phone, affiliation").in("user_id",q),$={};return V==null||V.forEach(P=>{$[P.user_id]=P}),(L||[]).map(P=>{const I=$[P.created_by],D=P.worklog_manpower||[],K=P.worklog_worksets||[],Q=P.worklog_materials||[],B=K[0],T=D.reduce((se,te)=>se+(te.work_hours||0),0),J=B&&[B.block,B.dong,B.floor].filter(Boolean).join(" ")||"";return{id:P.id,name:(I==null?void 0:I.name)||"",role:"",affiliation:(I==null?void 0:I.affiliation)||"",site:P.site_name,siteId:P.site_id,member:(B==null?void 0:B.member)||"-",process:(B==null?void 0:B.process)||"-",workType:(B==null?void 0:B.work_type)||"-",location:J,man:T,cumDays:0,cumMan:0,task:K.map(se=>`${se.member||""} ${se.process||""}`).join(", ")||"  ",status:P.status==="draft"||P.status==="submitted"?"pending":P.status,latestDate:P.created_at,phone:(I==null?void 0:I.phone)||"",pinned:!1,worklogId:P.id,materials:Q.map(se=>`${se.name} (${se.qty})`).join("  ")||"-"}})}}),j=gt({mutationFn:async({worklogId:L,newStatus:O})=>{const{error:q}=await ee.from("worklogs").update({status:O}).eq("id",L);if(q)throw q},onSuccess:()=>{x.invalidateQueries({queryKey:["admin-worklogs"]}),f(null),w(""),v(1)}}),N=m.useCallback(L=>{h(O=>{const q=new Set(O);return q.has(L)?q.delete(L):q.add(L),localStorage.setItem("admin_pinned_ids",JSON.stringify([...q])),q})},[]),_=m.useMemo(()=>g.map(L=>({...L,pinned:u.has(L.id)})),[g,u]),k=m.useMemo(()=>{let L=_.filter(O=>{const q=t.toLowerCase(),V=!q||O.name.toLowerCase().includes(q)||O.site.toLowerCase().includes(q),$=o==="all"||O.status===o;return V&&$});return L.sort((O,q)=>O.pinned!==q.pinned?O.pinned?-1:1:n==="name"?O.name.localeCompare(q.name,"ko"):new Date(q.latestDate).getTime()-new Date(O.latestDate).getTime()),L},[_,t,o,n]),E=l?k:k.slice(0,3),A=m.useMemo(()=>({all:_.length,pending:_.filter(L=>L.status==="pending").length,approved:_.filter(L=>L.status==="approved").length}),[_]),S=L=>{if(!L)return"";const O=new Date(L);return`${String(O.getMonth()+1).padStart(2,"0")}.${String(O.getDate()).padStart(2,"0")}.${String(O.getFullYear()).slice(2)}`},z=()=>{d&&j.mutate({worklogId:d.worklogId,newStatus:"approved"})},M=()=>{if(d){if(!y.trim()){alert("  .");return}j.mutate({worklogId:d.worklogId,newStatus:"rejected"})}};return b?a.jsx("div",{className:"py-20 text-center text-muted-foreground",children:" ..."}):a.jsxs("div",{className:"animate-fade-in mt-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("input",{type:"text",value:t,onChange:L=>r(L.target.value),placeholder:"   ",className:"w-full h-[54px] bg-card border border-border rounded-xl pl-4 pr-[75px] text-[17px] font-medium text-foreground placeholder:text-muted-foreground outline-none transition-all shadow-soft hover:border-primary/50 focus:border-primary focus:shadow-[0_0_0_3px_rgba(49,163,250,0.15)]"}),a.jsxs("div",{className:"absolute right-3.5 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[t&&a.jsx("button",{onClick:()=>r(""),className:"w-5 h-5 rounded-full bg-muted flex items-center justify-center text-muted-foreground",children:a.jsx(_e,{className:"w-3 h-3"})}),a.jsx(Rt,{className:"w-5 h-5 text-muted-foreground"})]})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:n,onChange:L=>s(L.target.value),className:"w-[95px] h-[54px] bg-card border border-border rounded-xl px-3 text-[15px] font-semibold text-foreground appearance-none outline-none cursor-pointer shadow-soft transition-all hover:border-primary/50 focus:border-primary focus:shadow-[0_0_0_3px_rgba(49,163,250,0.15)]",children:[a.jsx("option",{value:"latest",children:""}),a.jsx("option",{value:"name",children:""})]}),a.jsx(nt,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground pointer-events-none"})]})]}),a.jsx("div",{className:"grid grid-cols-3 gap-2.5 mb-5",children:[{key:"all",label:" ",val:A.all,colors:"bg-[hsl(217_100%_96%)] text-[#3b82f6] border-[#bfdbfe]"},{key:"pending",label:" ",val:A.pending,colors:"bg-[hsl(229_100%_96%)] text-[#6366f1] border-[#c7d2fe]"},{key:"approved",label:" ",val:A.approved,colors:"bg-muted text-text-sub border-[#94a3b8]"}].map(L=>a.jsxs("button",{onClick:()=>{i(L.key),c(!1)},className:F("p-3.5 rounded-2xl text-center flex flex-col items-center gap-0.5 border cursor-pointer transition-all active:scale-[0.98]",L.colors,o===L.key&&"ring-1 ring-primary/30 -translate-y-px"),children:[a.jsx("span",{className:"text-[22px] font-[800] leading-tight",children:L.val}),a.jsx("span",{className:"text-[12px] font-bold opacity-90",children:L.label})]},L.key))}),k.length===0?a.jsx("div",{className:"text-center py-20 text-muted-foreground",children:"  ."}):a.jsx("div",{className:"flex flex-col gap-2",children:E.map(L=>a.jsxs("div",{className:F("bg-card rounded-2xl shadow-soft overflow-hidden relative",L.pinned&&"border-2 border-primary shadow-[0_4px_12px_rgba(49,163,250,0.2)]"),children:[a.jsx("span",{className:F("absolute top-0 right-0 text-[11px] font-bold px-3.5 py-1.5 text-white z-10",L.pinned?"rounded-bl-xl rounded-tr-[14px]":"rounded-bl-xl rounded-tr-2xl",L.status==="pending"?"bg-[#6366f1]":L.status==="approved"?"bg-[#475569]":"bg-destructive"),children:L.status==="pending"?"":L.status==="approved"?"":""}),a.jsxs("div",{className:"p-5 pb-3 cursor-pointer",onClick:()=>{f(L),v(1)},children:[a.jsxs("div",{className:"flex items-center gap-1.5 mb-1 flex-wrap",children:[a.jsx("span",{className:"text-[20px] font-[800] text-header-navy",children:L.name}),a.jsx("span",{className:"text-[16px] font-semibold text-text-sub ml-2",children:L.role})]}),a.jsxs("div",{className:"flex items-center justify-between w-full mt-1",children:[a.jsxs("div",{className:"flex items-center gap-1 flex-1 min-w-0 overflow-hidden",children:[a.jsx("span",{className:"text-[14px] font-semibold px-2 py-0.5 rounded-lg bg-[hsl(229_100%_96%)] text-[#6366f1] border border-[#c7d2fe] shrink-0",children:L.affiliation}),a.jsx("span",{className:"text-[17px] font-[800] text-header-navy truncate",children:L.site})]}),a.jsx("button",{onClick:O=>{O.stopPropagation(),N(L.id)},className:F("p-1 shrink-0 ml-2 transition-colors",L.pinned?"text-primary":"text-border"),children:L.pinned?a.jsx(Cc,{className:"w-6 h-6 fill-current"}):a.jsx(Sc,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex items-center gap-1 mt-2 text-[14px] text-text-sub font-semibold",children:[a.jsxs("span",{className:"text-[#0369a1] font-[800]",children:[S(L.latestDate)," l"]}),a.jsx(Ye,{className:"w-3.5 h-3.5 mr-1"}),a.jsxs("span",{children:[L.member,"  ",L.process,"  ",L.location]})]}),a.jsxs("div",{className:"grid grid-cols-3 bg-muted/50 rounded-xl p-3 mt-3 border border-border/50",children:[a.jsxs("div",{className:"text-center border-r border-border",children:[a.jsx("span",{className:"block text-[17px] font-[800] text-primary",children:L.man}),a.jsx("span",{className:"block text-[11px] font-bold text-text-sub",children:" "})]}),a.jsxs("div",{className:"text-center border-r border-border",children:[a.jsxs("span",{className:"block text-[17px] font-[800] text-primary",children:[L.cumDays,""]}),a.jsx("span",{className:"block text-[11px] font-bold text-text-sub",children:" "})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"block text-[17px] font-[800] text-primary",children:L.cumMan}),a.jsx("span",{className:"block text-[11px] font-bold text-text-sub",children:" "})]})]})]}),a.jsxs("div",{className:"px-5 pb-4 flex gap-2",children:[L.phone&&a.jsxs("a",{href:`tel:${L.phone}`,onClick:O=>O.stopPropagation(),className:"flex-1 h-12 flex items-center justify-center gap-1.5 text-[14px] font-bold rounded-xl border bg-[hsl(138_76%_97%)] border-[#bbf7d0] text-[#166534] cursor-pointer transition-all active:scale-[0.98]",children:[a.jsx(Bn,{className:"w-3.5 h-3.5"}),""]}),L.phone&&a.jsxs("a",{href:`sms:${L.phone}`,onClick:O=>O.stopPropagation(),className:"flex-1 h-12 flex items-center justify-center gap-1.5 text-[14px] font-bold rounded-xl border bg-[hsl(229_100%_96%)] border-[#c7d2fe] text-[#6366f1] cursor-pointer transition-all active:scale-[0.98]",children:[a.jsx(t2,{className:"w-3.5 h-3.5"}),""]}),a.jsxs("button",{onClick:O=>{O.stopPropagation(),f(L),v(1)},className:"flex-1 h-12 flex items-center justify-center gap-1.5 text-[14px] font-[800] rounded-xl border bg-muted border-[#94a3b8] text-[#334155] cursor-pointer transition-all active:scale-[0.98] shadow-sm",children:[a.jsx(Fo,{className:"w-3.5 h-3.5"}),""]})]})]},L.id))}),k.length>3&&a.jsxs("button",{onClick:()=>c(!l),className:"w-full h-[54px] bg-card border border-border rounded-full text-text-sub font-semibold text-[15px] cursor-pointer mt-2.5 mb-4 flex items-center justify-center gap-1.5 transition-all hover:bg-muted",children:[a.jsx("span",{children:l?"":" "}),l?a.jsx(gi,{className:"w-4 h-4"}):a.jsx(nt,{className:"w-4 h-4"})]}),d&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-[2000] flex items-end justify-center p-0",onClick:()=>{f(null),v(1),w("")},children:a.jsxs("div",{className:"w-full max-w-[600px] bg-card rounded-t-[20px] p-6 max-h-[90vh] overflow-y-auto animate-slide-up",onClick:L=>L.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsx("h3",{className:"text-[20px] font-bold text-foreground m-0",children:" "}),a.jsx("button",{onClick:()=>{f(null),v(1),w("")},className:"bg-transparent border-none text-text-sub cursor-pointer p-1",children:a.jsx(_e,{className:"w-6 h-6"})})]}),p===1&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-muted/50 rounded-[14px] p-[18px] mb-4 border border-border",children:[a.jsxs("div",{className:"text-[14px] font-[800] text-header-navy mb-2.5 flex items-center gap-1.5",children:[a.jsx(Jt,{className:"w-4 h-4"}),"    "]}),a.jsx("div",{className:"text-[16px] font-[800] text-foreground leading-relaxed",children:d.task})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[a.jsxs("div",{className:"bg-muted/50 p-4 rounded-xl border border-border/50",children:[a.jsx("span",{className:"block text-[13px] font-[800] text-text-sub mb-1.5",children:" "}),a.jsxs("div",{className:"text-[19px] font-[900] text-header-navy",children:[d.man," "]})]}),a.jsxs("div",{className:"bg-muted/50 p-4 rounded-xl border border-border/50",children:[a.jsx("span",{className:"block text-[13px] font-[800] text-text-sub mb-1.5",children:" "}),a.jsx("div",{className:"text-[19px] font-[900] text-header-navy",children:new Date(d.latestDate).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})})]})]}),a.jsxs("button",{onClick:()=>v(2),className:"w-full h-14 rounded-xl text-[16px] font-[900] border border-[#e0f2fe] bg-[hsl(205_100%_97%)] text-[#0284c7] flex items-center justify-center gap-2 cursor-pointer mb-3",children:["   ",a.jsx(Dn,{className:"w-5 h-5"})]}),e&&a.jsx("button",{onClick:z,disabled:j.isPending,className:"w-full h-14 rounded-xl text-[16px] font-[900] border-none bg-header-navy text-white cursor-pointer shadow-[0_8px_22px_rgba(26,37,79,0.18)] disabled:opacity-50",children:" "})]}),p===2&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>v(1),className:"flex items-center gap-1.5 text-text-sub font-bold mb-4 cursor-pointer bg-transparent border-none p-0",children:[a.jsx(po,{className:"w-5 h-5"})," "]}),a.jsxs("div",{className:"bg-muted/50 rounded-[14px] p-[18px] mb-4 border border-border",children:[a.jsxs("div",{className:"text-[14px] font-[800] text-header-navy mb-2.5 flex items-center gap-1.5",children:[a.jsx(Jr,{className:"w-4 h-4"}),"    "]}),a.jsxs("div",{className:"text-[16px] font-[800] text-foreground",children:[d.member,"  ",d.process,"  ",d.location]})]}),a.jsxs("div",{className:"bg-muted/50 rounded-[14px] p-[18px] mb-4 border border-border",children:[a.jsxs("div",{className:"text-[14px] font-[800] text-header-navy mb-2.5 flex items-center gap-1.5",children:[a.jsx(n2,{className:"w-4 h-4"}),"   "]}),a.jsx("div",{className:"text-[13px] font-[800] text-foreground",children:d.materials})]}),e&&a.jsx("textarea",{value:y,onChange:L=>w(L.target.value),placeholder:"     .",className:"w-full h-24 p-3.5 border border-border rounded-xl text-[13px] font-bold outline-none resize-none mb-3.5 focus:border-primary focus:shadow-[0_0_0_3px_rgba(49,163,250,0.12)]"}),e?a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:M,disabled:j.isPending,className:"flex-1 h-14 rounded-xl text-[16px] font-[900] border-[1.5px] border-[#fecaca] bg-[hsl(0_100%_97%)] text-destructive cursor-pointer disabled:opacity-50",children:" "}),a.jsx("button",{onClick:z,disabled:j.isPending,className:"flex-1 h-14 rounded-xl text-[16px] font-[900] border-none bg-header-navy text-white cursor-pointer disabled:opacity-50",children:" "})]}):a.jsx("div",{className:"text-center py-3 text-[14px] font-semibold text-text-sub bg-muted rounded-xl",children:"   /  "})]})]})})]})}const $4=["","","","","","",""],F4={"2026-01-02":[{site:"",people:2,note:" "}],"2026-01-03":[{site:" Y1CUB",people:1,note:""},{site:"",people:3,note:""}],"2026-01-04":[{site:"",people:1,note:" "}],"2026-01-05":[{site:"",people:1,note:" "},{site:"",people:2,note:""}],"2026-01-06":[{site:"  2",people:2,note:"  "}],"2026-02-03":[{site:"  101",people:3,note:""}],"2026-02-05":[{site:"  P3",people:2,note:""}],"2026-02-10":[{site:"  101",people:4,note:""},{site:" ",people:1,note:""}],"2026-02-12":[{site:"  ",people:5,note:" "}],"2026-02-18":[{site:" ",people:3,note:" "}],"2026-02-20":[{site:" 4",people:6,note:" "}],"2026-02-23":[{site:"  101",people:2,note:""}]};function U4(){const e=new Date,[t,r]=m.useState(e.getFullYear()),[n,s]=m.useState(e.getMonth()+1),[o,i]=m.useState(""),[l,c]=m.useState(!1),[u,h]=m.useState(!1),[d,f]=m.useState(e.getFullYear()),[p,v]=m.useState(null),y=F4,w=m.useMemo(()=>{const N=new Date(t,n-1,1).getDay(),_=new Date(t,n,0).getDate(),k=[];for(let E=1;E<=_;E++){const A=`${t}-${String(n).padStart(2,"0")}-${String(E).padStart(2,"0")}`;let S=y[A]||[];o&&(S=S.filter(M=>M.site===o));const z=e.getFullYear()===t&&e.getMonth()+1===n&&e.getDate()===E;k.push({day:E,isToday:z,entries:S})}return{firstDay:N,cells:k}},[t,n,o,y]),x=m.useMemo(()=>{const N=new Set;let _=0,k=0;return w.cells.forEach(E=>{E.entries.length>0&&(k++,E.entries.forEach(A=>{N.add(A.site),_+=A.people}))}),{totalSites:N.size,totalPeople:_,workedDays:k}},[w]),b=m.useMemo(()=>{const N=new Set;return Object.values(y).forEach(_=>_.forEach(k=>N.add(k.site))),Array.from(N).sort()},[y]).filter(N=>N.toLowerCase().includes(o.toLowerCase())),j=N=>{let _=n+N,k=t;_>12&&(_=1,k++),_<1&&(_=12,k--),s(_),r(k)};return a.jsxs("div",{className:"animate-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[a.jsx("input",{type:"text",value:o,onChange:N=>{i(N.target.value),c(!0)},onFocus:()=>c(!0),placeholder:"   ",className:"w-full h-[50px] bg-card border border-border rounded-xl px-4 pr-12 text-[17px] font-medium text-foreground placeholder:text-muted-foreground outline-none transition-all hover:border-primary/50 focus:border-primary focus:shadow-[0_0_0_3px_rgba(49,163,250,0.15)]"}),o&&a.jsx("button",{onClick:()=>{i(""),c(!1)},className:"absolute right-10 top-1/2 -translate-y-1/2 w-5 h-5 rounded-full bg-muted flex items-center justify-center text-[12px] text-muted-foreground z-10",children:""}),a.jsx("button",{onClick:()=>c(!l),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground",children:a.jsx(nt,{className:"w-5 h-5"})}),l&&a.jsx("ul",{className:"absolute z-50 w-full mt-1.5 max-h-60 overflow-auto bg-card border border-border rounded-xl shadow-lg animate-fade-in",children:b.length===0?a.jsx("li",{className:"p-4 text-muted-foreground text-center text-sm-app",children:"  "}):b.map(N=>a.jsx("li",{onClick:()=>{i(N),c(!1)},className:"px-4 py-3.5 cursor-pointer border-b border-border last:border-0 text-[16px] font-medium text-foreground hover:bg-muted transition-colors",children:N},N))})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>{f(t),h(!u)},className:F("flex items-center justify-between min-w-[145px] h-[54px] px-4 bg-card border border-border rounded-xl text-[17px] font-bold text-foreground cursor-pointer transition-all hover:border-primary/50",u&&"border-primary shadow-[0_0_0_3px_rgba(49,163,250,0.15)]"),children:[a.jsxs("span",{children:[t," ",n,""]}),a.jsx(Mo,{className:"w-[18px] h-[18px] text-muted-foreground ml-2"})]}),u&&a.jsxs("div",{className:"absolute top-[calc(100%+8px)] right-0 w-[280px] bg-card border border-border rounded-2xl shadow-lg p-4 z-[1000] animate-fade-in",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 px-1",children:[a.jsx("button",{onClick:()=>f(N=>N-1),className:"p-1 hover:bg-muted rounded",children:a.jsx(po,{className:"w-[18px] h-[18px]"})}),a.jsxs("span",{className:"font-bold text-lg-app",children:[d,""]}),a.jsx("button",{onClick:()=>f(N=>N+1),className:"p-1 hover:bg-muted rounded",children:a.jsx(Dn,{className:"w-[18px] h-[18px]"})})]}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:Array.from({length:12},(N,_)=>_+1).map(N=>a.jsxs("button",{onClick:()=>{r(d),s(N),h(!1)},className:F("h-11 rounded-lg text-[15px] font-semibold cursor-pointer transition-all border-none",d===t&&N===n?"bg-primary/10 text-primary font-[800]":"text-text-sub hover:bg-muted hover:text-primary"),children:[N,""]},N))})]})]})]}),a.jsxs("div",{className:"rounded-2xl overflow-hidden mb-4 bg-card shadow-soft",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-border",children:[a.jsx("button",{onClick:()=>j(-1),className:"bg-transparent border-none cursor-pointer text-text-sub p-2 hover:bg-muted rounded-full",children:a.jsx(po,{className:"w-7 h-7"})}),a.jsxs("span",{className:"text-[22px] font-[800] text-foreground",children:[t," ",n,""]}),a.jsx("button",{onClick:()=>j(1),className:"bg-transparent border-none cursor-pointer text-text-sub p-2 hover:bg-muted rounded-full",children:a.jsx(Dn,{className:"w-7 h-7"})})]}),a.jsxs("div",{className:"grid grid-cols-7",children:[$4.map((N,_)=>a.jsx("div",{className:F("h-9 flex items-center justify-center text-[14px] font-bold border-b border-border bg-muted/50",_===0?"text-destructive":_===6?"text-primary":"text-text-sub"),children:N},N)),Array.from({length:w.firstDay}).map((N,_)=>a.jsx("div",{className:"min-h-[96px] border-b border-r border-border bg-card"},`empty-${_}`)),w.cells.map(N=>{const _=(w.firstDay+N.day-1)%7,k=N.entries.reduce((E,A)=>E+A.people,0);return a.jsxs("div",{onClick:()=>N.entries.length>0&&v({date:`${t}-${String(n).padStart(2,"0")}-${String(N.day).padStart(2,"0")}`,entries:N.entries}),className:F("min-h-[96px] p-1.5 flex flex-col items-center gap-0.5 cursor-pointer border-b border-border bg-card hover:bg-muted transition-colors",_<6&&"border-r"),children:[a.jsx("span",{className:F("text-[15px] font-bold w-[26px] h-[26px] rounded-full flex items-center justify-center mb-1",N.isToday?"bg-header-navy text-white font-[800]":_===0?"text-destructive":_===6?"text-primary":"text-foreground"),children:N.day}),N.entries.length>0&&a.jsxs("div",{className:"w-full flex flex-col items-center",children:[a.jsxs("span",{className:"text-[13px] font-[800] text-primary",children:[k,""]}),a.jsx("span",{className:"text-[11px] font-bold text-text-sub truncate max-w-full text-center",children:N.entries.length===1?N.entries[0].site.replace(/\s+/g,"").slice(0,4):`${N.entries[0].site.replace(/\s+/g,"").slice(0,4)}${N.entries.length-1}`})]})]},N.day)})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2.5 mb-6",children:[a.jsxs("div",{className:"p-4 rounded-2xl text-center flex flex-col gap-1.5 shadow-soft bg-[hsl(201_100%_94%)] text-[#0284c7] border border-[#0284c7]",children:[a.jsx("span",{className:"text-[24px] font-[800] leading-tight tracking-tight",children:x.totalSites}),a.jsx("span",{className:"text-[14px] font-bold opacity-90",children:""})]}),a.jsxs("div",{className:"p-4 rounded-2xl text-center flex flex-col gap-1.5 shadow-soft bg-[hsl(225_33%_95%)] text-[#1e3a8a] border border-[#1e3a8a]",children:[a.jsx("span",{className:"text-[24px] font-[800] leading-tight tracking-tight",children:x.totalPeople}),a.jsx("span",{className:"text-[14px] font-bold opacity-90",children:""})]}),a.jsxs("div",{className:"p-4 rounded-2xl text-center flex flex-col gap-1.5 shadow-soft bg-muted text-text-sub border border-text-sub",children:[a.jsx("span",{className:"text-[24px] font-[800] leading-tight tracking-tight",children:x.workedDays}),a.jsx("span",{className:"text-[14px] font-bold opacity-90",children:""})]})]}),p&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-[3000] flex items-center justify-center p-5",onClick:()=>v(null),children:a.jsxs("div",{className:"bg-card w-full max-w-[440px] rounded-[20px] p-6 shadow-lg max-h-[80vh] overflow-y-auto border border-border",onClick:N=>N.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"text-[20px] font-[800] text-foreground",children:"  "}),a.jsx("button",{onClick:()=>v(null),className:"bg-transparent border-none text-text-sub p-1 cursor-pointer",children:a.jsx(_e,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"text-sm-app text-text-sub mb-3 font-medium",children:p.date}),a.jsx("div",{className:"mt-2",children:p.entries.map((N,_)=>a.jsxs("div",{className:"flex justify-between items-start py-2.5 border-b border-border gap-3",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"text-[15px] font-bold text-foreground truncate",children:N.site}),N.note&&a.jsx("div",{className:"text-[13px] text-muted-foreground mt-0.5",children:N.note})]}),a.jsx("div",{className:"text-right shrink-0",children:a.jsxs("div",{className:"text-[15px] font-[800] text-primary",children:[N.people,""]})})]},_))}),a.jsxs("div",{className:"mt-4 pt-3 border-t border-border flex justify-between items-center",children:[a.jsx("span",{className:"text-[15px] font-bold text-text-sub",children:""}),a.jsxs("span",{className:"text-[18px] font-[800] text-primary",children:[p.entries.reduce((N,_)=>N+_.people,0),""]})]})]})})]})}const z4=["","","","","","",""],mx=[{rawDate:"2026-01",month:"2026 1",baseTotal:6e6,man:26,price:230769,year:2026,netPay:495e4,grossPay:6e6,deductions:105e4},{rawDate:"2026-02",month:"2026 2",baseTotal:58e5,man:24.5,price:236735,year:2026,netPay:4787e3,grossPay:58e5,deductions:1013e3},{rawDate:"2025-12",month:"2025 12",baseTotal:55e5,man:25,price:22e4,year:2025,netPay:4537500,grossPay:55e5,deductions:962500},{rawDate:"2025-11",month:"2025 11",baseTotal:47e5,man:22,price:213636,year:2025,netPay:3871e3,grossPay:47e5,deductions:829e3},{rawDate:"2025-10",month:"2025 10",baseTotal:23e5,man:10,price:23e4,year:2025,netPay:1894100,grossPay:23e5,deductions:405900}];function B4(){const{isAdmin:e,isPartner:t}=As();return t?a.jsx(U4,{}):a.jsx(q4,{isAdmin:e})}function q4({isAdmin:e}){const[t,r]=m.useState("output"),n=new Date,[s,o]=m.useState(n.getFullYear()),[i,l]=m.useState(n.getMonth()+1),[c,u]=m.useState(""),[h,d]=m.useState(!1),[f,p]=m.useState(!1),[v,y]=m.useState(n.getFullYear()),[w,x]=m.useState(!0),[g,b]=m.useState(!1),[j,N]=m.useState(n.getFullYear()),[_,k]=m.useState(null),[E,A]=m.useState("latest"),[S,z]=m.useState(!1),[M,L]=m.useState(n.getFullYear()),[O,q]=m.useState(!1),[V,$]=m.useState(null),[P,I]=m.useState(null),{data:D=[]}=Rf(),K=m.useMemo(()=>{const U={};return D.filter(G=>{const ie=`${s}-${String(i).padStart(2,"0")}`;return G.workDate.startsWith(ie)}).forEach(G=>{var ge,Ee,qe;U[G.workDate]||(U[G.workDate]=[]);const ie=((ge=G.manpower)==null?void 0:ge.reduce((Zt,dt)=>Zt+(dt.workHours||0),0))||0,fe=Math.round(ie*225e3);U[G.workDate].push({site:G.siteName,man:ie,price:fe,worker:((qe=(Ee=G.manpower)==null?void 0:Ee[0])==null?void 0:qe.worker)||""})}),U},[D,s,i]),Q=m.useMemo(()=>{const U=new Date(s,i-1,1).getDay(),R=new Date(s,i,0).getDate(),G=[];for(let ie=1;ie<=R;ie++){const fe=`${s}-${String(i).padStart(2,"0")}-${String(ie).padStart(2,"0")}`;let ge=K[fe]||[];c&&(ge=ge.filter(qe=>qe.site===c));const Ee=n.getFullYear()===s&&n.getMonth()+1===i&&n.getDate()===ie;G.push({day:ie,isToday:Ee,entries:ge})}return{firstDay:U,cells:G}},[s,i,c,K]),B=m.useMemo(()=>{const U=new Set;let R=0,G=0;return Q.cells.forEach(ie=>{ie.entries.length>0&&(G++,ie.entries.forEach(fe=>{U.add(fe.site),R+=fe.man}))}),{totalSites:U.size,totalMan:R.toFixed(1),workedDays:G}},[Q]),J=m.useMemo(()=>{const U=new Set;return Object.values(K).forEach(R=>R.forEach(G=>U.add(G.site))),Array.from(U).sort()},[K]).filter(U=>U.toLowerCase().includes(c.toLowerCase())),se=U=>{let R=i+U,G=s;R>12&&(R=1,G++),R<1&&(R=12,G--),l(R),o(G)},te=m.useMemo(()=>{let U=mx.filter(R=>R.year===j);return _!==null&&(U=U.filter(R=>parseInt(R.rawDate.split("-")[1])===_)),E==="amount"&&(U=[...U].sort((R,G)=>G.baseTotal-R.baseTotal)),U},[j,_,E]),ve=g?te:te.slice(0,3),Re=mx[0],Oe=U=>U.toLocaleString(),xe=U=>{$(U),q(!0)};return a.jsxs("div",{className:"animate-fade-in",children:[a.jsxs("div",{className:"flex border-b border-border -mx-4 px-4 bg-card pt-0",style:{position:"sticky",top:114,zIndex:30},children:[a.jsx("button",{onClick:()=>r("output"),className:F("flex-1 min-w-0 h-12 bg-transparent border-none text-[16px] font-bold cursor-pointer border-b-[3px] transition-all whitespace-nowrap px-1",t==="output"?"text-primary border-b-primary font-[800]":"text-text-sub border-b-transparent"),children:""}),a.jsx("button",{onClick:()=>r("salary"),className:F("flex-1 min-w-0 h-12 bg-transparent border-none text-[16px] font-bold cursor-pointer border-b-[3px] transition-all whitespace-nowrap px-1",t==="salary"?"text-primary border-b-primary font-[800]":"text-text-sub border-b-transparent"),children:""}),e&&a.jsx("button",{onClick:()=>r("admin"),className:F("flex-1 min-w-0 h-12 bg-transparent border-none text-[16px] font-bold cursor-pointer border-b-[3px] transition-all whitespace-nowrap px-1",t==="admin"?"text-primary border-b-primary font-[800]":"text-text-sub border-b-transparent"),children:""})]}),t==="output"&&a.jsxs("div",{className:"animate-fade-in mt-3",children:[a.jsxs("div",{className:"flex items-center gap-3 max-[640px]:gap-2 mb-3",children:[a.jsxs("div",{className:"relative flex-1 min-w-0 md:min-w-[200px]",children:[a.jsx("input",{type:"text",value:c,onChange:U=>{u(U.target.value),d(!0)},onFocus:()=>d(!0),placeholder:"   ",className:"w-full h-[50px] bg-card border border-border rounded-xl px-4 pr-12 text-[17px] font-medium text-foreground placeholder:text-muted-foreground outline-none transition-all hover:border-primary/50 focus:border-primary focus:shadow-[0_0_0_3px_rgba(49,163,250,0.15)]"}),c&&a.jsx("button",{onClick:()=>{u(""),d(!1)},className:"absolute right-10 top-1/2 -translate-y-1/2 w-5 h-5 rounded-full bg-muted flex items-center justify-center text-[12px] text-muted-foreground z-10",children:""}),a.jsx("button",{onClick:()=>d(!h),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground",children:a.jsx(nt,{className:"w-5 h-5"})}),h&&a.jsx("ul",{className:"absolute z-50 w-full mt-1.5 max-h-60 overflow-auto bg-card border border-border rounded-xl shadow-lg animate-fade-in",children:J.length===0?a.jsx("li",{className:"p-4 text-muted-foreground text-center text-sm-app",children:"  "}):J.map(U=>a.jsx("li",{onClick:()=>{u(U),d(!1)},className:"px-4 py-3.5 cursor-pointer border-b border-border last:border-0 text-[16px] font-medium text-foreground hover:bg-muted transition-colors",children:U},U))})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>{y(s),p(!f)},className:F("flex items-center justify-between min-w-[145px] max-[640px]:min-w-[118px] h-[50px] px-4 max-[640px]:px-3 bg-card border border-border rounded-xl text-[17px] max-[640px]:text-[16px] font-bold text-foreground cursor-pointer transition-all hover:border-primary/50",f&&"border-primary shadow-[0_0_0_3px_rgba(49,163,250,0.15)]"),children:[a.jsxs("span",{children:[String(s).slice(-2)," ",i,""]}),a.jsx(Mo,{className:"w-[18px] h-[18px] text-muted-foreground ml-2"})]}),f&&a.jsxs("div",{className:"absolute top-[calc(100%+8px)] right-0 w-[280px] bg-card border border-border rounded-2xl shadow-lg p-4 z-[1000] animate-fade-in",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 px-1",children:[a.jsx("button",{onClick:()=>y(U=>U-1),className:"p-1 hover:bg-muted rounded",children:a.jsx(po,{className:"w-[18px] h-[18px]"})}),a.jsxs("span",{className:"font-bold text-lg-app",children:[v,""]}),a.jsx("button",{onClick:()=>y(U=>U+1),className:"p-1 hover:bg-muted rounded",children:a.jsx(Dn,{className:"w-[18px] h-[18px]"})})]}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:Array.from({length:12},(U,R)=>R+1).map(U=>a.jsxs("button",{onClick:()=>{o(v),l(U),p(!1)},className:F("h-11 rounded-lg text-[15px] font-semibold cursor-pointer transition-all border-none",v===s&&U===i?"bg-primary/10 text-primary font-[800]":"text-text-sub hover:bg-muted hover:text-primary"),children:[U,""]},U))})]})]})]}),a.jsxs("div",{className:"rounded-2xl overflow-hidden mb-4 bg-card shadow-soft",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-border",children:[a.jsx("button",{onClick:()=>se(-1),className:"bg-transparent border-none cursor-pointer text-text-sub p-2 hover:bg-muted rounded-full",children:a.jsx(po,{className:"w-7 h-7"})}),a.jsxs("span",{className:"text-[22px] font-[800] text-foreground",children:[s," ",i,""]}),a.jsx("button",{onClick:()=>se(1),className:"bg-transparent border-none cursor-pointer text-text-sub p-2 hover:bg-muted rounded-full",children:a.jsx(Dn,{className:"w-7 h-7"})})]}),a.jsxs("div",{className:"grid grid-cols-7",children:[z4.map((U,R)=>a.jsx("div",{className:F("h-9 flex items-center justify-center text-[14px] font-bold border-b border-border bg-muted/50",R===0?"text-destructive":R===6?"text-primary":"text-text-sub"),children:U},U)),Array.from({length:Q.firstDay}).map((U,R)=>a.jsx("div",{className:"min-h-[96px] border-b border-r border-border bg-card"},`empty-${R}`)),Q.cells.map(U=>{const R=(Q.firstDay+U.day-1)%7,G=U.entries.reduce((fe,ge)=>fe+ge.man,0),ie=U.entries.reduce((fe,ge)=>fe+ge.price,0);return a.jsxs("div",{onClick:()=>U.entries.length>0&&I({date:`${s}-${String(i).padStart(2,"0")}-${String(U.day).padStart(2,"0")}`,entries:U.entries}),className:F("min-h-[96px] p-1.5 flex flex-col items-center gap-0.5 cursor-pointer border-b border-border bg-card hover:bg-muted transition-colors",R<6&&"border-r"),children:[a.jsx("span",{className:F("text-[15px] font-bold w-[26px] h-[26px] rounded-full flex items-center justify-center mb-1",U.isToday?"bg-header-navy text-white font-[800]":R===0?"text-destructive":R===6?"text-primary":"text-foreground"),children:U.day}),U.entries.length>0&&a.jsxs("div",{className:"w-full flex flex-col items-center",children:[a.jsxs("span",{className:"text-[11px] font-bold text-text-sub",children:[G.toFixed(1),""]}),a.jsxs("span",{className:"text-[12px] font-[800] text-primary",children:["",(ie/1e4).toFixed(0),""]}),U.entries.length===1&&a.jsx("span",{className:"text-[10px] font-bold text-text-sub truncate max-w-full text-center",children:U.entries[0].site.slice(0,6)})]})]},U.day)})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2.5 mb-6",children:[a.jsxs("div",{className:"p-4 rounded-2xl text-center flex flex-col gap-1.5 shadow-soft bg-[hsl(201_100%_94%)] text-[#0284c7] border border-[#0284c7]",children:[a.jsx("span",{className:"text-[24px] font-[800] leading-tight tracking-tight",children:B.totalSites}),a.jsx("span",{className:"text-[14px] font-bold opacity-90",children:""})]}),a.jsxs("div",{className:"p-4 rounded-2xl text-center flex flex-col gap-1.5 shadow-soft bg-[hsl(225_33%_95%)] text-[#1e3a8a] border border-[#1e3a8a]",children:[a.jsx("span",{className:"text-[24px] font-[800] leading-tight tracking-tight",children:B.totalMan}),a.jsx("span",{className:"text-[14px] font-bold opacity-90",children:""})]}),a.jsxs("div",{className:"p-4 rounded-2xl text-center flex flex-col gap-1.5 shadow-soft bg-muted text-text-sub border border-text-sub",children:[a.jsx("span",{className:"text-[24px] font-[800] leading-tight tracking-tight",children:B.workedDays}),a.jsx("span",{className:"text-[14px] font-bold opacity-90",children:""})]})]})]}),t==="salary"&&a.jsxs("div",{className:"animate-fade-in mt-3",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hj,{className:"w-[20px] h-[20px] text-header-navy"}),a.jsx("span",{className:"text-[20px] font-bold text-header-navy",children:"   "})]}),a.jsxs("button",{onClick:()=>x(!w),className:"bg-transparent border-none flex items-center gap-1 cursor-pointer text-text-sub text-[15px] font-semibold p-0",children:[a.jsx("span",{children:" /"}),w?a.jsx(Hl,{className:"w-4 h-4"}):a.jsx(Ss,{className:"w-4 h-4"})]})]}),a.jsxs("div",{className:"bg-card shadow-sm rounded-2xl p-6 mb-4 border border-border",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("span",{className:"text-lg-app font-[800] text-foreground",children:[s," ",i,""]}),a.jsx("span",{className:"text-[13px] font-semibold px-2.5 py-1 rounded-full border bg-[#f0f9ff] text-[#0284c7] border-[#7dd3fc]",children:""})]}),a.jsxs("div",{className:"flex justify-between items-center mb-2 pb-3.5 border-b border-dashed border-border gap-2",children:[a.jsx("span",{className:"font-bold text-foreground shrink-0",children:" "}),a.jsxs("div",{className:"flex items-baseline justify-end gap-0.5 whitespace-nowrap",children:[a.jsx("span",{className:"text-[24px] text-primary font-[800] tracking-tighter",children:w?"****":Oe(Re.netPay)}),a.jsx("span",{className:"text-base-app font-semibold text-primary",children:""})]})]}),a.jsxs("div",{className:"flex justify-between items-center mb-2 text-[15px]",children:[a.jsx("span",{className:"font-bold text-foreground shrink-0",children:""}),a.jsx("span",{className:"font-semibold text-foreground text-[16px]",children:Re.man.toFixed(1)})]}),a.jsxs("div",{className:"flex justify-between items-center mb-2 text-[15px]",children:[a.jsx("span",{className:"font-bold text-foreground shrink-0",children:""}),a.jsx("span",{className:"font-semibold text-foreground text-[16px]",children:w?"****":Oe(Re.price)})]}),a.jsxs("button",{className:"w-full mt-4 p-3 rounded-[10px] bg-header-navy text-white font-bold text-base-app cursor-pointer flex items-center justify-center gap-2 border-none transition-all active:scale-[0.98]",children:[a.jsx(a2,{className:"w-[18px] h-[18px]"}),"  ()"]})]}),a.jsx("div",{className:"flex justify-between items-center mb-3 mt-[12px]",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jt,{className:"w-[20px] h-[20px] text-header-navy"}),a.jsx("span",{className:"text-[20px] font-bold text-header-navy",children:"  "})]})}),a.jsxs("div",{className:"flex gap-3 mb-3",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsxs("button",{onClick:()=>{L(j),z(!S)},className:F("flex items-center justify-between w-full h-[50px] px-4 bg-card border border-border rounded-xl text-[17px] font-bold text-foreground cursor-pointer transition-all hover:border-primary/50",S&&"border-primary shadow-[0_0_0_3px_rgba(49,163,250,0.15)]"),children:[a.jsxs("span",{children:[j," ",_!==null?`${_}`:""]}),a.jsx(Mo,{className:"w-[18px] h-[18px] text-muted-foreground"})]}),S&&a.jsxs("div",{className:"absolute top-[calc(100%+8px)] left-0 w-[280px] bg-card border border-border rounded-2xl shadow-lg p-4 z-[1000] animate-fade-in",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 px-1",children:[a.jsx("button",{onClick:()=>L(U=>U-1),className:"p-1 hover:bg-muted rounded",children:a.jsx(po,{className:"w-[18px] h-[18px]"})}),a.jsxs("span",{className:"font-bold text-lg-app",children:[M,""]}),a.jsx("button",{onClick:()=>L(U=>U+1),className:"p-1 hover:bg-muted rounded",children:a.jsx(Dn,{className:"w-[18px] h-[18px]"})})]}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:Array.from({length:12},(U,R)=>R+1).map(U=>a.jsxs("button",{onClick:()=>{N(M),k(U),z(!1)},className:F("h-11 rounded-lg text-[15px] font-semibold cursor-pointer transition-all border-none",j===M&&_===U?"bg-primary/10 text-primary font-[800]":"text-text-sub hover:bg-muted hover:text-primary"),children:[U,""]},U))}),a.jsx("div",{className:"mt-3 pt-3 border-t border-border",children:a.jsx("button",{onClick:()=>{N(M),k(null),z(!1)},className:"w-full h-11 rounded-lg text-[15px] font-semibold cursor-pointer transition-all text-text-sub hover:bg-muted hover:text-primary border-none bg-transparent",children:"  "})})]})]}),a.jsxs("div",{className:"relative flex-1",children:[a.jsxs("select",{value:E,onChange:U=>A(U.target.value),className:"w-full h-[50px] bg-card border border-border rounded-xl px-3.5 pr-10 text-[17px] font-semibold text-foreground shadow-soft appearance-none outline-none cursor-pointer transition-all hover:border-primary/50 focus:border-primary focus:shadow-[0_0_0_3px_rgba(49,163,250,0.15)]",children:[a.jsx("option",{value:"latest",children:""}),a.jsx("option",{value:"amount",children:""})]}),a.jsx(nt,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-text-sub pointer-events-none"})]})]}),a.jsx("div",{className:"flex flex-col gap-3",children:ve.map(U=>a.jsxs("div",{onClick:()=>xe(U),className:"bg-card shadow-soft rounded-2xl p-5 cursor-pointer transition-all hover:shadow-md active:scale-[0.99] border border-border",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-lg-app font-[800] text-foreground",children:U.month}),a.jsx("span",{className:"text-[13px] font-semibold px-2.5 py-1 rounded-full bg-emerald-50 text-emerald-600 border border-emerald-300",children:""})]}),a.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-dashed border-border mb-2",children:[a.jsx("span",{className:"font-bold text-foreground",children:""}),a.jsx("span",{className:"text-[20px] font-[800] text-primary tracking-tight",children:w?"****":`${Oe(U.netPay)}`})]}),a.jsxs("div",{className:"flex justify-between text-[15px] text-text-sub",children:[a.jsxs("span",{children:[" ",a.jsx("strong",{className:"text-foreground",children:U.man.toFixed(1)})]}),a.jsxs("span",{children:[" ",a.jsx("strong",{className:"text-foreground",children:w?"****":`${Oe(U.baseTotal)}`})]})]})]},U.rawDate))}),te.length>3&&a.jsxs("button",{onClick:()=>b(!g),className:"w-full h-[50px] bg-card border border-border rounded-full text-text-sub font-semibold text-[15px] cursor-pointer mt-2.5 mb-5 flex items-center justify-center gap-1.5 transition-all hover:bg-muted",children:[a.jsx("span",{children:g?"":" "}),a.jsx(nt,{className:F("w-4 h-4 transition-transform",g&&"rotate-180")})]})]}),t==="admin"&&e&&a.jsx(M4,{}),P&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-[3000] flex items-center justify-center p-5",onClick:()=>I(null),children:a.jsxs("div",{className:"bg-card w-full max-w-[440px] rounded-[20px] p-6 shadow-lg max-h-[80vh] overflow-y-auto border border-border",onClick:U=>U.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"text-[20px] font-[800] text-foreground",children:"  "}),a.jsx("button",{onClick:()=>I(null),className:"bg-transparent border-none text-text-sub p-1 cursor-pointer",children:a.jsx(_e,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"text-sm-app text-text-sub mb-3 font-medium",children:P.date}),a.jsx("div",{className:"mt-2",children:P.entries.map((U,R)=>a.jsxs("div",{className:"flex justify-between items-start py-2.5 border-b border-border gap-3",children:[a.jsx("div",{children:a.jsx("div",{className:"text-[15px] font-bold text-text-sub",children:U.site})}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-[15px] font-semibold text-foreground",children:[U.man,""]}),a.jsxs("div",{className:"text-[15px] font-semibold text-primary",children:["",Oe(U.price)]})]})]},R))})]})}),O&&V&&a.jsxs("div",{className:F("fixed inset-0 bg-background z-[2000] flex flex-col transition-transform duration-300",O?"translate-y-0":"translate-y-full"),children:[a.jsxs("div",{className:"h-[60px] px-4 flex items-center justify-between bg-card border-b border-border shrink-0",children:[a.jsx("button",{onClick:()=>q(!1),className:"bg-transparent border-none text-foreground cursor-pointer",children:a.jsx(_e,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-lg-app font-bold text-foreground",children:" "}),a.jsx("div",{className:"w-6"})]}),a.jsxs("div",{className:"flex-1 p-5 pb-10 overflow-y-auto",children:[a.jsxs("div",{className:"w-full max-w-[500px] bg-white rounded-2xl shadow-lg p-10 text-[#111] mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-end border-b-2 border-header-navy pb-5 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-[32px] font-[800] text-header-navy tracking-tight leading-tight m-0",children:""}),a.jsx("span",{className:"text-[22px] font-bold text-header-navy",children:V.month})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-[16px] font-bold text-[#111]",children:""}),a.jsxs("div",{className:"text-[14px] text-[#64748b] font-medium",children:[V.rawDate,"-25 "]})]})]}),a.jsx("table",{className:"w-full border-collapse mb-5 border border-[#d1d5db]",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("th",{className:"bg-[#f8fafc] text-header-navy font-bold text-[14px] p-2 border border-[#d1d5db] w-1/4 text-center",children:""}),a.jsx("td",{className:"font-medium text-[14px] p-2 border border-[#d1d5db] text-center",children:""}),a.jsx("th",{className:"bg-[#f8fafc] text-header-navy font-bold text-[14px] p-2 border border-[#d1d5db] w-1/4 text-center",children:""}),a.jsx("td",{className:"font-medium text-[14px] p-2 border border-[#d1d5db] text-center",children:""})]}),a.jsxs("tr",{children:[a.jsx("th",{className:"bg-[#f8fafc] text-header-navy font-bold text-[14px] p-2 border border-[#d1d5db] w-1/4 text-center",children:""}),a.jsx("td",{className:"font-medium text-[14px] p-2 border border-[#d1d5db] text-center",children:V.man.toFixed(1)}),a.jsx("th",{className:"bg-[#f8fafc] text-header-navy font-bold text-[14px] p-2 border border-[#d1d5db] w-1/4 text-center",children:""}),a.jsxs("td",{className:"font-medium text-[14px] p-2 border border-[#d1d5db] text-center",children:["",Oe(V.price)]})]})]})}),a.jsxs("div",{className:"mt-5 bg-[#eff6ff] rounded-2xl p-6 flex justify-between items-center",children:[a.jsx("span",{className:"text-[16px] font-bold text-header-navy",children:""}),a.jsxs("span",{className:"text-[28px] font-[800] text-[#2563eb]",children:["",Oe(V.netPay)]})]}),a.jsx("p",{className:"mt-6 text-center text-[14px] text-[#64748b] font-medium",children:"  ,      ."})]}),a.jsxs("button",{className:"mt-4 w-full max-w-[500px] mx-auto bg-header-navy text-white text-base-app font-bold rounded-xl h-14 border-none flex items-center justify-center gap-2 cursor-pointer transition-transform active:scale-95 shadow-lg",children:[a.jsx(Nc,{className:"w-5 h-5"}),"PDF "]})]})]})]})}const W4=["","","","",""],Ou="https://images.unsplash.com/photo-1504307651254-35680f356dfd?q=80&w=400&auto=format&fit=crop",V4="https://images.unsplash.com/photo-1503387762-592deb58ef4e?q=80&w=400&auto=format&fit=crop",H4={:[{id:"md1",title:"",author:"",date:"2025-12-28",time:"09:10",files:[{id:"md1f1",name:".jpg",type:"img",url:V4,size:"1.2MB",ext:"JPG"}]},{id:"md2",title:"",author:"",date:"2025-12-28",time:"09:10",files:[]},{id:"md3",title:"",author:"",date:"2025-12-28",time:"09:10",files:[]},{id:"md4",title:" ",author:"",date:"2025-12-28",time:"09:10",files:[]},{id:"md5",title:"",author:"",date:"2025-12-28",time:"09:10",files:[]},{id:"md6",title:"",author:"",date:"2025-12-28",time:"09:10",files:[]},{id:"md7",title:"",author:"",date:"2025-12-28",time:"09:10",files:[]}],:[{id:"g2",title:"",author:"",date:"2025-01-01",time:"10:00",files:[{id:"f2",name:".hwp",type:"file",url:"",size:"54KB",ext:"HWP"}]}],:[{id:"g3",title:" B",contractor:"GS",affiliation:"",author:"",date:"2025-12-08",time:"14:20",files:[{id:"f3",name:"1F .pdf",type:"file",url:"",size:"5MB",ext:"PDF",drawingState:"ing"}]}],:[{id:"g4",title:" B",contractor:"GS",affiliation:"",author:"",date:"2025-12-09",time:"16:45",files:[{id:"f4",name:"1",type:"img",url:Ou,size:"2.5MB",ext:"JPG",url_before:Ou,url_after:Ou,currentView:"after"}]}]},Au=e=>{const t=e.split("-");return t.length===3?`${t[0].slice(2)}.${t[1]}.${t[2]}`:e};function K4(){const{isPartner:e}=As();return a.jsx(G4,{restrictCompanyDocs:e})}function G4({restrictCompanyDocs:e}){var U;const t=e?["","","",""]:W4,[r,n]=m.useState(0),[s,o]=m.useState(""),[i,l]=m.useState(new Set),[c,u]=m.useState(5),[h,d]=m.useState("all"),[f,p]=m.useState(""),[v,y]=m.useState(!1),[w,x]=m.useState(!1),[g,b]=m.useState(null),{data:j=[]}=ov(),N=b4(),_=y4(),k=v4(),E=w4(),A=t[r],S=A==="",z=A==="",M=m.useMemo(()=>{const R=j.flatMap(G=>G.punchItems||[]);return{total:R.length,open:R.filter(G=>G.status!=="done").length,done:R.filter(G=>G.status==="done").length}},[j]),L=m.useMemo(()=>{if(S)return[];const R=s.toLowerCase();return(H4[A]||[]).filter(G=>G.title.toLowerCase().includes(R)||(G.contractor||"").toLowerCase().includes(R))},[r,s,A,S]),O=m.useMemo(()=>{if(!S)return[];const R=s.toLowerCase();return j.filter(G=>{var fe,ge;if(f&&G.title!==f)return!1;const ie=G.title.toLowerCase().includes(R)||G.contractor.toLowerCase().includes(R);return h==="all"?ie:h==="open"?ie&&((fe=G.punchItems)==null?void 0:fe.some(Ee=>Ee.status!=="done")):h==="done"?ie&&((ge=G.punchItems)==null?void 0:ge.every(Ee=>Ee.status==="done")):ie})},[S,s,h,f,j]),q=S?[]:L.slice(0,c),V=S?O.slice(0,c):[],$=S?O.length>c:L.length>c,P=S?O.length:L.length,I=R=>{l(G=>{const ie=new Set(G);return ie.has(R)?ie.delete(R):ie.add(R),ie})},D=m.useMemo(()=>j.map(R=>R.title),[j]),K=R=>{var ie;return((ie=R.punchItems)==null?void 0:ie.some(fe=>fe.status!=="done"))?{text:"",cls:"bg-destructive text-white"}:{text:"",cls:"bg-slate-500 text-white"}},Q=m.useMemo(()=>g&&j.find(R=>R.id===g)||null,[g,j]),B=((U=Q==null?void 0:Q.punchItems)==null?void 0:U.every(R=>R.status==="done"))||!1,T=R=>{b(R),l(new Set)},J=()=>{b(null),l(new Set)},se=(R,G,ie)=>{g&&_.mutate({groupId:g,itemId:R,field:G,value:ie})},te=R=>{g&&confirm("   ?")&&k.mutate({groupId:g,itemId:R},{onSuccess:()=>le.success(" .")})},ve=()=>{if(!g)return;const R={id:`pi_${Date.now()}`,location:"",issue:"",priority:"",status:"open",assignee:"",dueDate:"",date:new Date().toISOString().split("T")[0],beforePhoto:"",afterPhoto:""};N.mutate({groupId:g,item:R},{onSuccess:()=>le.success("  .")})},Re=(R,G)=>{if(B){le.error("    .");return}const ie=document.createElement("input");ie.type="file",ie.accept="image/*",ie.onchange=fe=>{var qe;const ge=(qe=fe.target.files)==null?void 0:qe[0];if(!ge||!g)return;const Ee=new FileReader;Ee.onload=Zt=>{var dt;_.mutate({groupId:g,itemId:R,field:G,value:(dt=Zt.target)==null?void 0:dt.result},{onSuccess:()=>le.success(" .")})},Ee.readAsDataURL(ge)},ie.click()},Oe=()=>{if(i.size!==0&&confirm(`${i.size}  ?`)){if(S&&!g){const R=j.filter(G=>!i.has(G.id));E.mutate(R)}l(new Set),le.success(" ")}},xe=R=>{n(R),o(""),l(new Set),u(5),d("all"),p(""),b(null),y(!1)};return a.jsxs("div",{className:"animate-fade-in",children:[a.jsx("div",{className:"flex border-b border-border mb-4 -mx-4 px-1 bg-card -mt-6 pt-6 overflow-x-auto scrollbar-none",children:t.map((R,G)=>a.jsx("button",{onClick:()=>xe(G),className:F("flex-1 min-w-0 h-12 bg-transparent border-none text-[16px] font-bold cursor-pointer border-b-[3px] transition-all whitespace-nowrap px-1",r===G?"text-sky-500 border-b-sky-500 font-[800]":"text-muted-foreground border-b-transparent"),children:R},R))}),S&&!g&&a.jsxs("div",{className:"relative mb-4",children:[a.jsx("input",{value:f,onChange:R=>{p(R.target.value),y(!0)},onFocus:()=>y(!0),placeholder:"   ",className:"w-full h-[50px] bg-card border border-border rounded-2xl px-5 pr-16 text-base font-medium text-foreground placeholder:text-muted-foreground transition-all outline-none hover:border-primary/50 focus:border-primary focus:shadow-[0_0_0_3px_rgba(49,163,250,0.15)]"}),f&&a.jsx("button",{onClick:()=>{p(""),y(!1)},className:"absolute right-12 top-1/2 -translate-y-1/2 w-5 h-5 rounded-full bg-muted flex items-center justify-center text-[12px] text-muted-foreground z-10",children:""}),a.jsx("button",{onClick:()=>y(!v),className:"absolute right-4 top-1/2 -translate-y-1/2",children:a.jsx(nt,{className:"w-5 h-5 text-muted-foreground"})}),v&&a.jsx("ul",{className:"absolute z-50 w-full mt-1.5 max-h-60 overflow-auto bg-card border border-border rounded-xl shadow-lg",children:D.filter(R=>R.toLowerCase().includes(f.toLowerCase())).map(R=>a.jsx("li",{onClick:()=>{p(R),y(!1)},className:"px-4 py-3.5 cursor-pointer border-b border-border last:border-0 text-[15px] font-medium text-foreground hover:bg-muted",children:R},R))})]}),!g&&a.jsxs("div",{className:"relative mb-4",children:[a.jsx("input",{value:s,onChange:R=>o(R.target.value),placeholder:" ...",className:"w-full h-[50px] bg-card border border-border rounded-2xl px-5 pr-12 text-base font-medium text-foreground placeholder:text-muted-foreground transition-all hover:bg-card hover:border-primary/50 focus:border-primary focus:shadow-[0_0_0_3px_rgba(49,163,250,0.15)] outline-none"}),s&&a.jsx("button",{onClick:()=>o(""),className:"absolute right-12 top-1/2 -translate-y-1/2 w-5 h-5 rounded-full bg-muted flex items-center justify-center text-[12px] text-muted-foreground z-10",children:""}),a.jsx(Rt,{className:"absolute right-[18px] top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"})]}),S&&!g&&a.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2",children:[{key:"all",label:"",count:M.total,cls:"bg-header-navy"},{key:"open",label:"",count:M.open,cls:"bg-destructive"},{key:"done",label:"",count:M.done,cls:"bg-slate-500"}].map(R=>a.jsxs("button",{onClick:()=>d(R.key),className:F("h-10 px-3.5 rounded-full text-[15px] font-medium cursor-pointer transition-all whitespace-nowrap shrink-0 border",h===R.key?`${R.cls} text-white border-transparent font-bold shadow-[0_0_0_3px_rgba(49,163,250,0.15)]`:"bg-white border-border text-[#64748b] hover:border-primary/50"),children:[R.label," ",R.count]},R.key))}),g&&Q&&a.jsx(Q4,{group:Q,isApproved:B,onBack:J,onUpdateField:se,onDeleteItem:te,onAddItem:ve,onPhotoUpload:Re}),!g&&a.jsxs(a.Fragment,{children:[S&&a.jsx("div",{className:"space-y-3",children:V.length===0?a.jsx(xx,{}):V.map(R=>{var dt,Zo,yr,Ni;const G=i.has(R.id),ie=K(R),fe=(dt=R.files)==null?void 0:dt.find(Ir=>Ir.type==="img"),ge=fe?(fe.currentView==="after"?fe.url_after:fe.url_before)||fe.url:null,Ee=((Zo=R.punchItems)==null?void 0:Zo.filter(Ir=>Ir.status!=="done").length)||0,qe=((yr=R.punchItems)==null?void 0:yr.filter(Ir=>Ir.status==="done").length)||0,Zt=((Ni=R.punchItems)==null?void 0:Ni.length)||0;return a.jsxs("div",{className:F("bg-card rounded-2xl p-4 cursor-pointer transition-all shadow-soft relative overflow-hidden",G&&"border-2 border-primary bg-sky-50/50"),onClick:()=>T(R.id),children:[a.jsx("span",{className:F("absolute top-0 right-0 text-[13px] font-bold px-3.5 py-1.5 text-white rounded-bl-xl z-10",ie.cls),children:ie.text}),a.jsxs("div",{className:"flex gap-3 items-center",children:[a.jsx("div",{onClick:Ir=>{Ir.stopPropagation(),I(R.id)},className:F("w-[20px] h-[20px] rounded-full border-2 flex items-center justify-center shrink-0 transition-all",G?"bg-sky-500 border-sky-500 shadow-[0_2px_8px_rgba(14,165,233,0.3)]":"bg-card border-muted-foreground/30"),children:G&&a.jsx(Ca,{className:"w-3.5 h-3.5 text-white",strokeWidth:3})}),a.jsx("div",{className:"w-20 h-20 rounded-xl bg-muted border border-border overflow-hidden shrink-0",children:ge?a.jsx("img",{src:ge,alt:"",className:"w-full h-full object-cover"}):a.jsx(Jt,{className:"w-8 h-8 text-muted-foreground m-auto mt-6"})}),a.jsxs("div",{className:"flex-1 min-w-0 flex flex-col gap-1.5 pt-0.5",children:[(R.contractor||R.affiliation)&&a.jsxs("div",{className:"flex gap-1.5 flex-wrap",children:[R.contractor&&a.jsx("span",{className:"text-[14px] px-3 py-0.5 rounded-lg bg-indigo-50 text-indigo-500 border border-indigo-200 font-semibold",children:R.contractor}),R.affiliation&&a.jsx("span",{className:"text-[14px] px-3 py-0.5 rounded-lg bg-[#e0f2fe] text-[#0284c7] border border-[#bae6fd] font-semibold",children:R.affiliation})]}),a.jsx("div",{className:"text-[16px] font-[800] text-header-navy truncate mt-0.5",children:R.title}),a.jsxs("div",{className:"text-[15px] font-medium text-text-sub",children:[R.author," ",a.jsx("span",{className:"text-muted-foreground",children:"|"})," ",Au(R.date)," ",a.jsx("span",{className:"text-muted-foreground",children:R.time})]}),a.jsxs("div",{className:"text-[17px] font-bold text-foreground truncate",children:[" ",Zt," ( ",Ee,",  ",qe,")"]})]})]})]},R.id)})}),!S&&a.jsx("div",{className:"space-y-3",children:q.length===0?a.jsx(xx,{}):q.map(R=>{var Ee,qe,Zt;const G=i.has(R.id),ie=R.files&&R.files.length>0,fe=(Ee=R.files)==null?void 0:Ee.find(dt=>dt.type==="img"),ge=fe?(fe.currentView==="after"?fe.url_after:fe.url_before)||fe.url:null;return z?a.jsx("div",{className:F("bg-card rounded-2xl p-4 cursor-pointer transition-all shadow-soft",G&&"border-2 border-primary bg-sky-50/50"),children:a.jsxs("div",{className:"flex gap-3 items-center",children:[a.jsx("div",{onClick:()=>I(R.id),className:F("w-[20px] h-[20px] rounded-full border-2 flex items-center justify-center shrink-0 transition-all",G?"bg-sky-500 border-sky-500 shadow-[0_2px_8px_rgba(14,165,233,0.3)]":"bg-card border-muted-foreground/30"),children:G&&a.jsx(Ca,{className:"w-3.5 h-3.5 text-white",strokeWidth:3})}),a.jsx("div",{className:"w-[70px] h-[70px] rounded-xl bg-muted border border-border overflow-hidden shrink-0 flex items-center justify-center",children:ge?a.jsx("img",{src:ge,alt:"",className:"w-full h-full object-cover"}):a.jsx(Jt,{className:"w-8 h-8 text-muted-foreground"})}),a.jsxs("div",{className:"flex-1 min-w-0 flex flex-col gap-1.5 pt-0.5",children:[a.jsx("div",{className:"flex items-center gap-2.5 mb-1",children:a.jsx("span",{className:"text-[18px] font-[800] text-header-navy truncate mt-[3px]",children:R.title})}),a.jsxs("div",{className:"flex items-center gap-1.5 text-[15px] font-medium text-text-sub mb-2",children:[a.jsx("span",{className:"font-semibold",children:R.author}),a.jsx("span",{className:"text-muted-foreground",children:"|"}),a.jsx("span",{className:"text-muted-foreground",children:Au(R.date)}),a.jsx("span",{className:"text-muted-foreground",children:"|"}),a.jsx("span",{className:"text-muted-foreground",children:R.time})]}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsxs("button",{className:F("flex-1 h-[34px] rounded-[10px] border text-[13px] font-[800] flex items-center justify-center gap-1.5 transition-all",ie?"bg-indigo-50 border-indigo-200 text-indigo-500 font-bold shadow-[0_2px_4px_rgba(99,102,241,0.1)]":"bg-muted border-border text-muted-foreground opacity-60"),disabled:!ie,children:[a.jsx(Ss,{className:"w-3.5 h-3.5"}),""]}),a.jsxs("button",{className:"flex-1 h-[34px] rounded-[10px] border border-[#bae6fd] bg-[#e0f2fe] text-[#0284c7] text-[13px] font-[800] flex items-center justify-center gap-1.5 transition-all hover:-translate-y-px",children:[a.jsx(Ad,{className:"w-3.5 h-3.5"}),ie?"":""]})]})]})]})},R.id):a.jsxs("div",{onClick:()=>I(R.id),className:F("bg-card rounded-2xl p-4 cursor-pointer transition-all shadow-soft flex gap-3 items-center",G&&"border-2 border-primary bg-sky-50/50 shadow-[0_0_0_2px_rgba(49,163,250,0.1)]"),children:[a.jsx("div",{className:F("w-[20px] h-[20px] rounded-full border-2 flex items-center justify-center shrink-0 transition-all",G?"bg-sky-500 border-sky-500 shadow-[0_2px_8px_rgba(14,165,233,0.3)]":"bg-card border-muted-foreground/30"),children:G&&a.jsx(Ca,{className:"w-3.5 h-3.5 text-white",strokeWidth:3})}),a.jsx("div",{className:"w-[70px] h-[70px] rounded-xl bg-muted border border-border overflow-hidden shrink-0 flex items-center justify-center",children:ge?a.jsx("img",{src:ge,alt:"",className:"w-full h-full object-cover"}):a.jsx(Jt,{className:"w-8 h-8 text-muted-foreground"})}),a.jsxs("div",{className:"flex-1 min-w-0 flex flex-col gap-1.5 pt-0.5",children:[R.contractor&&a.jsx("div",{className:"flex gap-1.5 flex-wrap mb-1",children:R.affiliation&&a.jsx("span",{className:"text-[14px] px-3 py-0.5 rounded-lg bg-[#e0f2fe] text-[#0284c7] border border-[#bae6fd] font-semibold",children:R.affiliation})}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Ye,{className:"w-4 h-4 text-text-sub shrink-0"}),a.jsx("span",{className:"text-[15px] text-text-sub font-bold truncate",children:R.title})]}),a.jsx("div",{className:"text-[16px] font-[800] text-header-navy truncate mt-0.5",children:((qe=R.files[0])==null?void 0:qe.name)||R.title}),a.jsxs("div",{className:"text-[15px] text-text-sub font-medium",children:[Au(R.date),"  ",((Zt=R.files[0])==null?void 0:Zt.size)||""]})]})]},R.id)})}),$&&a.jsxs("button",{onClick:()=>u(R=>R+5),className:"w-full h-12 flex items-center justify-center gap-1.5 text-text-sub text-[14px] font-semibold border border-border rounded-3xl bg-card shadow-soft mt-4 cursor-pointer hover:bg-muted transition-all",children:[a.jsx("span",{children:""}),a.jsx(nt,{className:"w-[18px] h-[18px]"})]}),!$&&c>5&&P>5&&a.jsxs("button",{onClick:()=>u(5),className:"w-full h-12 flex items-center justify-center gap-1.5 text-text-sub text-[14px] font-semibold border border-border rounded-3xl bg-card shadow-soft mt-4 cursor-pointer hover:bg-muted transition-all",children:[a.jsx("span",{children:""}),a.jsx(gi,{className:"w-[18px] h-[18px]"})]})]}),i.size>0&&!g&&a.jsxs("div",{className:"fixed bottom-[calc(65px+16px+env(safe-area-inset-bottom,0px))] left-1/2 -translate-x-1/2 bg-header-navy text-white rounded-3xl p-3 flex items-center justify-around shadow-[0_8px_24px_rgba(0,0,0,0.2)] z-[5000] border border-white/10 backdrop-blur-lg w-[calc(100%-144px)] max-w-[420px] animate-fade-in",children:[a.jsxs("button",{className:"flex flex-col items-center gap-1.5 px-4 py-1.5 rounded-xl bg-transparent border-none text-white cursor-pointer transition-all hover:bg-white/10",children:[a.jsx(Nc,{className:"w-6 h-6"}),a.jsx("span",{className:"text-[14px] font-[800]",children:""})]}),a.jsxs("button",{className:"flex flex-col items-center gap-1.5 px-4 py-1.5 rounded-xl bg-transparent border-none text-white cursor-pointer transition-all hover:bg-white/10",children:[a.jsx(Nb,{className:"w-6 h-6"}),a.jsx("span",{className:"text-[14px] font-[800]",children:""})]}),a.jsxs("button",{onClick:Oe,className:"flex flex-col items-center gap-1.5 px-4 py-1.5 rounded-xl bg-transparent border-none text-destructive cursor-pointer transition-all hover:bg-destructive/15",children:[a.jsx(bi,{className:"w-6 h-6",strokeWidth:3}),a.jsx("span",{className:"text-[14px] font-[800]",children:""})]})]}),!g&&a.jsx("button",{onClick:()=>x(!0),className:"fixed bottom-6 right-[calc(50%-280px)] w-14 h-14 rounded-full bg-header-navy text-white shadow-lg flex items-center justify-center cursor-pointer z-30 active:scale-90 transition-transform max-[600px]:right-4",children:a.jsx(Ec,{className:"w-6 h-6"})}),w&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/40 z-[2100]",onClick:()=>x(!1)}),a.jsxs("div",{className:"fixed bottom-0 left-0 right-0 w-full max-w-[600px] mx-auto bg-card border-t border-border z-[2200] rounded-t-3xl p-6 animate-fade-in",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-[20px] font-bold text-foreground",children:" "}),a.jsx("button",{onClick:()=>x(!1),className:"bg-transparent border-none cursor-pointer text-foreground p-1",children:a.jsx(_e,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-[15px] font-semibold text-text-sub mb-2",children:""}),a.jsx("input",{type:"text",placeholder:" ",className:"w-full h-[50px] px-4 rounded-xl border border-border bg-card text-[18px] text-foreground outline-none transition-all focus:border-sky-500"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-[15px] font-semibold text-text-sub mb-2",children:""}),a.jsx("input",{type:"date",defaultValue:new Date().toISOString().split("T")[0],className:"w-full h-[50px] px-4 rounded-xl border border-border bg-card text-[18px] text-foreground outline-none transition-all focus:border-sky-500"})]}),a.jsxs("div",{className:"w-full h-16 border-2 border-dashed border-border rounded-xl flex items-center justify-center gap-2 cursor-pointer bg-muted hover:bg-card transition-all mb-8",children:[a.jsx(Ad,{className:"w-6 h-6 text-text-sub"}),a.jsx("span",{className:"font-bold text-text-sub",children:"  ( )"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>x(!1),className:"flex-1 h-16 rounded-2xl border-2 border-border bg-muted text-foreground font-bold text-[18px] cursor-pointer transition-colors hover:bg-border",children:""}),a.jsx("button",{className:"flex-1 h-16 rounded-2xl bg-header-navy text-white font-bold text-[18px] border-none cursor-pointer shadow-lg transition-all hover:opacity-90 active:scale-[0.98]",children:""})]})]})]})]})}function xx(){return a.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-muted flex items-center justify-center mb-5",children:a.jsx(Rt,{className:"w-8 h-8 text-muted-foreground opacity-60"})}),a.jsx("p",{className:"text-[16px] font-medium text-foreground mb-2",children:"  "})]})}function Q4({group:e,isApproved:t,onBack:r,onUpdateField:n,onDeleteItem:s,onAddItem:o,onPhotoUpload:i}){const l=e.punchItems||[],c=l.length,u=l.filter(d=>d.status!=="done").length,h=l.filter(d=>d.status==="done").length;return a.jsxs("div",{className:"animate-fade-in",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 -mx-4 px-4 pb-3 border-b border-border",children:[a.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-foreground font-semibold text-[16px] bg-transparent border-none cursor-pointer rounded-lg p-2 -ml-2 hover:bg-muted transition-colors",children:[a.jsx(Ns,{className:"w-6 h-6"}),a.jsx("span",{children:""})]}),a.jsx("h2",{className:"text-[18px] font-bold text-foreground flex-1 text-center px-4 truncate",children:e.title}),a.jsx("button",{className:"bg-muted text-text-sub border border-border rounded-lg px-3 py-1.5 text-[14px] font-bold cursor-pointer hover:bg-card transition-colors whitespace-nowrap",children:""})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[a.jsxs("div",{className:"bg-sky-50 border border-sky-400 p-4 rounded-2xl text-center",children:[a.jsx("div",{className:"text-[28px] font-[900] text-sky-600 mb-1",children:c}),a.jsx("div",{className:"text-[11px] font-bold text-sky-700 uppercase tracking-wider",children:""})]}),a.jsxs("div",{className:"bg-red-50 border border-red-400 p-4 rounded-2xl text-center",children:[a.jsx("div",{className:"text-[28px] font-[900] text-red-600 mb-1",children:u}),a.jsx("div",{className:"text-[11px] font-bold text-red-700 uppercase tracking-wider",children:""})]}),a.jsxs("div",{className:"bg-slate-50 border border-slate-400 p-4 rounded-2xl text-center",children:[a.jsx("div",{className:"text-[28px] font-[900] text-slate-600 mb-1",children:h}),a.jsx("div",{className:"text-[11px] font-bold text-slate-500 uppercase tracking-wider",children:""})]})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-4 px-1",children:[a.jsx(Jt,{className:"w-5 h-5 text-primary"}),a.jsxs("h3",{className:"text-[18px] font-[900] text-foreground",children:["  (",c,")"]})]}),l.length===0?a.jsxs("div",{className:"p-10 text-center text-text-sub bg-card rounded-2xl border-2 border-dashed border-border",children:["   .",a.jsx("br",{}),a.jsx("small",{className:"text-[13px] mt-2 block",children:"      ."})]}):a.jsx("div",{className:"space-y-4",children:l.map(d=>a.jsx(J4,{item:d,isApproved:t,onUpdateField:n,onDelete:s,onPhotoUpload:i},d.id))}),t?a.jsxs("div",{className:"w-full h-[50px] px-5 border border-dashed border-border rounded-xl bg-muted text-muted-foreground text-[16px] font-[800] flex items-center justify-center gap-2.5 mt-4 opacity-60",children:[a.jsx(Zj,{className:"w-6 h-6"}),a.jsx("span",{children:" -  "})]}):a.jsxs("button",{onClick:o,className:"w-full h-[50px] px-5 border border-dashed border-sky-300 rounded-xl bg-sky-50 text-sky-500 text-[16px] font-[800] cursor-pointer flex items-center justify-center gap-2.5 transition-all mt-4 hover:bg-sky-100 hover:border-sky-400",children:[a.jsx(Ec,{className:"w-6 h-6"}),a.jsx("span",{children:"   "})]})]})}function J4({item:e,isApproved:t,onUpdateField:r,onDelete:n,onPhotoUpload:s}){const o=[{key:"",activeBg:"bg-red-100",activeText:"text-red-600",inactiveBg:"bg-slate-50",inactiveText:"text-slate-400"},{key:"",activeBg:"bg-amber-100",activeText:"text-amber-600",inactiveBg:"bg-slate-50",inactiveText:"text-slate-400"},{key:"",activeBg:"bg-emerald-100",activeText:"text-emerald-600",inactiveBg:"bg-slate-50",inactiveText:"text-slate-400"}],i=[{key:"open",label:"",activeText:"text-red-500"},{key:"ing",label:"",activeText:"text-blue-500"},{key:"done",label:"",activeText:"text-slate-800"}];return a.jsxs("div",{className:"bg-white rounded-3xl p-5 relative shadow-[0_4px_20px_rgba(0,0,0,0.08)] transition-all",children:[!t&&a.jsx("button",{onClick:()=>n(e.id),className:"absolute top-4 right-4 bg-transparent border-none text-slate-300 cursor-pointer p-1 transition-colors hover:text-destructive",children:a.jsx(bi,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-3 border-b border-slate-100",children:[a.jsx(Ye,{className:"w-[18px] h-[18px] text-primary shrink-0"}),a.jsx("input",{type:"text",value:e.location||"",placeholder:" (: 101 302)",onChange:l=>r(e.id,"location",l.target.value),readOnly:t,className:F("text-[16px] font-[800] text-foreground bg-transparent p-0 border-none outline-none flex-1 min-w-0",t&&"pointer-events-none opacity-70")})]}),a.jsx("textarea",{value:e.issue||"",placeholder:"   ...",onChange:l=>r(e.id,"issue",l.target.value),readOnly:t,className:F("w-full text-[17px] font-bold text-foreground bg-transparent border-none outline-none resize-none leading-relaxed min-h-[48px] p-0 mb-3",t&&"pointer-events-none opacity-70")}),a.jsxs("div",{className:"flex justify-between items-center mb-3 flex-wrap gap-2",children:[a.jsx("div",{className:"flex gap-1 flex-wrap w-[calc(50%-4px)] min-w-[120px]",children:o.map(l=>a.jsx("button",{onClick:()=>!t&&r(e.id,"priority",l.key),className:F("py-1.5 px-3 rounded-md text-[12px] font-bold border-none cursor-pointer transition-all min-h-[32px] flex-1",e.priority===l.key?`${l.activeBg} ${l.activeText}`:`${l.inactiveBg} ${l.inactiveText}`,t&&"pointer-events-none opacity-60"),children:l.key},l.key))}),a.jsx("div",{className:"flex bg-slate-100 rounded-full p-0.5 shrink-0 w-[calc(50%-4px)] min-w-[120px] justify-center",children:i.map(l=>a.jsx("button",{onClick:()=>!t&&r(e.id,"status",l.key),className:F("py-1 px-2.5 rounded-full text-[11px] font-bold border-none cursor-pointer transition-all min-h-[28px] flex-1",e.status===l.key?`bg-white ${l.activeText} shadow-sm`:"bg-transparent text-slate-400",t&&"pointer-events-none opacity-60"),children:l.label},l.key))})]}),a.jsx("div",{className:"flex gap-3 mt-3 w-full",children:["beforePhoto","afterPhoto"].map(l=>a.jsx("div",{onClick:()=>s(e.id,l),className:F("flex-1 aspect-square bg-slate-50 rounded-2xl border border-dashed border-slate-300 flex flex-col items-center justify-center cursor-pointer transition-all overflow-hidden relative hover:bg-slate-100 hover:border-slate-400",t&&"pointer-events-none opacity-60"),children:e[l]?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:e[l],className:"w-full h-full object-cover absolute inset-0",alt:""}),a.jsx("div",{className:F("absolute top-2 left-2 text-white text-[11px] font-[800] px-2.5 py-1 rounded-md",l==="beforePhoto"?"bg-slate-800":"bg-sky-500"),children:l==="beforePhoto"?"":""})]}):a.jsxs(a.Fragment,{children:[a.jsx(Pr,{className:"w-7 h-7 text-slate-300 mb-1"}),a.jsx("span",{className:"text-[11px] font-[900] text-slate-400",children:l==="beforePhoto"?"":""})]})},l))})]})}function Y4(){return a.jsx("div",{className:"animate-fade-in",children:a.jsxs("div",{className:"bg-card rounded-2xl shadow-soft p-8 text-center",children:[a.jsx(yb,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h2",{className:"text-lg-app font-[800] text-header-navy mb-2",children:""}),a.jsxs("p",{className:"text-sm-app text-text-sub font-medium leading-relaxed",children:["   .",a.jsx("br",{}),"   ."]})]})})}const lv="/assets/logo_b-VVYKj-ui.png";function X4(){const[e,t]=m.useState(!1),[r,n]=m.useState(!1),[s,o]=m.useState(!1),[i,l]=m.useState(!1),[c,u]=m.useState(!1),{setTestMode:h,setTestRole:d}=Xe(),f=Qn(),[p,v]=m.useState(""),[y,w]=m.useState(""),[x,g]=m.useState(""),[b,j]=m.useState(""),[N,_]=m.useState(""),[k,E]=m.useState(""),[A,S]=m.useState(!1),M=(D=>{let K=0;return D.length>=8&&K++,/[A-Z]/.test(D)&&K++,/[0-9]/.test(D)&&K++,/[^A-Za-z0-9]/.test(D)&&K++,K})(y),L=M===0?" ":M===1?"":M<=3?"":"",O=M===0?"bg-border":M===1?"bg-destructive":M<=3?"bg-amber-500":"bg-emerald-500",q=async()=>{if(!p||!y){le.error("  .");return}l(!0);const{error:D}=await ee.auth.signInWithPassword({email:p,password:y});l(!1),D?le.error(D.message==="Invalid login credentials"?"    .":D.message):(le.success(" !"),f("/"))},V=async()=>{if(!b||!p||!k){le.error("   .");return}if(y.length<8){le.error(" 8  .");return}if(y!==x){le.error("  .");return}if(!A){le.error(" .");return}l(!0);const{error:D}=await ee.auth.signUp({email:p,password:y,options:{emailRedirectTo:window.location.origin,data:{name:b,phone:N,affiliation:k}}});l(!1),D?le.error(D.message):(le.success(" !  ."),t(!0))},$=async()=>{if(!p){le.error(" .");return}l(!0);const{error:D}=await ee.auth.resetPasswordForEmail(p,{redirectTo:`${window.location.origin}/reset-password`});l(!1),D?le.error(D.message):(le.success("    ."),u(!1))},P=(D="worker",K="/")=>{d(D),h(!0),f(K)},I=()=>{c?$():e?q():V()};return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center px-5 py-5",children:a.jsx("div",{className:"w-full max-w-app",children:a.jsxs("div",{className:"bg-card rounded-xl shadow-md p-8 max-[640px]:p-6 w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("div",{className:"mb-3 flex items-center justify-center gap-3 max-[640px]:gap-2 max-[420px]:gap-1.5",children:[a.jsx("img",{src:lv,alt:"INOPNC ",className:"h-auto w-[188px] max-[640px]:w-[138px] max-[420px]:w-[124px] shrink-0 object-contain"}),a.jsx("h1",{className:"whitespace-nowrap text-[26px] max-[640px]:text-[20px] max-[420px]:text-[18px] leading-none font-bold text-header-navy",children:c?" ":e?"":""})]}),a.jsx("p",{className:"text-[14px] text-text-sub",children:c?"  ":e?" ":"    "})]}),a.jsxs("div",{className:"flex flex-col gap-5",children:[!e&&!c&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsxs("label",{className:"text-[14px] font-semibold text-text-sub flex items-center gap-1",children:[" ",a.jsx("span",{className:"text-destructive text-[16px]",children:"*"})]}),a.jsxs("select",{value:k,onChange:D=>E(D.target.value),className:"h-12 max-[640px]:h-11 rounded-lg border border-border px-4 text-[16px] bg-card text-foreground appearance-none outline-none focus:border-primary bg-[length:16px] bg-[right_12px_center] bg-no-repeat",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23475569' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")`},children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"worker_inopnc",children:" ()"}),a.jsx("option",{value:"manager_inopnc",children:" ()"}),a.jsx("option",{value:"partner_company",children:""})]})]}),a.jsxs("div",{className:"flex gap-3 max-[640px]:flex-col max-[640px]:gap-5",children:[a.jsxs("div",{className:"flex-1 flex flex-col gap-1.5",children:[a.jsxs("label",{className:"text-[14px] font-semibold text-text-sub flex items-center gap-1",children:[" ",a.jsx("span",{className:"text-destructive text-[16px]",children:"*"})]}),a.jsx("input",{type:"text",value:b,onChange:D=>j(D.target.value),placeholder:" ",className:"h-12 max-[640px]:h-11 rounded-lg border border-border px-4 text-[16px] bg-card text-foreground placeholder:text-muted-foreground outline-none focus:border-primary"})]}),a.jsxs("div",{className:"flex-1 flex flex-col gap-1.5",children:[a.jsx("label",{className:"text-[14px] font-semibold text-text-sub flex items-center gap-1",children:""}),a.jsx("input",{type:"tel",value:N,onChange:D=>_(D.target.value),placeholder:"010-1234-5678",className:"h-12 max-[640px]:h-11 rounded-lg border border-border px-4 text-[16px] bg-card text-foreground placeholder:text-muted-foreground outline-none focus:border-primary"})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsxs("label",{className:"text-[14px] font-semibold text-text-sub flex items-center gap-1",children:[" ",a.jsx("span",{className:"text-destructive text-[16px]",children:"*"})]}),a.jsx("input",{type:"email",value:p,onChange:D=>v(D.target.value),placeholder:"example@email.com",className:"h-12 max-[640px]:h-11 rounded-lg border border-border px-4 text-[16px] bg-card text-foreground placeholder:text-muted-foreground outline-none focus:border-primary"})]}),!c&&a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsxs("label",{className:"text-[14px] font-semibold text-text-sub flex items-center gap-1",children:[" ",a.jsx("span",{className:"text-destructive text-[16px]",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:r?"text":"password",value:y,onChange:D=>w(D.target.value),placeholder:e?" ":", ,   8 ",className:"w-full h-12 max-[640px]:h-11 rounded-lg border border-border px-4 pr-12 text-[16px] bg-card text-foreground placeholder:text-muted-foreground outline-none focus:border-primary"}),a.jsx("button",{onClick:()=>n(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 bg-transparent border-none cursor-pointer text-muted-foreground",children:r?a.jsx(Hl,{className:"w-5 h-5"}):a.jsx(Ss,{className:"w-5 h-5"})})]}),!e&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex gap-1 mt-2",children:[0,1,2,3].map(D=>a.jsx("div",{className:F("h-1 flex-1 rounded-sm transition-colors",D<M?O:"bg-border")},D))}),a.jsxs("span",{className:"text-[12px] text-text-sub mt-1",children:[" : ",L]})]}),e&&a.jsx("button",{onClick:()=>u(!0),className:"self-end text-[13px] text-primary bg-transparent border-none cursor-pointer hover:underline mt-1",children:" ?"})]}),!e&&!c&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsxs("label",{className:"text-[14px] font-semibold text-text-sub flex items-center gap-1",children:["  ",a.jsx("span",{className:"text-destructive text-[16px]",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:s?"text":"password",value:x,onChange:D=>g(D.target.value),placeholder:"  ",className:"w-full h-12 max-[640px]:h-11 rounded-lg border border-border px-4 pr-12 text-[16px] bg-card text-foreground placeholder:text-muted-foreground outline-none focus:border-primary"}),a.jsx("button",{onClick:()=>o(!s),className:"absolute right-4 top-1/2 -translate-y-1/2 bg-transparent border-none cursor-pointer text-muted-foreground",children:s?a.jsx(Hl,{className:"w-5 h-5"}):a.jsx(Ss,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"flex flex-col gap-2 mt-1",children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:A,onChange:D=>S(D.target.checked),className:"w-[18px] h-[18px] accent-primary"}),a.jsxs("span",{className:"text-[14px] max-[640px]:text-[13px] text-text-sub whitespace-nowrap",children:["  ",a.jsx("span",{className:"text-destructive",children:"*"})]})]})})]}),a.jsxs("button",{onClick:I,disabled:i,className:"w-full h-12 max-[640px]:h-11 bg-header-navy text-white rounded-lg border-none text-[16px] font-semibold cursor-pointer transition-all hover:opacity-90 active:scale-[0.98] disabled:opacity-50 flex items-center justify-center gap-2",children:[i&&a.jsx(jb,{className:"w-5 h-5 animate-spin"}),c?"  ":e?"":""]}),a.jsx("div",{className:"text-center mt-4 text-[14px] text-text-sub",children:c?a.jsx("button",{onClick:()=>u(!1),className:"text-primary font-semibold bg-transparent border-none cursor-pointer hover:underline",children:"  "}):e?a.jsxs(a.Fragment,{children:[" ? ",a.jsx("button",{onClick:()=>t(!1),className:"text-primary font-semibold bg-transparent border-none cursor-pointer hover:underline",children:""})]}):a.jsxs(a.Fragment,{children:["  ? ",a.jsx("button",{onClick:()=>t(!0),className:"text-primary font-semibold bg-transparent border-none cursor-pointer hover:underline",children:""})]})}),a.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>P("worker"),className:"flex-1 h-10 bg-transparent border border-primary text-primary rounded-lg text-[14px] font-semibold cursor-pointer transition-all hover:bg-primary/5",children:" "}),a.jsx("button",{onClick:()=>P("admin"),className:"flex-1 h-10 bg-transparent border border-header-navy text-header-navy rounded-lg text-[14px] font-semibold cursor-pointer transition-all hover:bg-header-navy/5",children:" "}),a.jsx("button",{onClick:()=>P("partner"),className:"flex-1 h-10 bg-transparent border border-accent text-accent-foreground rounded-lg text-[14px] font-semibold cursor-pointer transition-all hover:bg-accent/10",children:" "})]}),a.jsx("button",{onClick:()=>P("admin","/admin"),className:"w-full h-10 bg-header-navy text-white rounded-lg text-[14px] font-semibold cursor-pointer transition-all hover:opacity-90 active:scale-[0.98] flex items-center justify-center gap-1.5",children:"   "})]})]})]})})})}function Z4(){const[e,t]=m.useState(""),[r,n]=m.useState(""),[s,o]=m.useState(!1),[i,l]=m.useState(!1),[c,u]=m.useState(!1),h=Qn();m.useEffect(()=>{window.location.hash.includes("type=recovery")||(le.error("    ."),h("/auth"))},[h]);const d=async()=>{if(e.length<8){le.error(" 8  .");return}if(e!==r){le.error("  .");return}l(!0);const{error:f}=await ee.auth.updateUser({password:e});l(!1),f?le.error(f.message):(u(!0),setTimeout(()=>h("/"),2e3))};return c?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center px-5",children:a.jsxs("div",{className:"text-center",children:[a.jsx(vb,{className:"w-16 h-16 text-emerald-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-bold text-foreground",children:" "}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"   ..."})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center px-5",children:a.jsx("div",{className:"w-full max-w-app",children:a.jsxs("div",{className:"bg-card rounded-xl shadow-md p-8 max-[640px]:p-6",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("img",{src:lv,alt:"INOPNC",className:"w-[200px] h-auto mx-auto mb-5 object-contain"}),a.jsx("h1",{className:"text-xl font-bold text-foreground",children:"  "})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx("label",{className:"text-sm font-semibold text-muted-foreground",children:" "}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:s?"text":"password",value:e,onChange:f=>t(f.target.value),placeholder:"8  ",className:"w-full h-12 rounded-lg border border-border px-4 pr-12 text-base bg-card text-foreground placeholder:text-muted-foreground outline-none focus:border-primary"}),a.jsx("button",{onClick:()=>o(!s),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground bg-transparent border-none cursor-pointer",children:s?a.jsx(Hl,{className:"w-5 h-5"}):a.jsx(Ss,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[a.jsx("label",{className:"text-sm font-semibold text-muted-foreground",children:" "}),a.jsx("input",{type:"password",value:r,onChange:f=>n(f.target.value),placeholder:"  ",className:"w-full h-12 rounded-lg border border-border px-4 text-base bg-card text-foreground placeholder:text-muted-foreground outline-none focus:border-primary"})]}),a.jsx("button",{onClick:d,disabled:i,className:"w-full h-12 bg-header-navy text-white rounded-lg border-none text-base font-semibold cursor-pointer transition-all hover:opacity-90 disabled:opacity-50",children:i?" ...":" "})]})]})})})}const eT=()=>{const e=ji();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),a.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},tT={sites:5,workers:12,partners:3,pending:4,totalWorklogs:28,docs:15,recentWorklogs:[{id:"m1",site_name:"  ",status:"submitted",work_date:"2026-02-23",created_at:""},{id:"m2",site_name:" ",status:"approved",work_date:"2026-02-22",created_at:""},{id:"m3",site_name:" ",status:"rejected",work_date:"2026-02-21",created_at:""},{id:"m4",site_name:" ",status:"submitted",work_date:"2026-02-21",created_at:""},{id:"m5",site_name:" T2 ",status:"draft",work_date:"2026-02-20",created_at:""}]};function rT({onNavigate:e}){const{isTestMode:t}=Xe(),{data:r,isLoading:n}=bt({queryKey:["admin-dashboard-stats",t],queryFn:async()=>{if(t)return tT;const[{count:o},{count:i},{count:l},{count:c},{count:u},{count:h},{data:d}]=await Promise.all([ee.from("sites").select("*",{count:"exact",head:!0}),ee.from("user_roles").select("*",{count:"exact",head:!0}).eq("role","worker"),ee.from("user_roles").select("*",{count:"exact",head:!0}).eq("role","partner"),ee.from("worklogs").select("*",{count:"exact",head:!0}).in("status",["submitted","pending","draft"]),ee.from("worklogs").select("*",{count:"exact",head:!0}),ee.from("documents").select("*",{count:"exact",head:!0}),ee.from("worklogs").select("id, site_name, status, work_date, created_at").order("created_at",{ascending:!1}).limit(5)]);return{sites:o||0,workers:i||0,partners:l||0,pending:c||0,totalWorklogs:u||0,docs:h||0,recentWorklogs:d||[]}}}),s=m.useMemo(()=>[{key:"site",label:" ",value:(r==null?void 0:r.sites)??0,icon:Ye,color:"text-blue-500",bg:"bg-blue-50",border:"border-blue-200",tab:"site"},{key:"worker",label:"",value:(r==null?void 0:r.workers)??0,icon:Ka,color:"text-emerald-600",bg:"bg-emerald-50",border:"border-emerald-200",tab:"user"},{key:"partner",label:"",value:(r==null?void 0:r.partners)??0,icon:Gl,color:"text-violet-600",bg:"bg-violet-50",border:"border-violet-200",tab:"partner"},{key:"pending",label:"",value:(r==null?void 0:r.pending)??0,icon:c2,color:"text-amber-600",bg:"bg-amber-50",border:"border-amber-200",tab:"worklog"},{key:"worklogs",label:" ",value:(r==null?void 0:r.totalWorklogs)??0,icon:Tt,color:"text-primary",bg:"bg-primary/5",border:"border-primary/20",tab:"worklog"},{key:"docs",label:"",value:(r==null?void 0:r.docs)??0,icon:Fo,color:"text-text-sub",bg:"bg-muted",border:"border-border",tab:"doc"}],[r]);return n?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):a.jsxs("div",{className:"animate-fade-in",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-xl-app font-[800] text-header-navy mb-1",children:""}),a.jsx("p",{className:"text-[15px] text-text-sub font-medium",children:"   "})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-6",children:s.map(o=>a.jsxs("button",{onClick:()=>e(o.tab),className:F("p-4 rounded-2xl border flex flex-col gap-2 cursor-pointer transition-all active:scale-[0.98] hover:shadow-md text-left",o.bg,o.border),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(o.icon,{className:F("w-5 h-5",o.color)}),a.jsx(Zp,{className:"w-4 h-4 text-muted-foreground"})]}),a.jsx("span",{className:F("text-[28px] font-[800] leading-tight",o.color),children:o.value}),a.jsx("span",{className:"text-[13px] font-bold text-text-sub",children:o.label})]},o.key))}),a.jsxs("div",{className:"bg-card rounded-2xl shadow-soft p-5 mb-6",children:[a.jsxs("h3",{className:"text-[17px] font-[800] text-header-navy mb-4 flex items-center gap-2",children:[a.jsx(l2,{className:"w-5 h-5"}),"  "]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[{label:" ",tab:"worklog",icon:Tt,cls:"bg-indigo-50 text-indigo-600 border-indigo-200"},{label:" ",tab:"site",icon:Ye,cls:"bg-blue-50 text-blue-600 border-blue-200"},{label:" ",tab:"partner",icon:Gl,cls:"bg-violet-50 text-violet-600 border-violet-200"},{label:" ",tab:"user",icon:Ka,cls:"bg-emerald-50 text-emerald-600 border-emerald-200"},{label:" ",tab:"doc",icon:Fo,cls:"bg-muted text-text-sub border-border"}].map(o=>a.jsxs("button",{onClick:()=>e(o.tab),className:F("h-[52px] rounded-xl border flex items-center justify-center gap-2 text-[14px] font-bold cursor-pointer transition-all active:scale-[0.98]",o.cls),children:[a.jsx(o.icon,{className:"w-4 h-4"}),o.label]},o.label))})]}),a.jsxs("div",{className:"bg-card rounded-2xl shadow-soft p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-[17px] font-[800] text-header-navy flex items-center gap-2",children:[a.jsx(Tt,{className:"w-5 h-5"}),"  "]}),a.jsxs("button",{onClick:()=>e("worklog"),className:"text-[13px] font-bold text-primary bg-transparent border-none cursor-pointer flex items-center gap-1",children:[" ",a.jsx(Zp,{className:"w-3.5 h-3.5"})]})]}),((r==null?void 0:r.recentWorklogs)||[]).length===0?a.jsx("p",{className:"text-[14px] text-muted-foreground text-center py-6",children:"  "}):a.jsx("div",{className:"space-y-2",children:((r==null?void 0:r.recentWorklogs)||[]).map(o=>a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-dashed border-border last:border-0",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-[15px] font-bold text-foreground truncate",children:o.site_name}),a.jsx("div",{className:"text-[13px] text-text-sub font-medium",children:o.work_date})]}),a.jsx("span",{className:F("text-[12px] font-bold px-2.5 py-1 rounded-full",o.status==="approved"?"bg-muted text-muted-foreground":o.status==="rejected"?"bg-red-50 text-red-600":"bg-indigo-50 text-indigo-600"),children:o.status==="approved"?"":o.status==="rejected"?"":""})]},o.id))})]})]})}function nT(){const{isTestMode:e}=Xe(),[t,r]=m.useState(""),[n,s]=m.useState("latest"),[o,i]=m.useState("all"),[l,c]=m.useState(10),[u,h]=m.useState(()=>{try{return new Set(JSON.parse(localStorage.getItem("admin_pinned_ids")||"[]"))}catch{return new Set}}),[d,f]=m.useState(null),[p,v]=m.useState(""),y=ut(),w=[{id:"mw1",name:"",role:"",affiliation:"",site:"  ",siteId:"",member:"",process:"",workType:"",location:"A 3",man:8,cumDays:15,cumMan:120,task:"  ",status:"pending",latestDate:"2026-02-23T09:00:00",phone:"010-1234-5678",pinned:!1,worklogId:"mw1",materials:" D13 (50)"},{id:"mw2",name:"",role:"",affiliation:"",site:" ",siteId:"",member:"",process:"",workType:"",location:"B 1",man:12,cumDays:22,cumMan:264,task:"  ",status:"pending",latestDate:"2026-02-22T14:30:00",phone:"010-5678-1234",pinned:!1,worklogId:"mw2",materials:" (20kg)"},{id:"mw3",name:"",role:"",affiliation:"",site:" ",siteId:"",member:"",process:"",workType:"",location:"C",man:6,cumDays:8,cumMan:48,task:"  ",status:"approved",latestDate:"2026-02-21T16:00:00",phone:"010-9876-5432",pinned:!1,worklogId:"mw3",materials:" 25-21-15 (40)"},{id:"mw4",name:"",role:"",affiliation:"",site:" ",siteId:"",member:"",process:"",workType:"",location:"4",man:10,cumDays:30,cumMan:300,task:"  ",status:"rejected",latestDate:"2026-02-20T11:00:00",phone:"010-1111-2222",pinned:!1,worklogId:"mw4",materials:" D16 (30)   (5kg)"},{id:"mw5",name:"",role:"",affiliation:"",site:" T2 ",siteId:"",member:"",process:"",workType:"",location:" E",man:14,cumDays:45,cumMan:630,task:"  ",status:"pending",latestDate:"2026-02-23T08:00:00",phone:"",pinned:!1,worklogId:"mw5",materials:" (120)   (80)"}],{data:x=[],isLoading:g}=bt({queryKey:["admin-all-worklogs",e],queryFn:async()=>{if(e)return w;const{data:S,error:z}=await ee.from("worklogs").select(`
          id, site_name, site_id, work_date, status, created_by, created_at, dept, weather,
          worklog_manpower(worker_name, work_hours),
          worklog_worksets(member, process, work_type, block, dong, floor),
          worklog_materials(name, qty)
        `).order("created_at",{ascending:!1}).limit(200);if(z)throw z;const M=[...new Set((S||[]).map(q=>q.created_by))],{data:L}=await ee.from("profiles").select("user_id, name, phone, affiliation").in("user_id",M),O={};return L==null||L.forEach(q=>{O[q.user_id]=q}),(S||[]).map(q=>{const V=O[q.created_by],$=q.worklog_manpower||[],P=q.worklog_worksets||[],I=q.worklog_materials||[],D=P[0],K=$.reduce((B,T)=>B+(T.work_hours||0),0),Q=D&&[D.block,D.dong,D.floor].filter(Boolean).join(" ")||"";return{id:q.id,name:(V==null?void 0:V.name)||"",role:"",affiliation:(V==null?void 0:V.affiliation)||"",site:q.site_name,siteId:q.site_id,member:(D==null?void 0:D.member)||"-",process:(D==null?void 0:D.process)||"-",workType:(D==null?void 0:D.work_type)||"-",location:Q,man:K,cumDays:0,cumMan:0,task:P.map(B=>`${B.member||""} ${B.process||""}`).join(", ")||"  ",status:q.status==="draft"||q.status==="submitted"?"pending":q.status,latestDate:q.created_at,phone:(V==null?void 0:V.phone)||"",pinned:!1,worklogId:q.id,materials:I.map(B=>`${B.name} (${B.qty})`).join("  ")||"-"}})}}),b=gt({mutationFn:async({worklogId:S,newStatus:z})=>{const{error:M}=await ee.from("worklogs").update({status:z}).eq("id",S);if(M)throw M},onSuccess:()=>{y.invalidateQueries({queryKey:["admin-all-worklogs"]}),f(null),v(""),le.success(" ")}}),j=m.useCallback(S=>{h(z=>{const M=new Set(z);return M.has(S)?M.delete(S):M.add(S),localStorage.setItem("admin_pinned_ids",JSON.stringify([...M])),M})},[]),N=m.useMemo(()=>x.map(S=>({...S,pinned:u.has(S.id)})),[x,u]),_=m.useMemo(()=>{let S=N.filter(z=>{const M=t.toLowerCase(),L=!M||z.name.toLowerCase().includes(M)||z.site.toLowerCase().includes(M),O=o==="all"||z.status===o;return L&&O});return S.sort((z,M)=>z.pinned!==M.pinned?z.pinned?-1:1:n==="name"?z.name.localeCompare(M.name,"ko"):new Date(M.latestDate).getTime()-new Date(z.latestDate).getTime()),S},[N,t,o,n]),k=_.slice(0,l),E=m.useMemo(()=>({all:N.length,pending:N.filter(S=>S.status==="pending").length,approved:N.filter(S=>S.status==="approved").length,rejected:N.filter(S=>S.status==="rejected").length}),[N]),A=S=>{if(!S)return"";const z=new Date(S);return`${String(z.getMonth()+1).padStart(2,"0")}.${String(z.getDate()).padStart(2,"0")}`};return g?a.jsx("div",{className:"py-20 text-center text-muted-foreground",children:" ..."}):a.jsxs("div",{className:"animate-fade-in",children:[a.jsx("h1",{className:"text-xl-app font-[800] text-header-navy mb-1",children:" "}),a.jsx("p",{className:"text-[15px] text-text-sub font-medium mb-5",children:"   /"}),a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("input",{value:t,onChange:S=>r(S.target.value),placeholder:"   ",className:"w-full h-[48px] bg-card border border-border rounded-xl pl-4 pr-10 text-[15px] font-medium text-foreground placeholder:text-muted-foreground outline-none transition-all focus:border-primary focus:shadow-input-focus"}),t?a.jsx("button",{onClick:()=>r(""),className:"absolute right-3 top-1/2 -translate-y-1/2",children:a.jsx(_e,{className:"w-4 h-4 text-muted-foreground"})}):a.jsx(Rt,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"})]}),a.jsxs("select",{value:n,onChange:S=>s(S.target.value),className:"w-[90px] h-[48px] bg-card border border-border rounded-xl px-3 text-[14px] font-semibold text-foreground appearance-none cursor-pointer outline-none",children:[a.jsx("option",{value:"latest",children:""}),a.jsx("option",{value:"name",children:""})]})]}),a.jsx("div",{className:"grid grid-cols-4 gap-2 mb-5",children:[{key:"all",label:"",val:E.all,cls:"bg-blue-50 text-blue-500 border-blue-200"},{key:"pending",label:"",val:E.pending,cls:"bg-indigo-50 text-indigo-600 border-indigo-200"},{key:"approved",label:"",val:E.approved,cls:"bg-muted text-text-sub border-border"},{key:"rejected",label:"",val:E.rejected,cls:"bg-red-50 text-red-600 border-red-200"}].map(S=>a.jsxs("button",{onClick:()=>i(S.key),className:F("p-3 rounded-xl text-center flex flex-col items-center gap-0.5 border cursor-pointer transition-all active:scale-[0.98]",S.cls,o===S.key&&"ring-2 ring-primary/30"),children:[a.jsx("span",{className:"text-[20px] font-[800]",children:S.val}),a.jsx("span",{className:"text-[12px] font-bold",children:S.label})]},S.key))}),_.length===0?a.jsx("div",{className:"text-center py-16 text-muted-foreground",children:" "}):a.jsx("div",{className:"space-y-3",children:k.map(S=>a.jsxs("div",{className:F("bg-card rounded-2xl shadow-soft overflow-hidden relative",S.pinned&&"border-2 border-primary"),children:[a.jsx("span",{className:F("absolute top-0 right-0 text-[11px] font-bold px-3 py-1.5 text-white rounded-bl-xl z-10",S.status==="pending"?"bg-indigo-500":S.status==="approved"?"bg-muted-foreground":"bg-destructive"),children:S.status==="pending"?"":S.status==="approved"?"":""}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-[18px] font-[800] text-header-navy",children:S.name}),a.jsx("span",{className:"text-[13px] font-semibold text-text-sub",children:S.affiliation}),a.jsx("button",{onClick:()=>j(S.id),className:F("ml-auto p-1",S.pinned?"text-primary":"text-border"),children:S.pinned?a.jsx(Cc,{className:"w-4 h-4 fill-current"}):a.jsx(Sc,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"text-[15px] font-bold text-primary mb-1",children:S.site}),a.jsxs("div",{className:"text-[13px] text-text-sub font-medium mb-2",children:[A(S.latestDate),"  ",S.member,"  ",S.process,"  ",S.location]}),a.jsxs("div",{className:"grid grid-cols-3 bg-muted/50 rounded-xl p-2.5 border border-border/50 mb-3",children:[a.jsxs("div",{className:"text-center border-r border-border",children:[a.jsx("span",{className:"block text-[16px] font-[800] text-primary",children:S.man}),a.jsx("span",{className:"block text-[10px] font-bold text-text-sub",children:" "})]}),a.jsxs("div",{className:"text-center border-r border-border",children:[a.jsxs("span",{className:"block text-[16px] font-[800] text-primary",children:[S.cumDays,""]}),a.jsx("span",{className:"block text-[10px] font-bold text-text-sub",children:" "})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"block text-[16px] font-[800] text-primary",children:S.cumMan}),a.jsx("span",{className:"block text-[10px] font-bold text-text-sub",children:" "})]})]}),a.jsxs("div",{className:"flex gap-2",children:[S.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>b.mutate({worklogId:S.worklogId,newStatus:"approved"}),className:"flex-1 h-10 bg-emerald-50 text-emerald-700 border border-emerald-200 rounded-xl font-bold text-[13px] flex items-center justify-center gap-1 cursor-pointer active:scale-[0.98]",children:[a.jsx(Ca,{className:"w-3.5 h-3.5"})," "]}),a.jsxs("button",{onClick:()=>{f(S),v("")},className:"flex-1 h-10 bg-red-50 text-red-600 border border-red-200 rounded-xl font-bold text-[13px] flex items-center justify-center gap-1 cursor-pointer active:scale-[0.98]",children:[a.jsx(hf,{className:"w-3.5 h-3.5"})," "]})]}),S.phone&&a.jsx("a",{href:`tel:${S.phone}`,className:"h-10 px-4 bg-blue-50 text-blue-600 border border-blue-200 rounded-xl font-bold text-[13px] flex items-center justify-center gap-1 no-underline",children:a.jsx(Bn,{className:"w-3.5 h-3.5"})}),a.jsxs("button",{onClick:()=>f(S),className:"h-10 px-4 bg-muted text-text-sub border border-border rounded-xl font-bold text-[13px] flex items-center justify-center gap-1 cursor-pointer active:scale-[0.98]",children:[a.jsx(Fo,{className:"w-3.5 h-3.5"})," "]})]})]})]},S.id))}),l<_.length&&a.jsxs("button",{onClick:()=>c(S=>S+10),className:"w-full h-[48px] mt-4 bg-card border border-border rounded-full text-text-sub font-semibold text-[14px] flex items-center justify-center gap-1 cursor-pointer hover:bg-muted",children:["  ",a.jsx(nt,{className:"w-4 h-4"})]}),d&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-[2000] flex items-end md:items-center justify-center",onClick:()=>f(null),children:a.jsxs("div",{className:"w-full max-w-[500px] bg-card rounded-t-[20px] md:rounded-2xl p-6 max-h-[85vh] overflow-y-auto animate-slide-up",onClick:S=>S.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsx("h3",{className:"text-[18px] font-[800] text-header-navy",children:" "}),a.jsx("button",{onClick:()=>f(null),className:"bg-transparent border-none cursor-pointer p-1",children:a.jsx(_e,{className:"w-5 h-5 text-text-sub"})})]}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsx(Ws,{label:"",value:`${d.name} (${d.affiliation})`}),a.jsx(Ws,{label:"",value:d.site}),a.jsx(Ws,{label:"",value:d.task}),a.jsx(Ws,{label:"",value:`${d.member}  ${d.process}  ${d.location}`}),a.jsx(Ws,{label:"",value:`${d.man} `}),a.jsx(Ws,{label:"",value:d.materials})]}),d.status==="pending"&&a.jsxs("div",{className:"border-t border-border pt-4",children:[a.jsx("textarea",{value:p,onChange:S=>v(S.target.value),placeholder:"   (  )",className:"w-full min-h-[80px] p-3 border border-border rounded-xl text-[14px] resize-none outline-none focus:border-primary mb-3"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>b.mutate({worklogId:d.worklogId,newStatus:"approved"}),className:"flex-1 h-12 bg-primary text-primary-foreground rounded-xl font-bold text-[15px] cursor-pointer active:scale-[0.98]",children:""}),a.jsx("button",{onClick:()=>{if(!p.trim()){le.error("  ");return}b.mutate({worklogId:d.worklogId,newStatus:"rejected"})},className:"flex-1 h-12 bg-destructive text-destructive-foreground rounded-xl font-bold text-[15px] cursor-pointer active:scale-[0.98]",children:""})]})]})]})})]})}function Ws({label:e,value:t}){return a.jsxs("div",{className:"bg-muted/50 rounded-xl p-3 border border-border/50",children:[a.jsx("div",{className:"text-[12px] font-bold text-text-sub mb-1",children:e}),a.jsx("div",{className:"text-[15px] font-bold text-foreground",children:t})]})}function sT(){const{user:e,isTestMode:t}=Xe(),r=ut(),[n,s]=m.useState(""),[o,i]=m.useState("all"),[l,c]=m.useState(!1),[u,h]=m.useState(null),[d,f]=m.useState(null),[p,v]=m.useState(""),[y,w]=m.useState(""),[x,g]=m.useState(""),[b,j]=m.useState(""),[N,_]=m.useState(""),k=[{id:"s1",name:"  ",address:"   123",status:"",manager_name:"",manager_phone:"010-1111-2222",created_at:"2026-01-15",memberCount:8},{id:"s2",name:" ",address:"    456",status:"",manager_name:"",manager_phone:"010-9999-0000",created_at:"2026-01-20",memberCount:12},{id:"s3",name:" ",address:"   789",status:"",manager_name:null,manager_phone:null,created_at:"2026-02-01",memberCount:0},{id:"s4",name:" ",address:"   101",status:"",manager_name:"",manager_phone:"010-9876-5432",created_at:"2025-11-01",memberCount:6},{id:"s5",name:" T2 ",address:"    272",status:"",manager_name:"",manager_phone:"010-3333-4444",created_at:"2025-10-15",memberCount:15}],{data:E=[],isLoading:A}=bt({queryKey:["admin-sites",t],queryFn:async()=>{if(t)return k;const{data:$,error:P}=await ee.from("sites").select("*").order("created_at",{ascending:!1});if(P)throw P;const{data:I}=await ee.from("site_members").select("site_id"),D={};return I==null||I.forEach(K=>{D[K.site_id]=(D[K.site_id]||0)+1}),($||[]).map(K=>({...K,memberCount:D[K.id]||0}))}}),S=gt({mutationFn:async $=>{const{error:P}=await ee.from("sites").insert({...$,created_by:e==null?void 0:e.id});if(P)throw P},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-sites"]}),c(!1),L(),le.success(" ")},onError:()=>le.error(" ")}),z=gt({mutationFn:async({id:$,...P})=>{const{error:I}=await ee.from("sites").update(P).eq("id",$);if(I)throw I},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-sites"]}),h(null),L(),le.success("  ")}}),M=gt({mutationFn:async $=>{const{error:P}=await ee.from("sites").delete().eq("id",$);if(P)throw P},onSuccess:()=>{r.invalidateQueries({queryKey:["admin-sites"]}),le.success(" ")}}),L=()=>{v(""),w(""),g(""),j(""),_("")},O=$=>{h($),v($.name),w($.address||""),g($.status),j($.manager_name||""),_($.manager_phone||"")},q=m.useMemo(()=>E.filter($=>{const P=n.toLowerCase(),I=!P||$.name.toLowerCase().includes(P)||($.address||"").toLowerCase().includes(P),D=o==="all"||$.status===o;return I&&D}),[E,n,o]),V=m.useMemo(()=>({total:E.length,ing:E.filter($=>$.status==="").length,wait:E.filter($=>$.status==="").length,done:E.filter($=>$.status==="").length}),[E]);return A?a.jsx("div",{className:"py-20 text-center text-muted-foreground",children:" ..."}):a.jsxs("div",{className:"animate-fade-in",children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl-app font-[800] text-header-navy mb-1",children:" "}),a.jsx("p",{className:"text-[15px] text-text-sub font-medium",children:" , ,  "})]}),a.jsxs("button",{onClick:()=>{L(),c(!0)},className:"h-10 px-4 bg-primary text-primary-foreground rounded-xl font-bold text-[14px] flex items-center gap-1.5 cursor-pointer active:scale-[0.98]",children:[a.jsx(Ec,{className:"w-4 h-4"})," "]})]}),a.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[{key:"all",label:"",val:V.total,cls:"bg-blue-50 text-blue-500 border-blue-200"},{key:"",label:"",val:V.ing,cls:"bg-emerald-50 text-emerald-600 border-emerald-200"},{key:"",label:"",val:V.wait,cls:"bg-violet-50 text-violet-600 border-violet-200"},{key:"",label:"",val:V.done,cls:"bg-muted text-text-sub border-border"}].map($=>a.jsxs("button",{onClick:()=>i($.key),className:F("p-2.5 rounded-xl text-center border cursor-pointer transition-all active:scale-[0.98]",$.cls,o===$.key&&"ring-2 ring-primary/30"),children:[a.jsx("div",{className:"text-[18px] font-[800]",children:$.val}),a.jsx("div",{className:"text-[11px] font-bold",children:$.label})]},$.key))}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx("input",{value:n,onChange:$=>s($.target.value),placeholder:"   ",className:"w-full h-[48px] bg-card border border-border rounded-xl pl-4 pr-10 text-[15px] font-medium outline-none focus:border-primary focus:shadow-input-focus"}),n?a.jsx("button",{onClick:()=>s(""),className:"absolute right-3 top-1/2 -translate-y-1/2",children:a.jsx(_e,{className:"w-4 h-4 text-muted-foreground"})}):a.jsx(Rt,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"})]}),a.jsx("div",{className:"space-y-3",children:q.map($=>a.jsxs("div",{className:"bg-card rounded-2xl shadow-soft p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-[17px] font-[800] text-header-navy truncate",children:$.name}),$.address&&a.jsx("div",{className:"text-[13px] text-text-sub mt-0.5 truncate",children:$.address})]}),a.jsx("span",{className:F("text-[11px] font-bold px-2.5 py-1 rounded-full text-white ml-2 flex-shrink-0",$.status===""?"bg-blue-500":$.status===""?"bg-violet-500":"bg-muted-foreground"),children:$.status})]}),a.jsxs("div",{className:"flex items-center gap-3 text-[13px] text-text-sub font-medium mb-3",children:[$.manager_name&&a.jsxs("span",{children:[" ",$.manager_name]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ka,{className:"w-3.5 h-3.5"})," ",$.memberCount,""]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>O($),className:"flex-1 h-9 bg-blue-50 text-blue-600 border border-blue-200 rounded-lg font-bold text-[13px] flex items-center justify-center gap-1 cursor-pointer active:scale-[0.98]",children:[a.jsx(_b,{className:"w-3.5 h-3.5"})," "]}),a.jsxs("button",{onClick:()=>f($.id),className:"flex-1 h-9 bg-violet-50 text-violet-600 border border-violet-200 rounded-lg font-bold text-[13px] flex items-center justify-center gap-1 cursor-pointer active:scale-[0.98]",children:[a.jsx(ff,{className:"w-3.5 h-3.5"})," "]}),a.jsx("button",{onClick:()=>{confirm(" ?")&&M.mutate($.id)},className:"h-9 px-3 bg-red-50 text-red-600 border border-red-200 rounded-lg cursor-pointer active:scale-[0.98]",children:a.jsx(bi,{className:"w-3.5 h-3.5"})})]})]},$.id))}),(l||u)&&a.jsx(oT,{title:u?" ":" ",name:p,setName:v,addr:y,setAddr:w,status:x,setStatus:g,manager:b,setManager:j,phone:N,setPhone:_,onClose:()=>{c(!1),h(null),L()},onSubmit:()=>{if(!p.trim()){le.error(" ");return}u?z.mutate({id:u.id,name:p,address:y,status:x,manager_name:b,manager_phone:N}):S.mutate({name:p,address:y,status:x,manager_name:b,manager_phone:N})},isEdit:!!u}),d&&a.jsx(aT,{siteId:d,onClose:()=>f(null)})]})}function oT({title:e,name:t,setName:r,addr:n,setAddr:s,status:o,setStatus:i,manager:l,setManager:c,phone:u,setPhone:h,onClose:d,onSubmit:f,isEdit:p}){return a.jsx("div",{className:"fixed inset-0 bg-black/50 z-[2000] flex items-end md:items-center justify-center",onClick:d,children:a.jsxs("div",{className:"w-full max-w-[500px] bg-card rounded-t-[20px] md:rounded-2xl p-6 animate-slide-up",onClick:v=>v.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsx("h3",{className:"text-[18px] font-[800] text-header-navy",children:e}),a.jsx("button",{onClick:d,className:"bg-transparent border-none cursor-pointer",children:a.jsx(_e,{className:"w-5 h-5 text-text-sub"})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(ol,{label:" *",value:t,onChange:r,placeholder:" "}),a.jsx(ol,{label:"",value:n,onChange:s,placeholder:" "}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-[13px] font-bold text-text-sub mb-1",children:""}),a.jsxs("select",{value:o,onChange:v=>i(v.target.value),className:"w-full h-[44px] bg-card border border-border rounded-xl px-3 text-[14px] font-medium outline-none",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""})]})]}),a.jsx(ol,{label:"",value:l,onChange:c,placeholder:""}),a.jsx(ol,{label:"",value:u,onChange:h,placeholder:"010-0000-0000"})]}),a.jsx("button",{onClick:f,className:"w-full h-12 mt-5 bg-primary text-primary-foreground rounded-xl font-bold text-[15px] cursor-pointer active:scale-[0.98]",children:p?" ":""})]})})}function ol({label:e,value:t,onChange:r,placeholder:n}){return a.jsxs("div",{children:[a.jsx("label",{className:"block text-[13px] font-bold text-text-sub mb-1",children:e}),a.jsx("input",{value:t,onChange:s=>r(s.target.value),placeholder:n,className:"w-full h-[44px] bg-card border border-border rounded-xl px-3 text-[14px] font-medium outline-none focus:border-primary"})]})}function aT({siteId:e,onClose:t}){const r=ut(),[n,s]=m.useState(""),{data:o=[]}=bt({queryKey:["site-members",e],queryFn:async()=>{const{data:d,error:f}=await ee.from("site_members").select("*, profiles:user_id(name, affiliation, phone)").eq("site_id",e);if(f)throw f;return d||[]}}),{data:i=[]}=bt({queryKey:["all-users-for-assign"],queryFn:async()=>{const{data:d,error:f}=await ee.from("profiles").select("user_id, name, affiliation, phone");if(f)throw f;return d||[]}}),l=new Set(o.map(d=>d.user_id)),c=i.filter(d=>!l.has(d.user_id)&&(!n||d.name.toLowerCase().includes(n.toLowerCase())||(d.affiliation||"").toLowerCase().includes(n.toLowerCase()))),u=gt({mutationFn:async d=>{const{error:f}=await ee.from("site_members").insert({site_id:e,user_id:d,role:"worker"});if(f)throw f},onSuccess:()=>{r.invalidateQueries({queryKey:["site-members",e]}),r.invalidateQueries({queryKey:["admin-sites"]}),le.success(" ")}}),h=gt({mutationFn:async d=>{const{error:f}=await ee.from("site_members").delete().eq("id",d);if(f)throw f},onSuccess:()=>{r.invalidateQueries({queryKey:["site-members",e]}),r.invalidateQueries({queryKey:["admin-sites"]}),le.success(" ")}});return a.jsx("div",{className:"fixed inset-0 bg-black/50 z-[2000] flex items-end md:items-center justify-center",onClick:t,children:a.jsxs("div",{className:"w-full max-w-[500px] bg-card rounded-t-[20px] md:rounded-2xl p-6 max-h-[85vh] overflow-y-auto animate-slide-up",onClick:d=>d.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-[18px] font-[800] text-header-navy",children:" "}),a.jsx("button",{onClick:t,className:"bg-transparent border-none cursor-pointer",children:a.jsx(_e,{className:"w-5 h-5 text-text-sub"})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"text-[14px] font-bold text-text-sub mb-2",children:["   (",o.length,")"]}),o.length===0?a.jsx("p",{className:"text-[13px] text-muted-foreground",children:"  "}):a.jsx("div",{className:"space-y-2",children:o.map(d=>{var f,p;return a.jsxs("div",{className:"flex items-center justify-between bg-muted/50 rounded-xl p-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-[14px] font-bold text-foreground",children:((f=d.profiles)==null?void 0:f.name)||""}),a.jsx("span",{className:"text-[12px] text-text-sub ml-2",children:((p=d.profiles)==null?void 0:p.affiliation)||""})]}),a.jsx("button",{onClick:()=>h.mutate(d.id),className:"text-destructive bg-transparent border-none cursor-pointer p-1",children:a.jsx(bi,{className:"w-4 h-4"})})]},d.id)})})]}),a.jsxs("div",{className:"border-t border-border pt-4",children:[a.jsx("div",{className:"text-[14px] font-bold text-text-sub mb-2",children:" "}),a.jsx("input",{value:n,onChange:d=>s(d.target.value),placeholder:"   ",className:"w-full h-[44px] bg-card border border-border rounded-xl px-3 text-[14px] font-medium outline-none focus:border-primary mb-3"}),a.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:c.slice(0,20).map(d=>a.jsxs("div",{className:"flex items-center justify-between bg-card border border-border rounded-xl p-3",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-[14px] font-bold text-foreground",children:d.name}),a.jsx("span",{className:"text-[12px] text-text-sub ml-2",children:d.affiliation||""})]}),a.jsx("button",{onClick:()=>u.mutate(d.user_id),className:"h-8 px-3 bg-primary/10 text-primary rounded-lg font-bold text-[12px] cursor-pointer active:scale-[0.98]",children:a.jsx(ff,{className:"w-3.5 h-3.5"})})]},d.user_id))})]})]})})}function iT(){const{isTestMode:e}=Xe(),[t,r]=m.useState(""),[n,s]=m.useState("all"),o=[{user_id:"u1",name:"",phone:"010-1234-5678",affiliation:"",role:"worker",siteCount:3,worklogCount:15},{user_id:"u2",name:"",phone:"010-5678-1234",affiliation:"",role:"worker",siteCount:2,worklogCount:22},{user_id:"u3",name:"",phone:"010-9876-5432",affiliation:"",role:"worker",siteCount:1,worklogCount:8},{user_id:"u4",name:"",phone:"010-1111-2222",affiliation:"",role:"admin",siteCount:5,worklogCount:0},{user_id:"u5",name:"",phone:"010-3333-4444",affiliation:"",role:"worker",siteCount:4,worklogCount:45},{user_id:"u6",name:"",phone:"010-5555-6666",affiliation:"",role:"partner",siteCount:2,worklogCount:0},{user_id:"u7",name:"",phone:"010-7777-8888",affiliation:"",role:"partner",siteCount:3,worklogCount:0},{user_id:"u8",name:"",phone:"010-9999-0000",affiliation:"",role:"admin",siteCount:5,worklogCount:0}],{data:i=[],isLoading:l}=bt({queryKey:["admin-users",e],queryFn:async()=>{if(e)return o;const{data:f,error:p}=await ee.from("profiles").select("user_id, name, phone, affiliation");if(p)throw p;const{data:v,error:y}=await ee.from("user_roles").select("user_id, role");if(y)throw y;const{data:w}=await ee.from("site_members").select("user_id"),x={};w==null||w.forEach(N=>{x[N.user_id]=(x[N.user_id]||0)+1});const{data:g}=await ee.from("worklogs").select("created_by"),b={};g==null||g.forEach(N=>{b[N.created_by]=(b[N.created_by]||0)+1});const j={};return v==null||v.forEach(N=>{j[N.user_id]=N.role}),(f||[]).map(N=>({user_id:N.user_id,name:N.name||"",phone:N.phone,affiliation:N.affiliation,role:j[N.user_id]||"worker",siteCount:x[N.user_id]||0,worklogCount:b[N.user_id]||0}))}}),c=m.useMemo(()=>i.filter(f=>{const p=t.toLowerCase(),v=!p||f.name.toLowerCase().includes(p)||(f.affiliation||"").toLowerCase().includes(p),y=n==="all"||f.role===n;return v&&y}),[i,t,n]),u=m.useMemo(()=>({total:i.length,worker:i.filter(f=>f.role==="worker").length,admin:i.filter(f=>f.role==="admin").length,partner:i.filter(f=>f.role==="partner").length}),[i]),h={admin:"",worker:"",partner:""},d={admin:"bg-amber-50 text-amber-700 border-amber-200",worker:"bg-blue-50 text-blue-600 border-blue-200",partner:"bg-violet-50 text-violet-600 border-violet-200"};return l?a.jsx("div",{className:"py-20 text-center text-muted-foreground",children:" ..."}):a.jsxs("div",{className:"animate-fade-in",children:[a.jsx("h1",{className:"text-xl-app font-[800] text-header-navy mb-1",children:" "}),a.jsx("p",{className:"text-[15px] text-text-sub font-medium mb-5",children:"     "}),a.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[{key:"all",label:"",val:u.total,cls:"bg-blue-50 text-blue-500 border-blue-200"},{key:"worker",label:"",val:u.worker,cls:"bg-emerald-50 text-emerald-600 border-emerald-200"},{key:"admin",label:"",val:u.admin,cls:"bg-amber-50 text-amber-700 border-amber-200"},{key:"partner",label:"",val:u.partner,cls:"bg-violet-50 text-violet-600 border-violet-200"}].map(f=>a.jsxs("button",{onClick:()=>s(f.key),className:F("p-2.5 rounded-xl text-center border cursor-pointer transition-all active:scale-[0.98]",f.cls,n===f.key&&"ring-2 ring-primary/30"),children:[a.jsx("div",{className:"text-[18px] font-[800]",children:f.val}),a.jsx("div",{className:"text-[11px] font-bold",children:f.label})]},f.key))}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx("input",{value:t,onChange:f=>r(f.target.value),placeholder:"   ",className:"w-full h-[48px] bg-card border border-border rounded-xl pl-4 pr-10 text-[15px] font-medium outline-none focus:border-primary focus:shadow-input-focus"}),t?a.jsx("button",{onClick:()=>r(""),className:"absolute right-3 top-1/2 -translate-y-1/2",children:a.jsx(_e,{className:"w-4 h-4 text-muted-foreground"})}):a.jsx(Rt,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"})]}),c.length===0?a.jsx("div",{className:"text-center py-16 text-muted-foreground",children:" "}):a.jsx("div",{className:"space-y-2",children:c.map(f=>a.jsxs("div",{className:"bg-card rounded-2xl shadow-soft p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-[16px] font-[800] text-primary",children:f.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[16px] font-[800] text-header-navy",children:f.name}),a.jsx("div",{className:"text-[13px] text-text-sub font-medium",children:f.affiliation||" "})]})]}),a.jsx("span",{className:F("text-[11px] font-bold px-2.5 py-1 rounded-full border",d[f.role]||d.worker),children:h[f.role]||f.role})]}),a.jsxs("div",{className:"flex items-center gap-4 text-[13px] text-text-sub font-medium",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ye,{className:"w-3.5 h-3.5"}),"  ",f.siteCount,""]}),a.jsxs("span",{children:[" ",f.worklogCount,""]}),f.phone&&a.jsxs("a",{href:`tel:${f.phone}`,className:"flex items-center gap-1 text-blue-500 no-underline ml-auto",children:[a.jsx(Bn,{className:"w-3.5 h-3.5"})," ",f.phone]})]})]},f.user_id))})]})}function lT(){const{isTestMode:e}=Xe();ut();const[t,r]=m.useState(""),[n,s]=m.useState(null),[o,i]=m.useState(null),l=[{user_id:"p1",name:"",affiliation:"",phone:"010-5555-6666",siteCount:2,deploymentCount:8},{user_id:"p2",name:"",affiliation:"",phone:"010-7777-8888",siteCount:3,deploymentCount:15},{user_id:"p3",name:"",affiliation:"",phone:"010-4444-3333",siteCount:1,deploymentCount:5}],{data:c=[],isLoading:u}=bt({queryKey:["admin-partners",e],queryFn:async()=>{if(e)return l;const{data:d,error:f}=await ee.from("user_roles").select("user_id").eq("role","partner");if(f)throw f;const p=(d||[]).map(j=>j.user_id);if(p.length===0)return[];const{data:v,error:y}=await ee.from("profiles").select("user_id, name, affiliation, phone").in("user_id",p);if(y)throw y;const{data:w}=await ee.from("site_members").select("user_id").in("user_id",p),x={};w==null||w.forEach(j=>{x[j.user_id]=(x[j.user_id]||0)+1});const{data:g}=await ee.from("partner_deployments").select("partner_user_id").in("partner_user_id",p),b={};return g==null||g.forEach(j=>{b[j.partner_user_id]=(b[j.partner_user_id]||0)+1}),(v||[]).map(j=>({user_id:j.user_id,name:j.name||"",affiliation:j.affiliation,phone:j.phone,siteCount:x[j.user_id]||0,deploymentCount:b[j.user_id]||0}))}}),h=m.useMemo(()=>{const d=t.toLowerCase();return c.filter(f=>!d||f.name.toLowerCase().includes(d)||(f.affiliation||"").toLowerCase().includes(d))},[c,t]);return u?a.jsx("div",{className:"py-20 text-center text-muted-foreground",children:" ..."}):a.jsxs("div",{className:"animate-fade-in",children:[a.jsx("h1",{className:"text-xl-app font-[800] text-header-navy mb-1",children:" "}),a.jsx("p",{className:"text-[15px] text-text-sub font-medium mb-5",children:"     "}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[a.jsxs("div",{className:"p-3.5 rounded-xl text-center bg-violet-50 border border-violet-200",children:[a.jsx("div",{className:"text-[22px] font-[800] text-violet-600",children:c.length}),a.jsx("div",{className:"text-[12px] font-bold text-violet-600",children:""})]}),a.jsxs("div",{className:"p-3.5 rounded-xl text-center bg-blue-50 border border-blue-200",children:[a.jsx("div",{className:"text-[22px] font-[800] text-blue-500",children:c.reduce((d,f)=>d+f.siteCount,0)}),a.jsx("div",{className:"text-[12px] font-bold text-blue-500",children:" "})]}),a.jsxs("div",{className:"p-3.5 rounded-xl text-center bg-emerald-50 border border-emerald-200",children:[a.jsx("div",{className:"text-[22px] font-[800] text-emerald-600",children:c.reduce((d,f)=>d+f.deploymentCount,0)}),a.jsx("div",{className:"text-[12px] font-bold text-emerald-600",children:" "})]})]}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx("input",{value:t,onChange:d=>r(d.target.value),placeholder:"    ",className:"w-full h-[48px] bg-card border border-border rounded-xl pl-4 pr-10 text-[15px] font-medium outline-none focus:border-primary focus:shadow-input-focus"}),t?a.jsx("button",{onClick:()=>r(""),className:"absolute right-3 top-1/2 -translate-y-1/2",children:a.jsx(_e,{className:"w-4 h-4 text-muted-foreground"})}):a.jsx(Rt,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"})]}),h.length===0?a.jsxs("div",{className:"text-center py-16 text-muted-foreground flex flex-col items-center gap-2",children:[a.jsx(Gl,{className:"w-10 h-10 opacity-50"}),a.jsx("p",{children:"  "})]}):a.jsx("div",{className:"space-y-3",children:h.map(d=>a.jsxs("div",{className:"bg-card rounded-2xl shadow-soft p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-violet-100 flex items-center justify-center text-[18px] font-[800] text-violet-600",children:d.name.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-[17px] font-[800] text-header-navy",children:d.name}),a.jsx("div",{className:"text-[13px] text-text-sub font-medium",children:d.affiliation||""})]}),a.jsx("span",{className:"text-[11px] font-bold px-2.5 py-1 rounded-full bg-violet-50 text-violet-600 border border-violet-200",children:""})]}),a.jsxs("div",{className:"grid grid-cols-3 bg-muted/50 rounded-xl p-2.5 border border-border/50 mb-3",children:[a.jsxs("div",{className:"text-center border-r border-border",children:[a.jsx("span",{className:"block text-[16px] font-[800] text-primary",children:d.siteCount}),a.jsx("span",{className:"block text-[10px] font-bold text-text-sub",children:" "})]}),a.jsxs("div",{className:"text-center border-r border-border",children:[a.jsx("span",{className:"block text-[16px] font-[800] text-primary",children:d.deploymentCount}),a.jsx("span",{className:"block text-[10px] font-bold text-text-sub",children:" "})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"block text-[16px] font-[800] text-primary",children:d.phone?"":"-"}),a.jsx("span",{className:"block text-[10px] font-bold text-text-sub",children:""})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>i(d.user_id),className:"flex-1 h-10 bg-violet-50 text-violet-600 border border-violet-200 rounded-xl font-bold text-[13px] flex items-center justify-center gap-1 cursor-pointer active:scale-[0.98]",children:[a.jsx(ff,{className:"w-3.5 h-3.5"}),"  "]}),a.jsxs("button",{onClick:()=>s(d),className:"flex-1 h-10 bg-blue-50 text-blue-600 border border-blue-200 rounded-xl font-bold text-[13px] flex items-center justify-center gap-1 cursor-pointer active:scale-[0.98]",children:[a.jsx(Ss,{className:"w-3.5 h-3.5"}),"  "]})]})]},d.user_id))}),o&&a.jsx(cT,{partnerId:o,onClose:()=>i(null)}),n&&a.jsx(uT,{partner:n,onClose:()=>s(null)})]})}function cT({partnerId:e,onClose:t}){const r=ut(),[n,s]=m.useState(""),{data:o=[]}=bt({queryKey:["partner-sites",e],queryFn:async()=>{const{data:d}=await ee.from("site_members").select("id, site_id, sites:site_id(name, status)").eq("user_id",e);return d||[]}}),{data:i=[]}=bt({queryKey:["all-sites-for-assign"],queryFn:async()=>{const{data:d}=await ee.from("sites").select("id, name, status");return d||[]}}),l=new Set(o.map(d=>d.site_id)),c=i.filter(d=>!l.has(d.id)&&(!n||d.name.toLowerCase().includes(n.toLowerCase()))),u=gt({mutationFn:async d=>{const{error:f}=await ee.from("site_members").insert({site_id:d,user_id:e,role:"partner"});if(f)throw f},onSuccess:()=>{r.invalidateQueries({queryKey:["partner-sites",e]}),r.invalidateQueries({queryKey:["admin-partners"]}),le.success(" ")}}),h=gt({mutationFn:async d=>{const{error:f}=await ee.from("site_members").delete().eq("id",d);if(f)throw f},onSuccess:()=>{r.invalidateQueries({queryKey:["partner-sites",e]}),r.invalidateQueries({queryKey:["admin-partners"]}),le.success(" ")}});return a.jsx("div",{className:"fixed inset-0 bg-black/50 z-[2000] flex items-end md:items-center justify-center",onClick:t,children:a.jsxs("div",{className:"w-full max-w-[500px] bg-card rounded-t-[20px] md:rounded-2xl p-6 max-h-[85vh] overflow-y-auto animate-slide-up",onClick:d=>d.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-[18px] font-[800] text-header-navy",children:"  "}),a.jsx("button",{onClick:t,className:"bg-transparent border-none cursor-pointer",children:a.jsx(_e,{className:"w-5 h-5 text-text-sub"})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"text-[14px] font-bold text-text-sub mb-2",children:["  (",o.length,")"]}),o.length===0?a.jsx("p",{className:"text-[13px] text-muted-foreground",children:"  "}):a.jsx("div",{className:"space-y-2",children:o.map(d=>{var f,p,v,y;return a.jsxs("div",{className:"flex items-center justify-between bg-muted/50 rounded-xl p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ye,{className:"w-4 h-4 text-primary"}),a.jsx("span",{className:"text-[14px] font-bold text-foreground",children:((f=d.sites)==null?void 0:f.name)||""}),a.jsx("span",{className:F("text-[10px] font-bold px-1.5 py-0.5 rounded-full text-white",((p=d.sites)==null?void 0:p.status)===""?"bg-blue-500":((v=d.sites)==null?void 0:v.status)===""?"bg-violet-500":"bg-muted-foreground"),children:(y=d.sites)==null?void 0:y.status})]}),a.jsx("button",{onClick:()=>h.mutate(d.id),className:"text-destructive text-[12px] font-bold bg-transparent border-none cursor-pointer",children:""})]},d.id)})})]}),a.jsxs("div",{className:"border-t border-border pt-4",children:[a.jsx("div",{className:"text-[14px] font-bold text-text-sub mb-2",children:"  "}),a.jsx("input",{value:n,onChange:d=>s(d.target.value),placeholder:" ",className:"w-full h-[44px] bg-card border border-border rounded-xl px-3 text-[14px] font-medium outline-none focus:border-primary mb-3"}),a.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:c.map(d=>a.jsxs("div",{className:"flex items-center justify-between bg-card border border-border rounded-xl p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ye,{className:"w-4 h-4 text-text-sub"}),a.jsx("span",{className:"text-[14px] font-bold text-foreground",children:d.name})]}),a.jsx("button",{onClick:()=>u.mutate(d.id),className:"h-8 px-3 bg-violet-100 text-violet-600 rounded-lg font-bold text-[12px] cursor-pointer active:scale-[0.98]",children:""})]},d.id))})]})]})})}function uT({partner:e,onClose:t}){const{data:r=[]}=bt({queryKey:["partner-deployments-detail",e.user_id],queryFn:async()=>{const{data:n}=await ee.from("partner_deployments").select("*").eq("partner_user_id",e.user_id).order("deploy_date",{ascending:!1}).limit(20);return n||[]}});return a.jsx("div",{className:"fixed inset-0 bg-black/50 z-[2000] flex items-end md:items-center justify-center",onClick:t,children:a.jsxs("div",{className:"w-full max-w-[500px] bg-card rounded-t-[20px] md:rounded-2xl p-6 max-h-[85vh] overflow-y-auto animate-slide-up",onClick:n=>n.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-[18px] font-[800] text-header-navy",children:[e.name," "]}),a.jsx("button",{onClick:t,className:"bg-transparent border-none cursor-pointer",children:a.jsx(_e,{className:"w-5 h-5 text-text-sub"})})]}),a.jsx("div",{className:"bg-muted/50 rounded-xl p-4 mb-4 border border-border/50",children:a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-[14px]",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-text-sub font-medium",children:""}),a.jsx("div",{className:"font-bold text-foreground",children:e.name})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-text-sub font-medium",children:""}),a.jsx("div",{className:"font-bold text-foreground",children:e.affiliation||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-text-sub font-medium",children:""}),a.jsx("div",{className:"font-bold text-foreground",children:e.phone||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-text-sub font-medium",children:" "}),a.jsxs("div",{className:"font-bold text-foreground",children:[e.siteCount,""]})]})]})}),a.jsxs("div",{className:"text-[14px] font-bold text-text-sub mb-2",children:["   (",r.length,")"]}),r.length===0?a.jsx("p",{className:"text-[13px] text-muted-foreground text-center py-4",children:"  "}):a.jsx("div",{className:"space-y-2",children:r.map(n=>a.jsxs("div",{className:"bg-card border border-border rounded-xl p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-[14px] font-bold text-foreground",children:n.site_name}),a.jsx("span",{className:"text-[12px] text-text-sub",children:n.deploy_date})]}),a.jsxs("div",{className:"text-[13px] text-text-sub font-medium",children:[" ",n.people_count," ",n.note&&` ${n.note}`]})]},n.id))})]})})}function dT(){const{isTestMode:e}=Xe(),[t,r]=m.useState(""),[n,s]=m.useState("all"),o=[{id:"d1",title:"  3   ",doc_type:"photo",file_ext:"jpg",site_name:"  ",work_date:"2026-02-23",created_at:"2026-02-23T10:00:00Z",file_url:null},{id:"d2",title:"    v3",doc_type:"drawing",file_ext:"pdf",site_name:" ",work_date:"2026-02-22",created_at:"2026-02-22T14:00:00Z",file_url:null},{id:"d3",title:"    ",doc_type:"cert",file_ext:"pdf",site_name:" ",work_date:"2026-02-21",created_at:"2026-02-21T16:30:00Z",file_url:null},{id:"d4",title:"2026  ",doc_type:"company",file_ext:"pdf",site_name:null,work_date:null,created_at:"2026-02-20T09:00:00Z",file_url:null},{id:"d5",title:"    ",doc_type:"photo",file_ext:"jpg",site_name:" ",work_date:"2026-02-20",created_at:"2026-02-20T11:00:00Z",file_url:null},{id:"d6",title:" T2   ",doc_type:"photo",file_ext:"png",site_name:" T2 ",work_date:"2026-02-19",created_at:"2026-02-19T15:00:00Z",file_url:null},{id:"d7",title:"   ",doc_type:"drawing",file_ext:"dwg",site_name:" ",work_date:"2026-02-18",created_at:"2026-02-18T10:00:00Z",file_url:null},{id:"d8",title:"  ",doc_type:"cert",file_ext:"pdf",site_name:"  ",work_date:"2026-02-17",created_at:"2026-02-17T17:00:00Z",file_url:null}],{data:i=[],isLoading:l}=bt({queryKey:["admin-docs",e],queryFn:async()=>{if(e)return o;const{data:d,error:f}=await ee.from("documents").select("id, title, doc_type, file_ext, site_name, work_date, created_at, file_url").order("created_at",{ascending:!1}).limit(200);if(f)throw f;return d||[]}}),c=m.useMemo(()=>i.filter(d=>{const f=t.toLowerCase(),p=!f||d.title.toLowerCase().includes(f)||(d.site_name||"").toLowerCase().includes(f),v=n==="all"||d.doc_type===n;return p&&v}),[i,t,n]),u=m.useMemo(()=>({total:i.length,photo:i.filter(d=>d.doc_type==="photo").length,drawing:i.filter(d=>d.doc_type==="drawing").length,cert:i.filter(d=>d.doc_type==="cert"||d.doc_type==="completion").length,company:i.filter(d=>d.doc_type==="company").length}),[i]),h={photo:"",drawing:"",cert:"",completion:"",company:"",other:""};return l?a.jsx("div",{className:"py-20 text-center text-muted-foreground",children:" ..."}):a.jsxs("div",{className:"animate-fade-in",children:[a.jsx("h1",{className:"text-xl-app font-[800] text-header-navy mb-1",children:" "}),a.jsx("p",{className:"text-[15px] text-text-sub font-medium mb-5",children:"   "}),a.jsx("div",{className:"grid grid-cols-5 gap-1.5 mb-4",children:[{key:"all",label:"",val:u.total},{key:"photo",label:"",val:u.photo},{key:"drawing",label:"",val:u.drawing},{key:"cert",label:"",val:u.cert},{key:"company",label:"",val:u.company}].map(d=>a.jsxs("button",{onClick:()=>s(d.key),className:F("p-2 rounded-xl text-center border cursor-pointer transition-all active:scale-[0.98]","bg-card border-border",n===d.key&&"ring-2 ring-primary/30 bg-primary/5"),children:[a.jsx("div",{className:"text-[16px] font-[800] text-primary",children:d.val}),a.jsx("div",{className:"text-[10px] font-bold text-text-sub",children:d.label})]},d.key))}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx("input",{value:t,onChange:d=>r(d.target.value),placeholder:"   ",className:"w-full h-[48px] bg-card border border-border rounded-xl pl-4 pr-10 text-[15px] font-medium outline-none focus:border-primary focus:shadow-input-focus"}),t?a.jsx("button",{onClick:()=>r(""),className:"absolute right-3 top-1/2 -translate-y-1/2",children:a.jsx(_e,{className:"w-4 h-4 text-muted-foreground"})}):a.jsx(Rt,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"})]}),c.length===0?a.jsx("div",{className:"text-center py-16 text-muted-foreground",children:" "}):a.jsx("div",{className:"space-y-2",children:c.map(d=>a.jsxs("div",{className:"bg-card rounded-xl shadow-soft p-4 flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(Jt,{className:"w-5 h-5 text-primary"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-[14px] font-bold text-foreground truncate",children:d.title}),a.jsxs("div",{className:"text-[12px] text-text-sub font-medium flex items-center gap-2",children:[a.jsx("span",{className:"bg-muted px-1.5 py-0.5 rounded text-[10px] font-bold",children:h[d.doc_type]||d.doc_type}),d.site_name&&a.jsx("span",{className:"truncate",children:d.site_name}),a.jsx("span",{children:new Date(d.created_at).toLocaleDateString("ko-KR")})]})]}),d.file_ext&&a.jsx("span",{className:"text-[10px] font-bold text-muted-foreground bg-muted px-2 py-1 rounded uppercase flex-shrink-0",children:d.file_ext})]},d.id))})]})}const Iu=[{key:"dashboard",label:"",icon:Xj},{key:"worklog",label:"",icon:Tt},{key:"site",label:"",icon:Ye},{key:"user",label:"",icon:Ka},{key:"partner",label:"",icon:Gl},{key:"doc",label:"",icon:Jt}];function hT(){const{isAdmin:e,loading:t}=As(),r=Qn(),[n,s]=m.useState("dashboard"),[o,i]=m.useState(!1);if(t)return a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:a.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})});if(!e)return a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background gap-4 p-6",children:[a.jsx("div",{className:"text-[48px]",children:""}),a.jsx("h2",{className:"text-xl-app font-[800] text-header-navy",children:"  "}),a.jsx("p",{className:"text-text-sub text-center",children:"  ."}),a.jsx("button",{onClick:()=>r("/"),className:"mt-4 h-12 px-6 bg-primary text-primary-foreground rounded-xl font-bold cursor-pointer",children:" "})]});const l=()=>{switch(n){case"dashboard":return a.jsx(rT,{onNavigate:c=>s(c)});case"worklog":return a.jsx(nT,{});case"site":return a.jsx(sT,{});case"user":return a.jsx(iT,{});case"partner":return a.jsx(lT,{});case"doc":return a.jsx(dT,{})}};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsxs("aside",{className:"hidden md:flex fixed left-0 top-0 bottom-0 w-[240px] bg-card border-r border-border flex-col z-50",children:[a.jsxs("div",{className:"h-[60px] px-5 flex items-center border-b border-border",children:[a.jsx("button",{onClick:()=>r("/"),className:"flex items-center gap-2 bg-transparent border-none cursor-pointer",children:a.jsx(Ns,{className:"w-5 h-5 text-text-sub"})}),a.jsx("span",{className:"text-lg-app font-[800] text-header-navy ml-2",children:" "})]}),a.jsx("nav",{className:"flex-1 py-3 px-3 space-y-1 overflow-y-auto",children:Iu.map(c=>a.jsxs("button",{onClick:()=>s(c.key),className:F("w-full h-[46px] flex items-center gap-3 px-4 rounded-xl text-[15px] font-semibold border-none cursor-pointer transition-all",n===c.key?"bg-primary/10 text-primary font-[800]":"bg-transparent text-text-sub hover:bg-muted"),children:[a.jsx(c.icon,{className:"w-5 h-5 flex-shrink-0"}),c.label]},c.key))}),a.jsx("div",{className:"p-4 border-t border-border",children:a.jsx("div",{className:"text-[12px] text-muted-foreground text-center",children:"INOPNC  v1.0"})})]}),a.jsxs("header",{className:"md:hidden fixed top-0 left-0 right-0 bg-card border-b border-border z-50",children:[a.jsxs("div",{className:"h-[56px] px-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>r("/"),className:"bg-transparent border-none cursor-pointer p-1",children:a.jsx(Ns,{className:"w-5 h-5 text-text-sub"})}),a.jsx("span",{className:"text-lg-app font-[800] text-header-navy",children:" "})]}),a.jsx("button",{onClick:()=>i(!o),className:"bg-transparent border-none cursor-pointer p-1",children:o?a.jsx(_e,{className:"w-6 h-6 text-text-sub"}):a.jsx(kb,{className:"w-6 h-6 text-text-sub"})})]}),a.jsx("nav",{className:"h-[48px] flex items-center gap-0 overflow-x-auto no-scrollbar border-t border-border/50 px-2",children:Iu.map(c=>a.jsxs("button",{onClick:()=>{s(c.key),i(!1)},className:F("h-full flex items-center gap-1.5 px-3 whitespace-nowrap text-[14px] font-bold border-none bg-transparent cursor-pointer transition-colors border-b-2 flex-shrink-0",n===c.key?"text-primary border-b-primary":"text-text-sub border-b-transparent"),children:[a.jsx(c.icon,{className:"w-4 h-4"}),c.label]},c.key))})]}),o&&a.jsxs("div",{className:"md:hidden fixed inset-0 z-[60]",onClick:()=>i(!1),children:[a.jsx("div",{className:"absolute inset-0 bg-black/30"}),a.jsxs("div",{className:"absolute top-0 right-0 w-[260px] h-full bg-card shadow-lg animate-slide-in-right",onClick:c=>c.stopPropagation(),children:[a.jsxs("div",{className:"h-[56px] px-5 flex items-center justify-between border-b border-border",children:[a.jsx("span",{className:"text-lg-app font-[800] text-header-navy",children:""}),a.jsx("button",{onClick:()=>i(!1),className:"bg-transparent border-none cursor-pointer",children:a.jsx(_e,{className:"w-5 h-5 text-text-sub"})})]}),a.jsx("nav",{className:"py-3 px-3 space-y-1",children:Iu.map(c=>a.jsxs("button",{onClick:()=>{s(c.key),i(!1)},className:F("w-full h-[46px] flex items-center gap-3 px-4 rounded-xl text-[15px] font-semibold border-none cursor-pointer transition-all",n===c.key?"bg-primary/10 text-primary font-[800]":"bg-transparent text-text-sub hover:bg-muted"),children:[a.jsx(c.icon,{className:"w-5 h-5 flex-shrink-0"}),c.label]},c.key))})]})]}),a.jsx("main",{className:F("min-h-screen pt-[104px] md:pt-0 md:ml-[240px]","px-4 md:px-8 pb-8 md:py-8"),children:a.jsx("div",{className:"max-w-[960px] mx-auto",children:l()})})]})}const fT=new CN,pT=()=>a.jsx(ON,{client:fT,children:a.jsxs(uN,{children:[a.jsx(K2,{}),a.jsx(Nk,{}),a.jsx($S,{children:a.jsx(x5,{children:a.jsxs(LS,{children:[a.jsx(qt,{path:"/auth",element:a.jsx(X4,{})}),a.jsx(qt,{path:"/reset-password",element:a.jsx(Z4,{})}),a.jsx(qt,{path:"/admin",element:a.jsx(ox,{children:a.jsx(hT,{})})}),a.jsxs(qt,{element:a.jsx(ox,{children:a.jsx(J5,{})}),children:[a.jsx(qt,{path:"/",element:a.jsx(i4,{})}),a.jsx(qt,{path:"/site",element:a.jsx(P4,{})}),a.jsx(qt,{path:"/worklog",element:a.jsx(L4,{})}),a.jsx(qt,{path:"/output",element:a.jsx(B4,{})}),a.jsx(qt,{path:"/doc",element:a.jsx(K4,{})}),a.jsx(qt,{path:"/request",element:a.jsx(Y4,{})})]}),a.jsx(qt,{path:"*",element:a.jsx(eT,{})})]})})})]})});B0(document.getElementById("root")).render(a.jsx(pT,{}));
