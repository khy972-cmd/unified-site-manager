

# INOPNC 통합 건설현장 관리 앱 구현 계획

## 개요
기존 HTML 기반의 INOPNC 건설현장 관리 시스템을 React SPA로 전환하고, Supabase 백엔드를 연동하여 클라우드 기반 통합 앱을 구축합니다. 기존 디자인(Pretendard 폰트, 색상 토큰, 레이아웃)을 100% 유지합니다.

---

## 1단계: 디자인 시스템 및 공통 레이아웃

- **디자인 토큰 이식**: 기존 CSS 변수(--primary: #31a3fa, --header-navy: #1a254f, --bg-body: #f2f4f6 등)를 Tailwind/CSS 변수로 완전 이식
- **Pretendard 폰트** 적용 (40~50대 작업자 가독성 최적화: 17px 기본, 줄간격 1.65)
- **공통 헤더 컴포넌트**: 기존 `inopnc-common-header`를 React 컴포넌트로 재구현
  - 상단바: INOPNC 로고 + 통합검색/확인서/알림/내정보 액션 버튼
  - 탭 네비게이션: 홈, 출력, 일지, 현장, 문서, 본사요청
  - 활성 탭 하이라이트, 알림 뱃지 표시
- **모바일 우선 반응형 레이아웃** (max-width: 600px 기준, PC에서도 사용 가능)

## 2단계: 인증 및 사용자 관리

- **회원가입/로그인** 페이지 (Supabase Auth 기반)
- **프로필 테이블**: 이름, 전화번호, 소속, 사용자명, 이메일
- **역할 관리**: 관리자/작업자 구분 (별도 user_roles 테이블)
  - 관리자: 모든 현장 데이터 접근 가능
  - 작업자: 본인 데이터 및 소속 현장만 접근
- 회원가입 시 프로필 자동 생성 트리거

## 3단계: 홈 페이지 (대시보드)

- 최근 작업일지 요약
- 소속 현장 현황 카드
- 급여 정산 현황
- 알림/공지 영역
- 빠른 접근 버튼 (일지 작성, 현장 조회 등)

## 4단계: 현장 관리 (Site)

- **현장 목록**: 상태별 필터링 (진행중/완료/중지), 검색 기능
- **현장 상세**: 현장명, 주소, 소장명, 기간, 연락처, 위치 정보
- **현장 등록/수정**: 다음 주소 검색 API 연동
- 상태 뱃지 (진행중: 파랑, 대기: 보라, 완료: 회색)

## 5단계: 작업일지 (Worklog)

- **일지 목록**: 날짜별 조회, 현장별 필터링
- **일지 작성**: 날짜, 현장, 작업 내용, 날씨, 투입인원, 도면 첨부
- **상태 관리**: 작성중 → 요청 → 승인/반려 워크플로우
- **이미지/도면 업로드**: Supabase Storage 연동
- PDF 내보내기 기능

## 6단계: 급여 관리 (Output/Money)

- **급여 내역 목록**: 월별/현장별 조회
- **급여 상세**: 금액, 지급일, 정산 상태 (지급/미지급)
- **급여 등록/수정**
- 확인서 생성 기능

## 7단계: 문서함 (Doc)

- **문서 목록**: 유형별 탭 분류
- **문서 업로드**: PDF 파일 업로드 (Supabase Storage)
- **문서 조회**: PDF 미리보기
- 메타데이터 자동 저장

## 8단계: Supabase 백엔드 구성

- **데이터베이스 테이블**: profiles, sites, work_logs, salaries, documents, user_roles
- **RLS 정책**: 인증된 사용자만 접근, 역할 기반 데이터 접근 제어
- **Storage 버킷**: 도면/이미지용, 문서(PDF)용
- **트리거**: 회원가입 시 프로필 자동 생성

---

### 기술 핵심
- 기존 CSS 디자인 토큰 100% 보존 (색상, 폰트, 간격, 그림자)
- Lucide 아이콘 라이브러리 (기존과 동일)
- 모바일 우선 UI (max-width 600px 기반)
- Supabase Auth + Database + Storage 통합

